Creator of the [[Phantom]] MVS to AES converter.

Manufacturer of home cartridges, using original chips from MVS cartridges and custom-made PCBs.

It's a [[multicarts|multicart]] !

Binary code to set on the ribbon cable to select which game to start (infos from Fandangos):

{|
|
{|class="wikitable sortable"
!Title!!Binary!!Decimal
|-
|3 Count Bout||00101101||45
|-
|Aero Fighters 2||01100011||99
|-
|Aero Fighters 3||01100100||100
|-
|Alpha Mission 2||10000111||135
|-
|Andro Dunos||01100001||97
|-
|Art of Fighting 2||00110001||49
|-
|Art of Fighting 3||00110010||50
|-
|Bang Bead||01111001||121
|-
|Baseball Starts 2||01111000||120
|-
|Blazing Star||01011111||95
|-
|Blue's Journey||10000010||130
|-
|Bomberman Panic Bomber||01101100||108
|-
|Breakers||00101110||46
|-
|Breakers Revenge||00100011||35
|-
|Burning Fight||10000000||128
|-
|Captain Tomaday||01100010||98
|-
|Crouching Tiger Hidden Dragon 2003||00000110||6
|-
|Crouching Tiger Hidden Dragon 2003 Super Plus||00011100||28
|-
|Cyber-Lip||10000101||133
|-
|Double Dragon||00101111||47
|-
|Double Dragon Plus||00010011||19
|-
|Eightman||01000111||71
|-
|Fighter's History Dynamite||00100110||38
|-
|Ganryu||01000110||70
|-
|Garou: Mark of The Wolves||00001101||13
|-
|Garou: Mark of The Wolves Plus||00011111||31
|-
|Ghost Pilots||10000110||134
|-
|Ghostlop||01101110||110
|-
|Goal! Goal! Goal!||01110101||117
|-
|Kabuki Klash||00100101||37
|-
|Kabuki Klash Far East of Eden||00110000||48
|-
|King of Gladiator||00001001||9
|-
|Lansquenet||01000100||68
|-
|Last Resort||01100000||96
|-
|League Bowling||10001001||137
|-
|Magical Drop II||01101001||105
|-
|Magical Drop III||01101010||106
|-
|Metal Slug||00111011||59
|-
|Metal Slug 2||00111100||60
|-
|Metal Slug 2 Plus||01001110||78
|-
|Metal Slug 3||00111110||62
|-
|Metal Slug 3 Plus||01010000||80
|-
|Metal Slug 4||00111111||63
|-
|Metal Slug 4 Plus||01010001||81
|-
|Metal Slug 5||01000000||64
|-
|Metal Slug 5 Plus||01010010||82
|-
|Metal Slug 6||01000001||65
|-
|Metal Slug 6 Plus||01010011||83
|-
|Metal Slug Plus||01001101||77
|-
|Money Puzzle Exchanger||01101101||109
|-
|Mutation Nation||10000011||131
|-
|Nam-1975||10000001||129
|-
|Neo Bomberman||01010100||84
|-
|Neo DriftOut||01111110||126
|-
|Neo Mr. Do!||01111111||127
|-
|Neo Turf Masters||01110111||119
|-
|NeoGeo Cup 98||01110011||115
|-
|Nightmare In The Dark||01010110||86
|-
|Ninja Combat||10000100||132
|-
|Ninja Commando||01011010||90
|-
|Ninja Master's||00100111||39
|-
|Over Top||01111101||125
|-
|Pop n'Bounce||01101011||107
|-
|Power Spikes II||01111011||123
|-
|Pre Historic Isle 2||01011110||94
|-
|Puzzle Bobble||01100110||102
|-
|Puzzle Bobble 2||01100111||103
|-
|Puzzle de Pon!||01001111||79
|-
|Puzzle de Pon!||01101000||104
|-
|Puzzled||10001000||136
|-
|Q Double Dragon||00100010||34
|-
|Rage of Dragons||00010010||18
|-
|Rage of Dragons Plus||00100000||32
|-
|Robo Army||01001001||73
|-
|Samurai Shodown II||00101000||40
|-
|Samurai Shodown II Plus||00110011||51
|-
|Samurai Shodown III||00101001||41
|-
|Samurai Shodown III Plus||00110100||52
|-
|Samurai Shodown IV||00101010||42
|-
|Samurai Shodown IV Plus||00110101||53
|-
|Samurai Shodown V Special||00010000||16
|-
|Sengoku||01010111||87
|-
|Sengoku 2||01011000||88
|-
|Sengoku 3||01011001||89
|-
|Sengoku 3 Plus||01001011||75
|-
|ShockTroopers||01000010||66
|-
|ShockTroopers 2nd Squad||01000011||67
|-
|Snk vs Capcom Remix Ultra||00111010||58
|-
|Spin Master||01000101||69
|-
|Spin Master Plus||01001010||74
|-
|Street Fighter vs Capcom Chaos Plus||00001100||12
|-
|Street Hoop||01110110||118
|-
|Strikers 1945 Plus||00111101||61
|-
|Strikers 1945 Plus||01011101||93
|-
|Super Dodge Ball||01111010||122
|-
|Super Sidekicks||01101111||111
|-
|Super Sidekicks 2||01110000||112
|-
|Super Sidekicks 3||01110001||113
|-
|Super Sidekicks 4 The Ultimate 11||01110010||114
|-
|Takon Matrimelee||00010001||17
|-
|The King of Fighters 10th Anniversay||00011110||30
|-
|The King of Fighters 10th Anniversay Extra Plus||00111001||57
|-
|The King of Fighters 2001||00000100||4
|-
|The King of Fighters 2001 Plus||00011010||26
|-
|The King of Fighters 2002||00000101||5
|-
|The King of Fighters 2002 Magic II||00000000||0
|-
|The king of Fighters 2002 Magic Plus||00011011||27
|-
|The King of Fighters 2002 Super||00001010||10
|-
|The King of Fighters 2004 SE Plus||00011101||29
|-
|The King of Fighters 2004 SP||00000111||7
|-
|The king of Fighters 2005 Unique||00001011||11
|-
|The king of Fighters 2005 Unique II||00001000||8
|-
|The King of Fighters 94||00010100||20
|-
|The King of Fighters 95||00010101||21
|-
|The King of Fighters 95 Plus||00110110||54
|-
|The King of Fighters 96||00010110||22
|-
|The King of Fighters 96 Plus||00110111||55
|-
|The King of Fighters 97||00000001||1
|-
|The king of Fighters 97 Plus||00010111||23
|-
|The king of Fighters 97 Plus||00111000||56
|-
|The King of Fighters 98||00000010||2
|-
|The King of Fighters 98 The Slugfest||00011000||24
|-
|The King of Fighters 99||00000011||3
|-
|The King of Fighters 99 Remix Pro||00011001||25
|-
|The Last Blade||00001110||14
|-
|The Last Blade 2||00001111||15
|-
|The Last Blade 2 Plus||00100001||33
|-
|Top Hunter||01001100||76
|-
|Trash Rally||01111100||124
|-
|Twinkle Star Sprites||01011011||91
|-
|Viewpoint||01011100||92
|-
|Waku Waku 7||00100100||36
|-
|World Heroes 2||00101011||43
|-
|World Heroes 2 Jet||01001000||72
|-
|World Heroes Perfect||00101100||44
|-
|World Soccer 96||01110100||116
|-
|Zed Blade||01100101||101
|-
|Zupapa!||01010101||85
|}

[[Category:Cartridge systems]]
[[Category:Games]]

Relatively recent [[multicarts|multicart]] with a software menu. 
At least 2 versions of this cart exists.


=Version 1=
===Boards===

[[File:55lv100s.png|thumb|55LV100S draft pinout]]

Uses a bunch of uncommon Fujitsu SSOP70 55LV100S 128MB flash chips, which some say were salvaged from other arcade machines.

* 3 for P (384MB)
* 5 for V (640MB)
* 16 for C (2GB)
* 1 for S
* 1 for M

===PROG board===

*UP1: EPM3256 CPLD for [[P ROM]] and mcu control. Full 68k address and data bus connected. Address bus for the P ROMs comes only from the CPLD. Connected to RESET, PORTWE, PORTOE, ROMOE, AS, RW. JTAG port is JP1.

*UV1: EPM3256 CPLD for [[V ROM]] bankswitching and {{Chipname|PCM}} replacement. JTAG port is JV1.

*U3: Microcontroller (sanded-off PIC ?). 5V-powered, 8bit input bus (3.3V pullups in SIL array) and 8bit output bus to UP1. Not present on earlier multicarts of the same origin with less games. Programming port is J8.

===CHA board===

Another EPM3256 CPLD for the [[C ROM|C]], [[S ROM|S]] and [[M1 ROM|M]] ROMs. A smaller CPLD is used to replace {{Chipname|NEO-ZMC}}.

Uses a daughterboard with 14 flash chips. Lots of unused footprints for additional chips.


=Version 2=
This version still uses salvaged memory chips from Excite pachislots, with strange adapter legs.
[[File:MVS 161-in-1-memory.jpg|thumb|left|MVS 161-in-1 version 2 - memory chip]]
&lt;br clear="all" />


===Boards===
&lt;gallery>
File:MVS-161-in-1-v2.jpg|thumb|MVS 161-in-1 version 2
File:MVS-161-in-1-v2-PROG-top.jpg|thumb|MVS 161-in-1 version 2 - PROG top
File:MVS-161-in-1-v2-PROG-bottom.jpg|thumb|MVS 161-in-1 version 2 - PROG bottom
File:MVS-161-in-1-v2-CHA-top.jpg|thumb|MVS 161-in-1 version 2 - CHA top
File:MVS-161-in-1-v2-CHA-bottom.jpg|thumb|MVS 161-in-1 version 2 - CHA bottom
&lt;/gallery>

===Version 2 design flaw / stability fix===
Version 2 has a design flaw compared to version 1 which causes instability espicially on the MV-4F where it will not really work at all. Comparing version 1 to version 2 PCB's it was noticed version 1 PROG boards (solder side) has pins PDWAIT1 and PDTACK bridged, this bridge is missing on version 2 PCBs.

Adding the bridge between these pins allows version 2 to work correctly on the MV-4F and probably makes it more stable on other MVS hardware also. See pictures below.
&lt;gallery>
File:161in1-rev1.jpg|thumb|MVS 161-in-1 version 1 - PROG bottom
File:161in1-rev2.jpg|thumb|MVS 161-in-1 version 2 - PROG bottom
File:161in1-rev2fix.jpg|thumb|MVS 161-in-1 version 2 - PROG bottom fixed
&lt;/gallery>



=Version 3=
This version still uses salvaged memory chips from Excite pachislots and board very close to the version 2.

Comparison with previous versions:
* There is a bridge between PDWAIT1 and PDTACK, it was missing in version 2.
* A lot of capacitor were added


===Boards===
&lt;gallery>
File:161in1-v3-prog-top.jpg|thumb|MVS 161-in-1 version 3 - PROG top
File:161in1-v3-prog-bottom.jpg|thumb|MVS 161-in-1 version 3 - PROG bottom
File:161in1-v3-cha-top.jpg|thumb|MVS 161-in-1 version 3 - CHA top
File:161in1-v3-cha-bottom.jpg|thumb|MVS 161-in-1 version 3 - CHA bottom
&lt;/gallery>
Source: https://www.neogeo-system.com/t7269p50-tuto-modification-mvs-cartouche-161in1-v2#273842


=Version 4=
This version still uses salvaged memory chips from Excite pachislots, with strange adapter legs. Holes have been made in main boards so the memory chips can be resoldered.

Comparison with previous versions:
* There is a bridge between PDWAIT1 and PDTACK, it was missing in version 2.
* Capacitor slots are all populated
* Micro-controller is not sanded. The model is STC11F08XE-35I-LQFP44.

&lt;br clear="all" />

===Boards===
&lt;gallery>
File:161in1-v4-prog-top.jpg|thumb|MVS 161-in-1 version 4 - PROG top
File:161in1-v4-prog-bottom.jpg|thumb|MVS 161-in-1 version 4 - PROG bottom
File:161in1-v4-cha-top.jpg|thumb|MVS 161-in-1 version 4 - CHA top
File:161in1-v4-cha-bottom.jpg|thumb|MVS 161-in-1 version 4 - CHA bottom
File:161in1-v4-bridge.jpg|thumb|MVS 161-in-1 version 4 bridge
&lt;/gallery>

=Programming (Version 1 / Version 2)=

Infos by [[User:Razoola|Razoola]].

Games have their [[68k interrupts|v-blank]] interrupt code patched to allow going back to the game list menu by holding 1UP start down for 5 seconds. This button check however is quite flawed given it tests the entire byte of REG_STATUS_B and not bit 0 only. The result of this oversight by the coders means the game list menu will not reappear if running on AES hardware (via converter), if a memory card is present, or either 1UP select, 2UP start or 2UP select is also pressed. 

Address [[68k memory map|0x2FFFE0]] (word) is used to communicate with the mcu for storage and retrieval of the game's [[software DIPs]] settings and the menu's current position.

Game selection is done through a set of 5 registers; 0x2FFFF0, 0x2FFFF2, 0x2FFFF4, 0x2FFFF6 and 0x2FFF00 (in that order). Each game is identified by a single word value (hex format) which is its position in the game list, KOF99 is 0x0015 for example. What is currently known about these registers is as follows;

[[68k memory map|0x2FFFF0]]
*0x0F0F is always written by the UI but testing seems to show any value will have the same effect.
*Prep MCU to receive game change info (must be written first).

[[68k memory map|0x2FFFF2]]
*Number of game to be selected always written by the UI.
*purpose unknown
 
[[68k memory map|0x2FFFF4]]
*Number of game to be selected always written by the UI.
*purpose unknown

[[68k memory map|0x2FFFF6]]
*Number of game to be selected always written by the UI.
*Purpose unknown but a value must be written!

[[68k memory map|0x2FFF00]]
*Number of game to be selected always written by the UI.
*Swaps ROM regions to new game (must be written).

Some notes about game swapping.

*To get back into the 161-in-1 game list the game number is set to 0x0000.
*Looking at Art of Fighting 2, register 0x2FFFF4 is not used when jumping back to the game list (unsure if this is true for all games).
*ROM regions (P,S,F,M and V) switch to the game based on the value written to 0x2FFF00 regardless of the values written to either 0x2FFFF2, 0x2FFFF4 or 0x2FFFF6.
*A game can be chosen by writing to registers 0x2FFFF0, 0x2FFFF6 and 0x2FFF00 only. Unknown if all games would function correctly however (lots of play testing required).
*No way is currently known to instruct the cart to configure a single ROM region to a different game than whats held in the other regions. Based on what is known already this is probably not possible unless there are registers unused by the UI coding that can be used to instruct the MCU to do it.


=Known Game Issues (Version 1 / Version 2)=

*&lt;b>Aero Fighters 2&lt;/b> - Will not play correctly unless in Japanese region (button check code inserted into ROM over game data).
*&lt;b>Magical Drop II&lt;/b> - Hiscore table is broken when drawn to screen (the start button trigger timer var stored at 0x10FF20, a region used by the game and MESS_OUT). This issue may affect other games also.
*&lt;b>Magical Drop III&lt;/b> - Hiscore table is broken when drawn to screen (the start button trigger timer var stored at 0x10FF20, a region used by the game and MESS_OUT). This issue may affect other games also.
*&lt;b>Blue's Journey&lt;/b> - Game will not have sound until system soft reset (probably due to corrupted Z80 ROM image).
*&lt;b>Puzzle Bobble 2&lt;/b> - Can causes crash when selected from the game list. Looks dependant on MVS type (happens on my MV-1FS but not MV-1FT). The game works correctly once a soft reset is done after the crash.
*&lt;b>Alpha Mission II&lt;/b> - Game name displayed in the testmode softdip settings screen is byte flipped (stored incorrectly in the carts game name tables).
*&lt;b>Metal Slug 3&lt;/b> - Has NGH of 0x299 (mslug6 hack). When in USA region the 'parental advisory warning' screen is corrupted. When set to Japanese language (softDIP) the Japanese how to play font is corrupted.
*&lt;b>Garou MOTW&lt;/b> - Will crash when preforming Kim's B+C top attack, this due to 161-in-1 using the prototype version of the game.

There are probably other game issues also.

=Series 1 Game List (Version 1 / Version 2)=

{|
|
{|class="wikitable sortable"
!Number!!Number (hex)!!Game Title
|-
|001||0x0001||SNK VS CAPCOM + 
|-
|002||0x0002||SNK VS CAPCOM RMX 
|-
|003||0x0003||SVC SUPER PLUS 
|-
|004||0x0004||KING OF FIGHTERS 94 
|-
|005||0x0005||KING OF FIGHTERS 94 + 
|-
|006||0x0006||KING OF FIGHTERS 95 
|-
|007||0x0007||KING OF FIGHTERS 95 +
|-
|008||0x0008||KING OF FIGHTERS 96 
|-
|009||0x0009||KING OF FIGHTERS 96 +
|-
|010||0x000A||KING OF FIGHTERS 96 EVO
|-
|011||0x000B||KING OF FIGHTERS 97
|-
|012||0x000C||KING OF FIGHTERS 97 2003
|-
|013||0x000D||KING OF FIGHTERS 97 REMIX
|-
|014||0x000E||KING OF FIGHTERS 97 PLUS
|-
|015||0x000F||KING OF GLADIATOR
|-
|016||0x0010||KING OF GLADIATOR PLUS
|-
|017||0x0011||KING OF FIGHTERS 98
|-
|018||0x0012||KING OF FIGHTERS 98 +
|-
|019||0x0013||KING OF FIGHTERS 98 ULTIMATE
|-
|020||0x0014||KING OF FIGHTERS 98 OROCHI
|-
|021||0x0015||KING OF FIGHTERS 99
|-
|022||0x0016||KING OF FIGHTERS 99 +
|-
|023||0x0017||KING OF FIGHTERS 99 CN
|-
|024||0x0018||KING OF FIGHTERS 2001 
|-
|025||0x0019||KING OF FIGHTERS 2001 PLUS
|-
|026||0x001A||C.T.H.D 
|-
|027||0x001B||C.T.H.D SUPER PLUS 
|-
|028||0x001C||KING OF FIGHTERS 2002 
|-
|029||0x001D||KING OF FIGHTERS 2002 MAGIC
|-
|030||0x001E||KING OF FIGHTERS 2002 MAGIC 2
|-
|031||0x001F||KING OF FIGHTERS 2002 CN 
|-
|032||0x0020||KING OF FIGHTERS 2002 OROCHI
|-
|033||0x0021||KING OF FIGHTERS 2002 LUAN
|-
|034||0x0022||KING OF FIGHTERS 2002 SUPER 
|-
|035||0x0023||KING OF FIGHTERS 2002 SUPER 2
|-
|036||0x0024||KING OF FIGHTERS 2003 
|-
|037||0x0025||KING OF FIGHTERS 2004 SE PLUS
|-
|038||0x0026||KING OF FIGHTERS 2004 SE 
|-
|039||0x0027||KING OF FIGHTERS 2004 SMP 
|-
|040||0x0028||KING OF FIGHTERS 10TH 
|-
|041||0x0029||KING OF FIGHTERS 05 UNIQUE
|-
|042||0x002A||KING OF FIGHTERS 05 UNIQUE 2 
|-
|043||0x002B||KING OF FIGHTERS 10TH EXTRA +
|-
|044||0x002C||RAGE OF DRAGONS
|-
|045||0x002D||RAGE OF DRAGONS +
|-
|046||0x002E||STRIKERS 1945 + 
|-
|047||0x002F||STRIKERS 1945 + + 
|-
|048||0x0030||AERO FIGHTERS 2
|-
|049||0x0031||AERO FIGHTERS 3
|-
|050||0x0032||METAL SLUG
|-
|051||0x0033||METAL SLUG +
|-
|052||0x0034||METAL SLUG 2
|-
|053||0x0035||METAL SLUG 2 + 
|-
|054||0x0036||METAL SLUG 3
|-
|055||0x0037||METAL SLUG 3 + 
|-
|056||0x0038||METAL SLUG 4
|-
|057||0x0039||METAL SLUG 4 +
|-
|058||0x003A||METAL SLUG X
|-
|059||0x003B||METAL SLUG X +
|-
|060||0x003C||METAL SLUG 6 
|-
|061||0x003D||METAL SLUG 6 +
|-
|062||0x003E||SUPER SIDEKICKS 2
|-
|063||0x003F||SUPER SIDEKICKS 3
|-
|064||0x0040||ULTIMATE 11 
|-
|065||0x0041||NEO-GEO CUP 98 
|-
|066||0x0042||PLEASURE GOAL
|-
|067||0x0043||SAMURAI SHODOWN 
|-
|068||0x0044||SAMURAI SHODOWN + 
|-
|069||0x0045||SAMURAI SHODOWN 2 
|-
|070||0x0046||SAMURAI SHODOWN 2+
|-
|071||0x0047||SAMURAI SHODOWN 3
|-
|072||0x0048||SAMURAI SHODOWN 3+
|-
|073||0x0049||FIGHTERS SWORDS
|-
|074||0x004A||SAMURAI SHODOWN 4
|-
|075||0x004B||SAMURAI SHODOWN 4+
|-
|076||0x004C||SAMURAI V SPECIAL 
|-
|077||0x004D||MATRIMELEE 
|-
|078||0x004E||MATRIMELEE + 
|-
|079||0x004F||SENGOKU 
|-
|080||0x0050||SENGOKU 3
|-
|081||0x0051||SENGOKU 3 +  
|-
|082||0x0052||LAST BLADE 
|-
|083||0x0053||LAST BLADE + 
|-
|084||0x0054||THE LAST SOLDIER 
|-
|085||0x0055||LAST BLADE 2 
|-
|086||0x0056||LAST BLADE 2 + 
|-
|087||0x0057||LAST BLADE 2 EASY 
|-
|088||0x0058||MARK OF THE WOLVES 
|-
|089||0x0059||MARK OF WOLVES + 
|-
|090||0x005A||DOUBLE DRAGON 
|-
|091||0x005B||DOUBLE DRAGON + 
|-
|092||0x005C||NIGHTMARE 
|-
|093||0x005D||NIGHTMARE SP 
|-
|094||0x005E||SPIN MASTER 
|-
|095||0x005F||SPIN MASTER + 
|-
|096||0x0060||FAR EAST OF EDEN 
|-
|097||0x0061||LEGEND SUCCESS JOE 
|-
|098||0x0062||ART OF FIGHTING 2 
|-
|099||0x0063||ART OF FIGHTING 2+ 
|-
|100||0x0064||KARNOV'S REVENGE
|-
|101||0x0065||KARNOV’S REVENGE + 
|-
|102||0x0066||LANSQUENET 2004 
|-
|103||0x0067||SHOCK TROOPERS 2ND 
|-
|104||0x0068||PUZZLE BOBBLE 
|-
|105||0x0069||PUZZLE BOBBLE 2 
|-
|106||0x006A||PANIC BOMBER 
|-
|107||0x006B||STREET HOOP 
|-
|108||0x006C||NEO BOMBERMAN 
|-
|109||0x006D||ZUPAPA 
|-
|110||0x006E||BLAZING STAR 
|-
|111||0x006F||NINJA COMMANDO 
|-
|112||0x0070||OVER TOP 
|-
|113||0x0071||PULSTAR 
|-
|114||0x0072||TOP HUNTER 
|-
|115||0x0073||GANRYU 
|-
|116||0x0074||EIGHT MAN 
|-
|117||0x0075||MUTATION NATION 
|-
|118||0x0076||BASEBALL STARS 2 
|-
|119||0x0077||ALPHA MISSION 2 
|-
|120||0x0078||PRE ISLE 2 
|-
|121||0x0079||THRASH RALLY 
|-
|122||0x007A||ANDRO DUNOS 
|-
|123||0x007B||CAPTAIN TOMADAY 
|-
|124||0x007C||ZED BLADE
|-
|125||0x007D||BANG BEAD
|-
|126||0x007E||NEO DRIFT OUT
|-
|127||0x007F||NEO TURF MASTERS 
|-
|128||0x0080||3 COUNT BOUT
|-
|129||0x0081||BURNING FIGHT 
|-
|130||0x0082||LAST RESORT
|-
|131||0x0083||NEO MR. DO!
|-
|132||0x0084||ROBO ARMY
|-
|133||0x0085||PUZZLE DE PON
|-
|134||0x0086||MAGICAL DROP 2
|-
|135||0x0087||FATAL FURY 1
|-
|136||0x0088||MASTER OF SYOUGI 
|-
|137||0x0089||VIEWPOINT
|-
|138||0x008A||WORLD HEROES 2 
|-
|139||0x008B||SOCCER BRAWL
|-
|140||0x008C||BREAKERS 
|-
|141||0x008D||BREAKERS REVENGE
|-
|142||0x008E||BATTLE FLIP SHOT 
|-
|143||0x008F||2020 SUPER BASEBALL 
|-
|144||0x0090||WORLD HEROES
|-
|145||0x0091||MONEY PUZZLE EXCH
|-
|146||0x0092||KING OF MONSTERS
|-
|147||0x0093||FOOTBALL FRENZY
|-
|148||0x0094||BLUE‘S JOURNEY
|-
|149||0x0095||CROSSED SWORDS
|-
|150||0x0096||STAKES WINNER
|-
|151||0x0097||STAKES WINNER 2
|-
|152||0x0098||PUZZLE DE PON! R!
|-
|153||0x0099||KING OF FIGHTERS 2003 CHANGE
|-
|154||0x009A||SUPER DODGE BALL
|-
|155||0x009B||MAGICAL DROP III
|-
|156||0x009C||SAVAGE REIGN
|-
|157||0x009D||KIZUNA ENCOUNTER
|-
|158||0x009E||KING OF FIGHTERS 2002 ICE-BLUE
|-
|159||0x009F||KING OF FIGHTERS 97 PJ
|-
|160||0x00A0||KING OF FIGHTERS 97 YL
|-
|161||0x00A1||KING OF FIGHTERS 97 CR
|}

[[Category:Cartridge systems]]
[[Category:Games]]

{{GameInfo|right
|en_title=2020 Super Baseball
|jp_title=2020 Super Baseball
|jp_title2=2020年スーパーベースボール
|developer=SNK / Pallas
|ngh_id=030
|megcount=46
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=2020bb
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=yes
|aes_release_jp=y
|aes_release_en=y
|aes_date=25/10/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=25/2/95
}}

==Strings==

&lt;pre>
LIBCOL VERSION1.11A

NEO GEO : VERSION 1.02C
COPYRIGHT 1991 SNK CORPORATION.
SYSTEM 
READY.
COMMAND : 
SUPER BASEBALL
RESET
NEO GEO : VERSION 1.32X
COPYRIGHT 1991 SNK CORPORATION.
SYSTEM 
READY.
COMMAND : 
SUPER BASEBALL
RESET
TEAM           1991
GALAPAGOS
&lt;/pre>

[[Category:Games]]

#REDIRECT [[2020_Super_Baseball]]

{{GameInfo|right
|en_title=3 Count Bout 
|jp_title=Fire Suplex
|jp_title2=ファイヤー・スープレックス
|developer=SNK
|ngh_id=043
|megcount=106
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=3countb
|mvs_date=1993
|mvs_pchip=
|mvs_pboard=PROG_4096
|mvs_cboard=CHA_42G-2
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=3countb
|aes_date=23/04/93
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=21/04/95
}}


[[Category:Games]]

#REDIRECT [[3 Count Bout]]

[[File:4558.png|right|150px|thumb]]

The 4558 is a dual high-gain operational amplifier  chip commonly found as JRC 4558D or DA4558.
&lt;p>This opamp is used in some [[MVS hardware|MVS]] and in some [[AES hardware|AES]] for the [[Audio_path_schematics|audio system]].&lt;/p>
&lt;p>On some boards this is replaced with a [[4741]] opamp.&lt;/p>
&lt;p>Found in DILP-8 packages.&lt;/p>

==Pinout==

[[File:4558sch.png]]

[[Category:Chips]]

[[File:4741.png|right|thumb]]

The 4741 is a quad high-gain operational amplifier  chip commonly found as upc458c or upc4741.
&lt;p>This opamp is used in some [[AES hardware|AES]] for the [[Audio_path_schematics|audio system]].&lt;/p>
&lt;p>On some boards this is replaced with two [[4558]] opamps.&lt;/p>
&lt;p>Found in DILP-14 packages.&lt;/p>

==Pinout==

[[File:4741sch.png|300px]]

[[Category:Chips]]

#REDIRECT [[68k]]

Communication between the {{Chipname|68k}} CPU and the {{Chipname|Z80}} CPU is done through 2 byte-wide registers.

There is no shared memory zone like in the Sega Genesis/Megadrive.

=68k to Z80 (request)=

Writes to the Z80 are done through {{Reg|REG_SOUND}}.
Any byte can be sent, the meaning of it is only determined by the way the [[M1 ROM|Z80 code]] handles it (except for '''3 special cases''', as seen below).

When a byte is sent, the corresponding value is latched in {{Chipname|NEO-C1}} ({{Chipname|NEO-SUD}} in CD systems ?), and an [[Z80 interrupts|NMI]] is triggered in the Z80 if enabled. The value can then be read on the Z80's side with [[Z80 port map|port $00]].

(What chip is used on first gen chipset ?)

=Z80 to 68k (reply)=

The Z80's port $0C is used to reply to the 68k. The value is also buffered in the same chip, but no interrupt is generated.
The value can be read on the 68k's side by using the same register, {{Reg|REG_SOUND}}.

Many [[sound driver]]s acknowledge sound commands by echoing them back with bit 7 set to 1 when they are processed.

=Special commands=
Commands $01, $02 and $03 are always expected to be implemented in the Z80 code, as they are used by the [[system ROM]] for initialization purposes.
During the MVS power up [[system_self-test|self-tests]], if the Z80 doesn't reply to command $01 in time, the "[[Z80 ERROR]]" message is displayed and the system locks up.

==Command $01: Prepare switch==
It is sent by the system ROM just before the [[slot]] is switched. As the {{Chipname|M1 ROM}} has to be swapped, all sounds need to be stopped, interrupts need to be enabled, $01 needs to be sent back to the 68k and the Z80 has to wait in a loop '''in RAM'''. After receiving the reply, the system ROM can then switch slots without crashing the Z80.

==Command $02: Play eyecatcher music==
It is used in cartridge systems to play the [[eyecatcher]] music. See [[boot music]]. No reply is expected.

==Command $03: Reset==
It is used to ask for a soft reset of the Z80, which needs to be done under 100ms as per SNK's recommendation. No reply is expected.

=Minimal command handlers=
These are sufficient handlers for both init commands:

&lt;pre>
Command01_Handler:
        di			; Disable interrupts
        xor  a
        out  ($0C),a            ; Clear both buffers
        out  ($00),a
        ; Silence YM2610 here
        ld   sp,$FFFC           ; Reset SP
        ld   hl,stayinram
        push hl
        retn                    ; RETN to stayinram

stayinram:
        ld   hl,$FFFD
        ld   (hl),$C3	        ; (FFFD)=$C3, opcode for JP
        ld   ($FFFE),hl	        ; (FFFE)=$FFFD (makes "JP FFFD")
        ei
        ld   a,$01
        out  ($0C),a            ; Tell 68k that we're ready
        jp   $FFFD              ; Quickly jump to RAM loop
&lt;/pre>

&lt;pre>
Command03_Handler:
	di			; Disable interrupts
	ld   sp,$FFFF		; Clear call stack
	ld   hl,0
	push hl
	retn			; RETN to 0
&lt;/pre>

[[Category:Audio system]]
[[Category:Code]]

Here are assembly defines/aliases for memory locations and constants. For detailed descriptions, see [[Memory mapped registers]].

These can be copied into a file and included in your assembly project to use register names instead of their (meaningless) addresses.

&lt;syntaxhighlight>
;Hard DIPs:
DIPSW_SETTINGS  equ 0
DIPSW_CHUTES    equ 1
DIPSW_CTRL      equ 2
DIPSW_ID0       equ 3
DIPSW_ID1       equ 4
DIPSW_MULTI     equ 5
DIPSW_FREEPLAY  equ 6
DIPSW_FREEZE    equ 7

;VRAM zones:
SCB1            equ $0000   ;Sprite tilemaps
FIXMAP          equ $7000
SCB2            equ $8000   ;Sprite shrink values
SCB3            equ $8200   ;Sprite Y positions, heights and flags
SCB4            equ $8400   ;Sprite X positions

;Basic colors:
BLACK           equ $8000
MIDRED          equ $4700
RED             equ $4F00
MIDGREEN        equ $2070
GREEN           equ $20F0
MIDBLUE         equ $1007
BLUE            equ $100F
MIDYELLOW       equ $6770
YELLOW          equ $6FF0
MIDMAGENTA      equ $5707
MAGENTA         equ $5F0F
MIDCYAN         equ $3077
CYAN            equ $30FF
ORANGE          equ $6F70
MIDGREY         equ $7777
WHITE           equ $7FFF

;Zones:
RAMSTART        equ $100000   ;68k work RAM
PALETTES        equ $400000   ;Palette RAM
BACKDROP        equ PALETTES+(16*2*256)-2
MEMCARD         equ $800000   ;Memory card
SYSROM          equ $C00000   ;System ROM

;Registers:
REG_P1CNT       equ $300000
REG_DIPSW       equ $300001   ;Dipswitches/Watchdog
REG_SOUND       equ $320000   ;Z80 I/O
REG_STATUS_A    equ $320001
REG_P2CNT       equ $340000
REG_STATUS_B    equ $380000
REG_POUTPUT     equ $380001   ;Joypad port outputs
REG_SLOT        equ $380021   ;Slot select

REG_NOSHADOW    equ $3A0001   ;Video output normal/dark
REG_SHADOW      equ $3A0011
REG_BRDFIX      equ $3A000B   ;Use embedded fix tileset
REG_CRTFIX      equ $3A001B   ;Use game fix tileset
REG_PALBANK1    equ $3A000F   ;Use palette bank 1
REG_PALBANK0    equ $3A001F   ;Use palette bank 0 (default)

REG_VRAMADDR    equ $3C0000
REG_VRAMRW      equ $3C0002
REG_VRAMMOD     equ $3C0004
REG_LSPCMODE    equ $3C0006
REG_TIMERHIGH   equ $3C0008
REG_TIMERLOW    equ $3C000A
REG_IRQACK      equ $3C000C
REG_TIMERSTOP   equ $3C000E

;System ROM calls:
SYS_INT1          equ $C00438
SYS_RETURN        equ $C00444
SYS_IO            equ $C0044A
SYS_CREDIT_CHECK  equ $C00450
SYS_CREDIT_DOWN   equ $C00456
SYS_READ_CALENDAR equ $C0045C   ;MVS only
SYS_CARD          equ $C00468
SYS_CARD_ERROR    equ $C0046E
SYS_HOWTOPLAY     equ $C00474   ;MVS only
SYS_FIX_CLEAR     equ $C004C2
SYS_LSP_1ST       equ $C004C8   ;Clear sprites
SYS_MESS_OUT      equ $C004CE

;RAM locations:
BIOS_SYSTEM_MODE  equ $10FD80
BIOS_MVS_FLAG     equ $10FD82
BIOS_COUNTRY_CODE equ $10FD83
BIOS_GAME_DIP     equ $10FD84   ;Start of soft DIPs settings (up to $10FD93)

;Set by SYS_IO:
BIOS_P1STATUS   equ $10FD94
BIOS_P1PREVIOUS equ $10FD95
BIOS_P1CURRENT  equ $10FD96
BIOS_P1CHANGE   equ $10FD97
BIOS_P1REPEAT   equ $10FD98
BIOS_P1TIMER    equ $10FD99

BIOS_P2STATUS   equ $10FD9A
BIOS_P2PREVIOUS equ $10FD9B
BIOS_P2CURRENT  equ $10FD9C
BIOS_P2CHANGE   equ $10FD9D
BIOS_P2REPEAT   equ $10FD9E
BIOS_P2TIMER    equ $10FD99

BIOS_STATCURNT    equ $10FDAC
BIOS_STATCHANGE   equ $10FDAD
BIOS_USER_REQUEST equ $10FDAE
BIOS_USER_MODE    equ $10FDAF
BIOS_START_FLAG   equ $10FDB4
BIOS_MESS_POINT   equ $10FDBE
BIOS_MESS_BUSY    equ $10FDC2

;Memory card:
BIOS_CRDF       equ $10FDC4   ;Byte: function to perform when calling BIOSF_CRDACCESS
BIOS_CRDRESULT  equ $10FDC6   ;Byte: 00 on success, else 80+ and encodes the error
BIOS_CRDPTR     equ $10FDC8   ;Longword: pointer to read from/write to
BIOS_CRDSIZE    equ $10FDCC   ;Word: how much data to read/write from/to card
BIOS_CRDNGH     equ $10FDCE   ;Word: usually game NGH. Unique identifier for the game that owns the save file
BIOS_CRDFILE    equ $10FDD0   ;Word: each NGH has up to 16 save files associated with

;Calendar, MVS only (in BCD):
BIOS_YEAR       equ $10FDD2   ;Last 2 digits of year
BIOS_MONTH      equ $10FDD3
BIOS_DAY        equ $10FDD4
BIOS_WEEKDAY    equ $10FDD5   ;Sunday = 0, Monday = 1 ... Saturday = 6
BIOS_HOUR       equ $10FDD6   ;24 hour time
BIOS_MINUTE     equ $10FDD7
BIOS_SECOND     equ $10FDD8

BIOS_SELECT_TIMER equ $10FDDA   ;Byte: game start countdown
BIOS_DEVMODE      equ $10FE80   ;Byte: non-zero for developer mode

;Upload system ROM call:
BIOS_UPDEST     equ $10FEF4   ;Longword
BIOS_UPSRC      equ $10FEF8   ;Longword
BIOS_UPSIZE     equ $10FEFC   ;Longword
BIOS_UPZONE     equ $10FEDA   ;Byte: zone (0=PRG, 1=FIX, 2=SPR, 3=Z80, 4=PCM, 5=PAT)
BIOS_UPBANK     equ $10FEDB   ;Byte: bank

SOUND_STOP      equ $D00046

;Button definitions:
CNT_UP	        equ 0
CNT_DOWN	equ 1
CNT_LEFT	equ 2
CNT_RIGHT	equ 3
CNT_A	        equ 4
CNT_B	        equ 5
CNT_C	        equ 6
CNT_D	        equ 7
CNT_START1      equ 0
CNT_SELECT1     equ 1
CNT_START2      equ 2
CNT_SELECT2     equ 3
&lt;/syntaxhighlight>

==CD only==

&lt;syntaxhighlight>
;System ROM calls
SYS_VIDEOEN     equ $C00470
SYS_UPLOAD      equ $C00546   ;Upload to DRAM
SYS_CDDACMD     equ $C0056A   ;Issue CDDA command

;DMA:
REG_DMACPYSRC   equ $FF0064
REG_DMAFILDEST  equ $FF0064
REG_DMACPYDEST  equ $FF0068
REG_DMAFILVAL   equ $FF006C
REG_DMASIZE     equ $FF0070
REG_DMASTART    equ $FF0060

REG_DISBLSPR    equ $FF0111
REG_DISBLFIX    equ $FF0115
REG_ENVIDEO     equ $FF0119
REG_CDCONFIG    equ $FF011C

REG_UPMAPSPR    equ $FF0121
REG_UPMAPPCM    equ $FF0123
REG_UPMAPZ80    equ $FF0127
REG_UPMAPFIX    equ $FF0129
REG_UPUNMAPSPR  equ $FF0141
REG_UPUNMAPPCM  equ $FF0143
REG_UPUNMAPZ80  equ $FF0147
REG_UPUNMAPFIX  equ $FF0149
REG_DISBLIRQ    equ $FF016F
REG_ENZ80       equ $FF0183

REG_CDDALEFTL   equ $FF0188   ;CD audio levels
REG_CDDARIGHTL  equ $FF018A
&lt;/syntaxhighlight>

[[Category:Code]]

[[File:Unibios_exc.png|thumb| The [[Universe BIOS]] provides some exception handling.]]
A [[68k]] program may produce exceptions, often caused by bugs. For debugging, an exception handler can be of great use.

Some games were published with their exception handler, while some others just reset the system.

=Generic exception handler=

Allocate a longword variable called "PCERROR". Make the appropriate vectors point to the related routines below.

==Divide by zero/Illegal instruction==

Cause: See [[68k vector table]].

6 bytes stack frame: 0:SR.w, 2:PC.l

&lt;syntaxhighlight>
ErrDivZero:
    move.l  2(a7),PCERROR       ; Store PC from stack frame
    movem.l d0-d7/a0-a6,-(a7)   ; Store registers
    lea     ERR_DIVZERO,a0
    jmp     DispErr
&lt;/syntaxhighlight>

==Address error/Bus error==

Cause: See [[68k vector table]].

14 bytes stack frame: 0:R/W.w, 2:Access address.l, 6:Instruction.l, 8:SR.w, 10:PC.l

&lt;syntaxhighlight>
ErrAddr:
    move.l  10(a7),PCERROR      ; Store PC from stack frame
    movem.l d0-d7/a0-a6,-(a7)   ; Store registers
    lea     ERR_ADDR,a0
    jmp     DispErr
&lt;/syntaxhighlight>

==Display for debug==

[[File:Exceptionillegal.png|frame|Exception screen showing the PC where it was raised: Always better than a quiet reset !]]

Don't forget to mask out all interrupts as soon as an exception is raised:
&lt;syntaxhighlight>
    ori.w   #$0700,sr
&lt;/syntaxhighlight>

All register values can be retrieved from the previous MOVEMs and displayed on the [[fix layer]]:

&lt;syntaxhighlight>
;D0: 32bit value to display
;VRAM address needs to be set before call
Write32bit:
    move.w  #32,VRAM_MOD   ; Write char-by-char
    move.b  #8,d7
.writerlp:
    move.b  d0,REG_DIPSW   ; Kick watchdog
    rol.l   #4,d0          ; BCDEFGHA
    move.b  d0,d1
    andi.w  #$F,d1         ; xxxx000A
    jsr     .hexshift
    add.w   #ASCIISTART,d1
    ori.w   #$F000,d1      ; Palette $F
    move.w  d1,VRAM_RW
    subq.b  #1,d7
    bne     .writerlp
    rts

.hexshift:
    cmp.b   #10,d1
    blt.b   .r
    addq.b  #7,d1
.r:
    rts
&lt;/syntaxhighlight>

Don't forget to set up a palette.

[[Category:Code]]

== Basic init code ==
The initial PC value in the [[68k]] binary must be $C00402 (Init [[BIOS calls|BIOS call]]), the initial SP value must be $10F300 (end of the [[68k user RAM|user RAM]]).

The entrypoints for the [[68k]] code start at $000122. See [[68k program header]].

&lt;syntaxhighlight>
    lea     $10F300, sp
    lea     $10F300, a7       ; Depends on assemblers
    move.b  d0,REG_DIPSW      ; Kick watchdog
    move.w  #7,REG_IRQACK     ; Acknowledge any pending interrupts
    move.w  #$2700,sr         ; Disable all interrupts
&lt;/syntaxhighlight>

See [[68k interrupts]] and [[Watchdog]] for more informations.

Clearing the [[68k user RAM]]:
&lt;syntaxhighlight>
    lea     RAMSTART,a0
    move.l  #($F300/4)-1,d0   ; User RAM's size is $F300, and we clear longwords (4 bytes)
clram:
    clr.l   (a0)+
    dbra    d0,clram
&lt;/syntaxhighlight>

Note that this function also clears the stack. Don't make a subroutine out of it unless you're sure that the return address won't be cleared.

BIOS calls '''BIOSF_CLEARFIX''' ($C004C2) and '''BIOSF_CLEARSPR''' ($C004C8) can be used to clear [[sprites]] and the [[fix layer]].

Don't forget to kick the [[watchdog]] regularly in your init code if the VBL interrupt isn't enabled or doesn't kick it itself.

[[Category:Base system]]
[[Category:Code]]

Mirrored information from [[http://oldwww.nvg.ntnu.no/amiga/MC680x0_Sections/mc68000timing.HTML oldwww.nvg.ntnu.no]]

The number of bus '''r'''ead and '''w'''rite cycles are shown in parenthesis as (r/w). Any other cycles are internal.

In the following tables, the headings have the following meanings:
* An : Address register operand
* Dn : Data register operand
* ea : Operand specified by an effective address
* M : Memory effective address operand

To get the real execution time, multiply the total cycles count by 83.33ns ([[Clock|1/12MHz]]). An example is given in each section.

The [[68k interrupts|vertical blank]] lasts exactly 40 lines * 384 pixels * 2 cycles per pixel = 30720 cycles (2.56ms).

See [[optimization]].

=Effective address operand calculation=

This table lists the number of clock periods required to compute an instruction's effective address. It includes fetching of any extension words, the address computation, and fetching of the memory operand.

{|class="wikitable"
!Syntax||Adressing mode||B,W||L
|-
|Dn
|Data register direct
|class="green"|0(0/0)
|class="green"|0(0/0)
|-
|An
|Address register direct
|class="green"|0(0/0)
|class="green"|0(0/0)
|-
|(An)
|Address register indirect
|class="green"|4(1/0)
|class="yellow"|8(2/0)
|-
|(An)+
|Address register indirect, post inc.
|class="green"|4(1/0)
|class="yellow"|8(2/0)
|-
| -(An)
|Address register indirect, pre dec.
|class="yellow"|6(1/0)
|class="orange"|10(2/0)
|-
|d(An)
|Address register indirect, displacement
|class="yellow"|8(2/0)
|class="orange"|12(3/0)
|-
|d(An,ix)
|Address register indirect, index
|class="orange"|10(2/0)
|class="red"|14(3/0)
|-
|xxx.w
|Absolute short
|class="yellow"|8(2/0)
|class="orange"|12(3/0)
|-
|xxx.l
|Absolute long
|class="orange"|12(3/0)
|class="red"|16(4/0)
|-
|d(PC)
|PC with displacement
|class="yellow"|8(2/0)
|class="orange"|12(3/0)
|-
|d(PC,ix)
|PC with index
|class="yellow"|10(2/0)
|class="red"|14(3/0)
|-
|#xxx
|Immediate
|class="green"|4(1/0)
|class="yellow"|8(2/0)
|}

Notes:
* Pre-dec is slower than post-inc
* There are no write cycles involved in processing the effective address
* The size of the index register (ix) does not affect execution time

=Move instructions=

These following two tables indicate the number of clock periods for the move instruction. This data includes instruction fetch, operand reads, and operand writes.

==Byte and word==

Example: '''move.b (a0)+,$10201D''' (Byte (An)+ to xxx.L) takes 20 cycles.

{|class="wikitable"
!&amp;nbsp; || Dn || An || (An) || (An)+ || -(An) || d(An) || d(An,ix) || xxx.W || xxx.L
|-
!Dn
|class="green"|4(1/0)||class="green"|4(1/0)||class="green"|8(1/1)||class="green"|8(1/1)
|class="green"|8(1/1)||class="yellow"|12(2/1)||class="yellow"|14(2/1)||class="yellow"|12(2/1)||class="yellow"|16(3/1)
|-
!An
|class="green"|4(1/0)||class="green"|4(1/0)||class="green"|8(1/1)||class="green"|8(1/1)
|class="green"|8(1/1)||class="yellow"|12(2/1)||class="yellow"|14(2/1)||class="yellow"|12(2/1)||class="yellow"|16(3/1)
|-
!(An)
|class="green"|8(2/0)||class="green"|8(2/0)||class="yellow"|12(2/1)||class="yellow"|12(2/1)
|class="yellow"|12(2/1)||class="yellow"|16(3/1)||class="orange"|18(3/1)||class="yellow"|16(3/1)||class="orange"|20(4/1)
|-
!(An)+
|class="green"|8(2/0)||class="green"|8(2/0)||class="yellow"|12(2/1)||class="yellow"|12(2/1)||class="yellow"|12(2/1)
|class="yellow"|16(3/1)||class="orange"|18(3/1)||class="yellow"|16(3/1)||class="orange"|20(4/1)
|-
!-(An)
|class="green"|10(2/0)||class="green"|10(2/0)||class="yellow"|14(2/1)||class="yellow"|14(2/1)||class="yellow"|14(2/1)
|class="orange"|18(3/1)||class="orange"|20(4/1)||class="orange"|18(3/1)||class="orange"|22(4/1)
|-
!d(An)
|class="yellow"|12(3/0)||class="yellow"|12(3/0)||class="yellow"|16(3/1)||class="yellow"|16(3/1)||class="yellow"|16(3/1)
|class="orange"|20(4/1)||class="orange"|22(4/1)||class="orange"|20(4/1)||class="red"|24(5/1)
|-
!d(An,ix)
|class="yellow"|14(3/0)||class="yellow"|14(3/0)||class="orange"|18(3/1)||class="orange"|18(3/1)||class="orange"|18(3/1)
|class="orange"|22(4/1)||class="red"|24(4/1)||class="orange"|22(4/1)||class="red"|26(5/1)
|-
!xxx.W
|class="yellow"|12(3/0)||class="yellow"|12(3/0)||class="yellow"|16(3/1)||class="yellow"|16(3/1)||class="yellow"|16(3/1)
|class="orange"|20(4/1)||class="orange"|22(4/1)||class="orange"|20(4/1)||class="red"|24(5/1)
|-
!xxx.L
|class="yellow"|16(4/0)||class="yellow"|16(4/0)||class="orange"|20(4/1)||class="orange"|20(4/1)||class="orange"|20(4/1)
|class="red"|24(5/1)||class="red"|26(5/1)||class="red"|24(5/1)||class="red"|28(6/1)
|-
!d(PC)
|class="yellow"|12(3/0)||class="yellow"|12(3/0)||class="yellow"|16(3/1)||class="yellow"|16(3/1)||class="yellow"|16(3/1)
|class="orange"|20(4/1)||class="orange"|22(4/1)||class="orange"|20(4/1)||class="red"|24(5/1)
|-
!d(PC,ix)
|class="yellow"|14(3/0)||class="yellow"|14(3/0)||class="orange"|18(3/1)||class="orange"|18(3/1)||class="orange"|18(3/1)
|class="orange"|22(4/1)||class="red"|24(4/1)||class="orange"|22(4/1)||class="red"|26(5/1)
|-
!#xxx
|class="green"|8(2/0)||class="green"|8(2/0)||class="yellow"|12(2/1)||class="yellow"|12(2/1)||class="yellow"|12(2/1)
|class="yellow"|16(3/1)||class="orange"|18(3/1)||class="yellow"|16(3/1)||class="orange"|20(4/1)
|}

The size of the index register (ix) does not affect execution time.

==Long==

Example: '''move.l $05012C,4(a1,d0)''' (Long xxx.L to d(An,ix)) takes 34 cycles.

{|class="wikitable"
!&amp;nbsp; || Dn || An || (An) || (An)+ || -(An) || d(An) || d(An,ix) || xxx.W || xxx.L
|-
!Dn
|class="green"|4(1/0)||class="green"|4(1/0)||class="green"|12(1/2)||class="green"|12(1/2)||class="green"|12(1/2)
|class="yellow"|16(2/2)||class="yellow"|18(2/2)||class="yellow"|16(2/2)||class="yellow"|20(3/2)
|-
!An
|class="green"|4(1/0)||class="green"|4(1/0)||class="green"|12(1/2)||class="green"|12(1/2)||class="green"|12(1/2)
|class="yellow"|16(2/2)||class="yellow"|18(2/2)||class="yellow"|16(2/2)||class="yellow"|20(3/2)
|-
!(An)
|class="green"|12(3/0)||class="green"|12(3/0)||class="yellow"|20(3/2)||class="yellow"|20(3/2)||class="yellow"|20(3/2)
|class="orange"|24(4/2)||class="orange"|26(4/2)||class="orange"|24(4/2)||class="orange"|28(5/2)
|-
!(An)+
|class="green"|12(3/0)||class="green"|12(3/0)||class="yellow"|20(3/2)||class="yellow"|20(3/2)||class="yellow"|20(3/2)
|class="orange"|24(4/2)||class="orange"|26(4/2)||class="orange"|24(4/2)||class="orange"|28(5/2)
|-
!-(An)
|class="yellow"|14(3/0)||class="yellow"|14(3/0)||class="orange"|22(3/2)||class="orange"|22(3/2)||class="orange"|22(3/2)
|class="orange"|26(4/2)||class="orange"|28(4/2)||class="orange"|26(4/2)||class="red"|30(5/2)
|-
!d(An)
|class="yellow"|16(4/0)||class="yellow"|16(4/0)||class="orange"|24(4/2)||class="orange"|24(4/2)||class="orange"|24(4/2)
|class="orange"|28(5/2)||class="red"|30(5/2)||class="orange"|28(5/2)||class="red"|32(6/2)
|-
!d(An,ix)
|class="yellow"|18(4/0)||class="yellow"|18(4/0)||class="orange"|26(4/2)||class="orange"|26(4/2)||class="orange"|26(4/2)
|class="red"|30(5/2)||class="red"|32(5/2)||class="red"|30(5/2)||class="red"|34(6/2)
|-
!xxx.W
|class="yellow"|16(4/0)||class="yellow"|16(4/0)||class="orange"|24(4/2)||class="orange"|24(4/2)||class="orange"|24(4/2)
|class="orange"|28(5/2)||class="red"|30(5/2)||class="orange"|28(5/2)||class="red"|32(6/2)
|-
!xxx.L
|class="yellow"|20(5/0)||class="yellow"|20(5/0)||class="orange"|28(5/2)||class="orange"|28(5/2)||class="orange"|28(5/2)
|class="red"|32(6/2)||class="red"|34(6/2)||class="red"|32(6/2)||class="red"|36(7/2)
|-
!d(PC)
|class="yellow"|16(4/0)||class="yellow"|16(4/0)||class="orange"|24(4/2)||class="orange"|24(4/2)||class="orange"|24(4/2)
|class="orange"|28(5/2)||class="red"|30(5/2)||class="orange"|28(5/2)||class="red"|32(5/2)
|-
!d(PC,ix)
|class="yellow"|18(4/0)||class="yellow"|18(4/0)||class="orange"|26(4/2)||class="orange"|26(4/2)||class="orange"|26(4/2)
|class="red"|30(5/2)||class="red"|32(5/2)||class="red"|30(5/2)||class="red"|34(6/2)
|-
!#xxx
|class="green"|12(3/0)||class="green"|12(3/0)||class="yellow"|20(3/2)||class="yellow"|20(3/2)||class="yellow"|20(3/2)
|class="orange"|24(4/2)||class="orange"|26(4/2)||class="orange"|24(4/2)||class="orange"|28(5/2)
|}

The size of the index register (ix) does not affect execution time.

=Standard instructions=

Example: '''add.w d3,a7''' (Word ea Dn + An) takes 8 cycles.

The number of clock periods shown in this table indicates the time required to perform the operations, store the results and read the next instruction. The total number of clock periods must be added respectively to those of the effective address calculation where indicated (+).

{|class="wikitable"
!&amp;nbsp; || Size || &lt;ea>,An * || &lt;ea>,Dn || Dn,&lt;M>
|-
!rowspan=2|ADD
|B,W
|class="orange"|8(1/0)+||class="green"|4(1/0)+||class="orange"|8(1/1)+
|-
|L
|class="yellow"|6(1/0)+**||class="yellow"|6(1/0)+**||class="red"|12(1/2)+
|-
!rowspan=2|AND
|B,W
| - ||class="green"|4(1/0)+||class="orange"|8(1/1)+
|-
|L
| - ||class="yellow"|6(1/0)+**||class="red"|12(1/2)+
|-
!rowspan=2|CMP
|B,W
|class="yellow"|6(1/0)+||class="green"|4(1/0)+|| -
|-
|L
|class="yellow"|6(1/0)+||class="yellow"|6(1/0)+|| -
|-
!DIVS
| - || - ||class="red"|158(1/0)+|| -
|-
!DIVU
| - || - ||class="red"|140(1/0)+|| -
|-
!rowspan=2|EOR
|B,W
| - ||class="green"|4(1/0) ***||class="orange"|8(1/1) +
|-
|L
| - ||class="orange"|8(1/0) ***||class="red"|12(1/2) +
|-
!MULS
| - || - ||class="red"|70(1/0)+*|| -
|-
!MULU
| - || - ||class="red"|70(1/0)+*|| -
|-
!rowspan=2|OR
|B,W
| - ||class="green"|4(1/0) +**||class="orange"|8(1/1) +
|-
|L
| - ||class="yellow"|6(1/0) +**||class="red"|12(1/2) +
|-
!rowspan=2|SUB
|B,W
|class="orange"|8(1/0)+||class="green"|4(1/0)+||class="orange"|8(1/1)+
|-
|L
|class="yellow"|6(1/0)+**||class="yellow"|6(1/0)+**||class="red"|12(1/2)+
|}

&lt;syntaxhighlight lang="text">
notes:	+ Add effective address calculation time
	^ Word or long only
	* Indicates maximum value
       ** The base time of six clock periods is increased to eight		
	  if the effective address mode is register direct or 
	  immediate (effective address time should also be added)
      *** Only available effective address mode is data register direct
	  
	DIVS,DIVU - The divide algorithm used by the MC68000 provides less
		    than 10% difference between the best and the worst case
		    timings.
	MULS,MULU - The multiply algorithm requires 38+2n clocks where
		    n is defined as:
		MULU: n = the number of ones in the &lt;ea>
		MULS: n = concatenate the &lt;ea> with a zero as the LSB;
			  n is the resultant number of 10 or 01 patterns
			  in the 17-bit source; i.e., worst case happens
			  when the source is $5555
&lt;/syntaxhighlight>

=Immediate instructions=

The number of clock periods periods shown in this table includes the time to fetch immediate operands, perform the operations, store the results and read the next operation. The total number of clock periods must be added respectively to those of the effective address calculation where indicated (+).

{|class="wikitable"
!&amp;nbsp; || Size || #,Dn || #,An || #,M
|-
!rowspan=2|ADDI
|B,W
|class="green"|8(2/0)|| - ||class="yellow"|12(2/1)+
|-
|L
|class="orange"|16(3/0)|| - ||class="red"|20(3/2)+
|-
!rowspan=2|ADDQ
|B,W
|class="green"|4(1/0)||class="yellow"|8(1/0)*||class="orange"|12(1/2)+
|-
|L
|class="yellow"|8(1/0)||class="yellow"|8(1/0)||class="orange"|12(1/2)+
|-
!rowspan=2|ANDI
|B,W
|class="green"|8(2/0)|| - ||class="yellow"|12(1/2)+
|-
|L
|class="orange"|16(3/0)|| - ||class="red"|20(3/1)+
|-
!rowspan=2|CMPI
|B,W
|class="green"|8(2/0)|| - ||class="green"|8(2/0)+
|-
|L
|class="orange"|14(3/0)|| - ||class="yellow"|12(3/1)+
|-
!rowspan=2|EORI
|B,W
|class="green"|8(2/0)|| - ||class="yellow"|12(2/1)+
|-
|L
|class="orange"|16(3/0)|| - ||class="red"|20(3/2)+
|-
!MOVEQ
|L
|class="green"|4(1/0)|| - || -
|-
!rowspan=2|ORI
|B,W
|class="green"|8(2/0)|| - ||class="yellow"|12(2/1)+
|-
|L
|class="orange"|16(3/0)|| - ||class="red"|20(3/2)+
|-
!rowspan=2|SUBI
|B,W
|class="green"|8(2/0)|| - ||class="yellow"|12(2/1)+
|-
|L
|class="orange"|16(3/0)|| - ||class="red"|20(3/2)+
|-
!rowspan=2|SUBQ
|B,W
|class="green"|4(1/0)||class="yellow"|8(1/0)*||class="yellow"|8(1/1)+
|-
|L
|class="yellow"|8(1/0)||class="yellow"|8(1/0)||class="orange"|12(1/2)+
|}

&lt;syntaxhighlight lang="text">
	+ Add effective address calculation time
	* word only
&lt;/syntaxhighlight>

=Single operand instructions=

&lt;syntaxhighlight lang="text">
This table indicates the number of clock periods for the single operand
instructions. The number of clock periods and the number of read and write cycles
must be added respectively to those of the effective address calculation
where indicated.

instruction	size		register	 memory

CLR			byte,word	4(1/0)		 8(1/1) +
			  long		6(1/0)		12(1/2) +
NBCD		  byte		6(1/0)		 8(1/1) +
NEG			byte,word	4(1/0)		 8(1/1) +
			  long		6(1/0)		12(1/2) +
NEGX		byte,word	4(1/0)		 8(1/1) +
			  long		6(1/0)		12(1/2) +
NOT			byte,word	4(1/0)		 8(1/1) +
			  long		6(1/0)		12(1/2) +
Scc			byte,false	4(1/0)		 8(1/1) +
			byte,true	6(1/0)		 8(1/1) +
TAS #		  byte		4(1/0)		10(1/1) +
TST			byte,word	4(1/0)		 4(1/0) +
			  long		4(1/0)		 4(1/0) +

	+ add effective address calculation time
        # This instruction should never be used on the Amiga as its invisiable
          read/write cycle can disrupt system DMA.
&lt;/syntaxhighlight>

=Shift and rotate instructions=

&lt;syntaxhighlight lang="text">
This table indicates the number of clock periods for the shift and rotate
instructions. The number of clock periods and the number of read and write
cycles must be added respectively to those of the effective address
calculation where indicated.

instruction	size		register	memory

ASR,ASL		byte,word	6+2n(1/0)	8(1/1) +
			  long		8+2n(1/0)	  -
LSR,LSL		byte,word	6+2n(1/0)	8(1/1) +
			  long		8+2n(1/0)	  -
ROR,ROL		byte,word	6+2n(1/0)	8(1/1) +
			  long		8+2n(1/0)	  -
ROXR,ROXL	byte,word	6+2n(1/0)	8(1/1) +
			  long		8+2n(1/0)	  -

	+ add effective address calculation time
	n is the shift or rotate count
&lt;/syntaxhighlight>

=Bit manipulation instructions=

&lt;syntaxhighlight lang="text">
This table indicates the number of clock periods required for the bit
manipulation instructions. The number of clock periods and the number of read and 
write cycles must be added respectively to those of the effective address
calculation where indicated. Dynamic: register, static: immediate.

instruction  size            dynamic                 static
                        register   memory       register   memory	
BCHG         byte          -       8(1/1) +        -       12(2/1) +
             long        8(1/0) *    -          12(2/0) *     -
BCLR         byte          -       8(1/1) +        -       12(2/1) +
             long       10(1/0) *    -          14(2/0) *     -
BSET         byte          -       8(1/1) +        -       12(2/1) +
             long        8(1/0) *    -          12(2/0) *     -
BTST         byte          -  	   4(1/0) +        -        8(2/0) +
             long        6(1/0)      -          10(2/0)       -

	+ add effective address calculation time
	* indicates maximum value
&lt;/syntaxhighlight>

=Conditional instructions=

{|class="wikitable"
!Mnemonic || Displacement || Branch taken || Not taken
|-
|rowspan=2|Bcc
|byte
|class="yellow"|10(2/0)||class="green"|8(1/0)
|-
|word
|class="yellow"|10(2/0)||class="orange"|12(1/0)
|-
|rowspan=2|BRA
|byte
|class="yellow"|10(2/0)
|
|-
|word
|class="yellow"|10(2/0)
|
|-
|rowspan=2|BSR
|byte
|class="red"|18(2/2)
|
|-
|word
|class="red"|18(2/2)
|
|-
|rowspan=2|DBcc
|cc true
|
|class="orange"|12(2/0)
|-
|cc false
|class="yellow"|10(2/0)
|class="orange"|14(3/0)
|}

=JMP, JSR, LEA, PEA and MOVEM instructions=

&lt;syntaxhighlight lang="text">
This Table indicates the number of clock periods required for the jump,
jump-to-subroutine, load effective address, push effective address and
move multiple registers instructions.

instr	size    (An)		(An)+		-(An)	 d(An)		d(An,ix)+   xxx.W      xxx.L      d(PC)      d(PC,ix)*
JMP     -	    8(2/0)	     -		      -    10(2/0)		 14(3/0)    10(2/0)    12(3/0)	  10(2/0)    14(3/0)
JSR     -	   16(2/2)	     -		      -	   18(2/2)		 22(2/2)    18(2/2)    20(3/2)	  18(2/2)    22(2/2)
LEA     -	    4(1/0)	     -		      -	    8(2/0)		 12(2/0)     8(2/0)    12(3/0)	   8(2/0)    12(2/0)
PEA     -	   12(1/2)	     -		      -	   16(2/2)		 20(2/2)    16(2/2)    20(3/2)	  16(2/2)    20(2/2)
MOVEM   word     12+4n       12+4n	      -      16+4n		   18+4n      16+4n      20+4n	    16+4n      18+4n
M->R           (3+n/0)	   (3+n/0)	      -	   (4+n/0)		 (4+n/0)    (4+n/0)    (5+n/0)	  (4+n/0)    (4+n/0)
	    long     12+8n	     12+8n	      -	     16+8n		   18+8n      16+8n      20+8n	    16+8n      18+8n
		      (3+2n/0)    (3+2n/0)	      -   (4+2n/0)		(4+2n/0)   (4+2n/0)   (5+2n/0)	 (4+2n/0)   (4+2n/0)
MOVEM	word	  8+4n	     -		     8+4n	 12+4n  	   14+4n      12+4n      16+4n	    -			-
R->M		     (2/n)	     -		    (2/n)	 (3/n)		   (3/n)      (3/n)      (4/n)	    -			-
	    long	  8+8n	     -		     8+8n	 12+8n  	   14+8n      12+8n      16+8n	    -			-
                (2/2n)	     -		   (2/2n)	(3/2n)		  (3/2n)     (3/2n)     (4/2n)	    -			-

n is the number of registers to move
* is the size of the index register (ix) does not affect the instruction's
  execution time
&lt;/syntaxhighlight>

=Multi-precision instructions=

&lt;syntaxhighlight lang="text">
This table indicates the number of clock periods for the multi-precision
instructions. The number of clock periods includes the time to fetch both
operands, perform the operations, store the results and read the next 
instructions.

instruction	size		op Dn,Dn	op M,M

ADDX		byte,word	4(1/0)		18(3/1)
			  long		8(1/0)		30(5/2)
CMPM		byte,word	  -			12(3/0)
			  long		  -			20(5/0)
SUBX		byte,word	4(1/0)		18(3/1)
			  long		8(1/0)		30(5/2)
ABCD		  byte		6(1/0)		18(3/1)
SBCD		  byte		6(1/0)		18(3/1)
&lt;/syntaxhighlight>

=Miscellaneous instructions=

&lt;syntaxhighlight lang="text">
This table indicates the number of clock periods for the following 
miscellaneous instructions. The number of clock periods and plus the number
of read and write cycles must be added to those of the effective address
calculation where indicated.

instruction		size	register	memory

ANDI to CCR		byte	 20(3/0)	   -
ANDI to SR		word	 20(3/0)	   -
CHK				 -		 10(1/0) +	   -
EORI to CCR		byte	 20(3/0)	   -
EORI to SR		word	 20(3/0)	   -
ORI to CCR		byte	 20(3/0)	   -
ORI to SR		word	 20(3/0)	   -
MOVE from SR	 -	 	  6(1/0)	 8(1/1)+
MOVE to CCR	 	 -		 12(1/0)	12(1/0)+
MOVE to SR	 	 -		 12(1/0)	12(1/0)+
EXG				 -		  6(1/0)	   -
EXT				word	  4(1/0)	   -
				long	  4(1/0)	   -
LINK		 	 -		 16(2/2)	   -
MOVE from USP	 -		  4(1/0)	   -
MOVE to USP	 	 -		  4(1/0)	   -
NOP				 -		  4(1/0)	   -
RESET			 -		132(1/0)	   -
RTE				 -		 20(5/0)	   -
RTR				 -		 20(5/0)	   -
RTS				 -		 16(4/0)	   -
STOP		 	 -		  4(0/0)	   -
SWAP		 	 -		  4(1/0)	   -
TRAPV (No Trap)	 -		  4(1/0)	   -
UNLK		 	 -		 12(3/0)	   -

	+ add effective address calculation time
&lt;/syntaxhighlight>

=Move Peripheral instructions=

&lt;syntaxhighlight lang="text">
instruction	size	register->memory	memory->register

MOVEP		word	16(2/2)				16(4/0)	
			long	24(2/4)				24(6/0)
&lt;/syntaxhighlight>

=Exception processing=

&lt;syntaxhighlight lang="text">
This table indicates the number of clock periods for exception processing.
The number of clock periods includes the time for all stacking, the vector
fetch and the fetch of the first two instruction words of the handler routine.

	exception						periods

	address error					50(4/7)
	bus error						50(4/7)
	CHK instruction (trap taken)	44(5/3)+
	Divide by Zero					42(5/3)
	illegal instruction				34(4/3)
	interrupt						44(5/3)*
	privilege violation				34(4/3)
	_____
	RESET **						40(6/0)
	trace							34(4/3)
	TRAP instruction				38(4/3)
	TRAPV instruction (trap taken)	34(4/3)

	+ add effective address calculation time
	* the interrupt acknowledge cycle is assumed to take four
	  clock periods
                                    _____     ____
	** indicates the time from when RESET and HALT are first
	  sampled as negated to when instruction execution starts
&lt;/syntaxhighlight>

[[Category:Base system]]
[[Category:Code]]

The cartridge systems use 3 '''auto-vectored''' interrupt levels. The CD systems use 6 '''vectored''' interrupts, 3 of which are equivalent to the cartridge system's.

See [[68k vector table]].

Video-related interrupts must to be acknowledged to re-trigger in the future by writing to the register {{Reg|REG_IRQACK}}.
*bit 2: Acknowledge v-blank interrupt
*bit 1: Acknowledge [[timer interrupt]]
*bit 0: Acknowledge reset interrupt (only occurs on cold boot ?)

Multiple bits can be set:
&lt;syntaxhighlight>
move	#$0007,REG_IRQACK     ; Acknowledge all interrupts
&lt;/syntaxhighlight>

Bits 8~10 of the [[68k]]'s SR register is used to set the minimum priority:
&lt;syntaxhighlight>
move	#$2000,SR     ; Accept all interrupts (+Supervisor mode)
move	#$2700,SR     ; Ignore all interrupts (+Supervisor mode)
&lt;/syntaxhighlight>

Note that the 68k's interrupt level setting is different from the interrupt configuration bits in {{Reg|REG_LSPCMODE}}.

=Vertical blank interrupt=

The v-blank interrupt is almost always used. It occurs when the rendering of a frame is about to start (~60 times per second). See [[display timing]].

=[[Timer interrupt]]=

The timer interrupt's behavior can be programmed through the [[LSPC]]'s [[memory mapped registers]]. It is triggered by a 32-bit down counter clocked by the 6MHz pixel clock, and a corresponding reset register. When the counter reaches 0, an interrupt is generated. Intervals can range from 166.7ns ('''would cause an interrupt flood !''') to a little over 11.9 minutes.

It can be used for special video effects such as [[scanline effects]], for example:
* The interlaced Sammy logo in [[Viewpoint]]
* [[Sengoku 2]]'s intro
* The road in [[Riding hero]]
* [[Neo Turf Masters]]'s ground perspective
* ...

=AES/MVS interrupt levels=

*Level 1: V-blank
*Level 2: Timer
*Level 3: Pending after reset

=CD interrupt levels=

The V-blank and Timer levels '''are swapped''' compared to the cartridge systems.

*Level 1: Timer
*Level 2: V-blank
*Level 3: Not used ?
*Vector 21: CD host decoder interrupt (data ready)
*Vector 22: CD drive communication start
*Vector 23: Used but not understood

[[Category:Base system]]
[[Category:Code]]

==In [[:Category:Cartridge systems|Cartridge systems]]==

{| class="regdef"
| '''Start'''
| '''End'''
| '''Size'''
| '''[[68k ASM defines|DEF]] Name'''
| '''[[Wait cycle]]s'''
| '''Description'''
|-
| $000000
| $0FFFFF
| 1MiB
| 
| 0 or 1 (4/5 clks) depending on {{Sig|ROMWAIT|ROMWAIT}}.
| [[68k_vector_table|Vector table]], first fixed bank of the {{Chipname|68k}} program ROM ({{Chipname|P ROM}})
|-
| $100000
| $10F2FF
|rowspan="2"|64KiB
|rowspan="2"|WORKRAM
|rowspan="2"|0 (4 clks)
| [[68k user RAM|User RAM]]
|-
| $10F300
| $10FFFF
| [[System ROM]]-reserved RAM
|-
| $110000
| $1FFFFF
| 
|
| 0 (4 clks)
| Work RAM mirror
|-
| $200000
| $2FFFFF
| 1MiB
|
| 0 to 3 (4/7 clks) depending on {{Sig|PWAIT|PWAIT}}.
| Second bank of the 68k program ROM (also used for bankswitching and access to special chips)
|-
| $300000
| $3FFFFF
|
| 
| 0 (4 clks)
| I/O. See [[Memory mapped registers]].
|-
| $400000
| $401FFF
| 8KiB
| PALETTES
| 0 (4 clks)
| Banked [[palette RAM]]
|-
| $402000
| $7FFFFF
|
|
| 0 (4 clks)
| Palette RAM mirror
|-
| $800000
| $BFFFFF
| 8 MiB max
| MEMCARD
| 2 (6 clks)
| [[Memory card]]
|-
| $C00000
| $C1FFFF
| 128KiB
| SYSTEMROM
| 0 (4 clks)
| [[System ROM]]
|-
| $C20000
| $CFFFFF
|
|
| 0 (4 clks)
| System ROM mirror
|-
| $D00000
| $D0FFFF
| 64KiB
| 
| 0 (4 clks)
| [[Backup RAM]] (MVS only)
|-
| $D10000
| $DFFFFF
|
| 
| 0 (4 clks)
| Backup RAM mirror
|}

==In [[:Category:CD systems|CD systems]]==

{| class="regdef"
| '''Start'''
| '''End'''
| '''Size'''
| '''[[68k ASM defines|DEF]] Name'''
| '''Description'''
|-
| $000000
| $0FFFFF
| 1MiB
| 
| Vector table, 68k program ([[PRG file]]s)
|-
| $100000
| $10F2FF
|rowspan="2"|64KiB&lt;br>Shared with the 68k code [[DRAM]].
|rowspan="2"| WORKRAM
| [[68k user RAM|User RAM]]
|-
| $10F300
| $10FFFF
| [[System ROM]]-reserved RAM
|-
| $110000
| $1FFFFF
| 
|
| Buffers, 68k program
|-
| $300000
| $39FFFF
|
| 
| Input ports (See [[Memory mapped registers]])
|-
| $3A0000
| $3BFFFF
|
| 
| Ouput ports (See Memory mapped registers)
|-
| $3C0000
| $3FFFFF
|
| 
| [[GPU]] ports (See Memory mapped registers)
|-
| $400000
| $401FFF
| 8KiB
| PALETTES
| Banked [[palette RAM]]
|-
| $800000
| $803FFF
| 8 KiB
| MEMCARD
| Virtual memory card (onboard [[battery-backed RAM]])&lt;br>
(8bit, even bytes are always $FF)
|-
| $C00000
| $C7FFFF
| 512KiB
| BIOSROM
| [[System ROM]]
|-
| $D00000
| $DFFFFF
| 
| 
| ?
|-
| $E00000
| $EFFFFF
| 1MiB
| UPLOAD
| Upload zone
|-
| $FF0000
| $FF01FF ?
|
|
| CD and DMA specific I/O registers
|}

== For [[Neo Print]] boards ==
Infos from [[https://github.com/mamedev/mame/blob/master/src/mame/drivers/neoprint.cpp MAME's source]].

{| class="regdef"
| '''Start'''
| '''End'''
| '''Size'''
| '''[[68k ASM defines|DEF]] Name'''
| '''Description'''
|-
| $000000
| $07FFFF
| 512KiB
| 
| 68k program (P ROM).
|-
| $100000
| $17FFFF
|
|
| Banked 68k program or I/O (writes done here).
|-
| $200000
| $20FFFF
| 64KiB
|
| 68k RAM
|-
| $300000
| $30FFFF
| 64KiB
| 
| Backup RAM
|-
| $400000
| $43FFFF
|
| 
| VRAM ?
|-
| $500000
| $51FFFF
| 128KiB
| 
| Palette RAM
|-
| $600000
| $600001
|
|
| Z80 I/O
|-
| $600002
| $600003
|
|
| RTC I/O
|-
| $600004
| $60000D
|
| 
| I/O registers
|-
| $700000
| $70001B
| 
| 
| GPU registers
|-
| 70001E
| 70001F
| 
| 
| Watchdog
|}

[[Category:Base system]]

ASM ROM header templates.

==For cartridge systems==

{|class="regdef"
|'''Address'''
|'''Size'''
|'''Description'''
|-
|$100
|7 bytes
|"NEO-GEO" string (first cartridge recognition code).
|-
|$107
|byte
|System version (0 for cartridge systems, 1 or 2 for adapted cart games on Neo CD ?).
|-
|$108
|word
|[[NGH number]] in BCD, 0000 prohibited.
|-
|$10A
|longword
|Total [[P ROM]] data size in bytes.
|-
|$10E
|longword
|Pointer to backup RAM data block (in [[68k user RAM]]). The first 2 bytes are the [[debug DIPs]].
|-
|$112
|word
|Size of the required game save data in bytes.
|-
|$114
|byte
|[[Eyecatcher]] animation flag. 0=Done by system ROM, 1=Done by game, 2=Nothing.
|-
|$115
|byte
|Sprite bank number (upper 8 bits of tile number) for the eye-catcher logo, if done by system ROM.
|-
|$116
|longword
|Pointer to Japanese [[Software_DIPs|software DIPs settings layout]].
|-
|$11A
|longword
|Pointer to US settings software DIPs settings layout.
|-
|$11E
|longword
|Pointer to Euro settings software DIPs settings layout.
|-
|$122
|6 bytes
|JMP to [[USER subroutine]] (code start).
|-
|$128
|6 bytes
|JMP to [[PLAYER_START subroutine]].
|-
|$12E
|6 bytes
|JMP to [[DEMO_END subroutine]].
|-
|$134
|6 bytes
|JMP to [[COIN_SOUND subroutine]].
|-
|$182
|longword
|Pointer to [[security code]] (second cartridge recognition code).
|-
|$186
|longword
|Unknown (seems only set to 0x00000000 on boards containing Spanish software DIPs).
|-
|$18A
|longword
|Unknown (seems only set to 0x00000001 on boards containing Spanish software DIPs).
|-
|$18E
|longword
|Pointer to Spanish settings software DIPs settings layout (not all games use this).
|}

===Minimal header (from [[User:Smkdan|Smkdan's]] sources)===

No need for a complete [[68k vector table]].

&lt;syntaxhighlight>
	org $0000
	dc.l $10F300

	org $0004
	dc.l $C00402

	org $0064
	dc.l VBLANK	;IRQ handler

	org $0100
	dc.b "NEO-GEO",$00

	org $0108
	dc.w $1234	;NGH

	org $0122
	jmp USER	;entry

	org $0114
	dc.w $0100	;logo flag, don't show it just go straight to the entry point

	org $0182
	dc.l Code	;code pointer
Code:
	dc.l $76004A6D,$0A146600,$003C206D,$0A043E2D
	dc.l $0A0813C0,$00300001,$32100C01,$00FF671A
	dc.l $30280002,$B02D0ACE,$66103028,$0004B02D
	dc.l $0ACF6606,$B22D0AD0,$67085088,$51CFFFD4
	dc.l $36074E75,$206D0A04,$3E2D0A08,$3210E049
	dc.l $0C0100FF,$671A3010,$B02D0ACE,$66123028
	dc.l $0002E048,$B02D0ACF,$6606B22D,$0AD06708
	dc.l $588851CF,$FFD83607
	dc.w $4e75
&lt;/syntaxhighlight>

===Full header (from some unknown example code)===

&lt;syntaxhighlight>
    org $0100
    dc.b "NEO-GEO",$00

    dc.w $1234        ;NGH
    dc.l $00080000    ;P ROM size
    dc.l $00100000    ;debug DIPs pointer
    dc.w $01          ;size of DIP data
    dc.b $00          ;let the BIOS show the logo
    dc.b $1B          ;first tile of the logo is $1B00
    dc.l JPConfig     ;Japanese config menu pointer
    dc.l USConfig     ;US config menu pointer
    dc.l EUConfig     ;European config menu pointer

    jmp        USER
    jmp        PLAYER_START
    jmp        DEMO_END
    jmp        COIN_SOUND

    org $0182
    dc.l Code         ;code pointer
Code:
    dc.l $76004A6D,$0A146600,$003C206D,$0A043E2D
    dc.l $0A0813C0,$00300001,$32100C01,$00FF671A
    dc.l $30280002,$B02D0ACE,$66103028,$0004B02D
    dc.l $0ACF6606,$B22D0AD0,$67085088,$51CFFFD4
    dc.l $36074E75,$206D0A04,$3E2D0A08,$3210E049
    dc.l $0C0100FF,$671A3010,$B02D0ACE,$66123028
    dc.l $0002E048,$B02D0ACF,$6606B22D,$0AD06708
    dc.l $588851CF,$FFD83607
    dc.w $4e75

    ; Configuration menu layouts (soft DIPs)
 JPConfig:
    dc.b    "0123456789ABCDEF"                            ; Game name
    dc.b    $FF,$FF,$FF,$FF,$FF,$FF                       ; Special list
    dc.b    $24,$02,$00,$00,$00,$00,$00,$00,$00,$00       ; Option list
    dc.b    "LIVES       "
    dc.b    "1           "
    dc.b    "2           "
    dc.b    "3           "
    dc.b    "4           "
    dc.b    "HOW TO PLAY "
    dc.b    "WITH        "
    dc.b    "WITHOUT     "

 USConfig:
    dc.b    "0123456789ABCDEF"                            ; Game name
    dc.b    $FF,$FF,$FF,$FF,$FF,$FF                       ; Special list
    dc.b    $24,$02,$00,$00,$00,$00,$00,$00,$00,$00       ; Option list
    dc.b    "LIVES       "
    dc.b    "1           "
    dc.b    "2           "
    dc.b    "3           "
    dc.b    "4           "
    dc.b    "HOW TO PLAY "
    dc.b    "WITH        "
    dc.b    "WITHOUT     "

 EUConfig:
    dc.b    "0123456789ABCDEF"                            ; Game name
    dc.b    $FF,$FF,$FF,$FF,$FF,$FF                       ; Special list
    dc.b    $24,$02,$00,$00,$00,$00,$00,$00,$00,$00       ; Option list
    dc.b    "LIVES       "
    dc.b    "1           "
    dc.b    "2           "
    dc.b    "3           "
    dc.b    "4           "
    dc.b    "HOW TO PLAY "
    dc.b    "WITH        "
    dc.b    "WITHOUT     "
&lt;/syntaxhighlight>

==For CD systems==
&lt;syntaxhighlight>
    org     $100
    dc.b    "NEO-GEO",$02           ;CDDA flag
    dc.w    $1234                   ;NGH
    dc.l    $00080000               ;P ROM size
    dc.l    $00100000               ;debug DIPs pointer
    dc.w    $01                     ;size of DIP data
    dc.b    $00                     ;let the BIOS show the logo
    dc.b    $1B                     ;first tile of the logo is $1B00
    dc.l    JPConfig                ;Japanese config menu pointer
    dc.l    USConfig                ;US config menu pointer
    dc.l    EUConfig                ;European config menu pointer

    org     $122
    jmp     Start

    org     $13A
    dc.w    $0000                   ;Z80 RAM address for CDDA commands
&lt;/syntaxhighlight>

[[Category:Base system]]
[[Category:Code]]

==68k user RAM==
[[File:Wramerror.jpg|thumb|right]]
Sometimes called "work RAM".

64KiB mapped in the [[68k]]'s memory space, from $100000 to $10FFFF (mirrored up to $1FFFFF on [[:Category:cartridge systems|cartridge systems]]).

The range from $10F300 to $10FFFF is used by the [[BIOS RAM locations|System ROM]] functions and shouldn't be used as regular work RAM.

The [[MVS hardware|MVS]] [[System ROM]] checks the entire RAM during boot by filling with $5555, reading back, filling with $AAAA, reading back and filling with a 16bit incremental value then reading back. If it encounters an error, it will lock-up after displaying the address where the error occured, and the read/write difference.

In [[:Category:CD systems|CD systems]], the 68k's RAM is used in the same way, but is located in part of the program [[DRAM]] instead of in separate static RAM chips (?).

==Z80 user RAM==

2KiB mapped in the [[Z80]]'s memory space, from $F800 to $FFFF. Not automatically cleared.

[[Category:Base system]]

The vector table consists of a 256 bytes long vector list specific to the [[68k]].

Each vector is a 32-bit address, meaning the table holds '''64 vectors'''. Each entry is used by the 68k in precise cases.

All bootable 68k programs must have a vector table at their very beginning. The [[system ROM]] and games have their own.

Is $C00426 an universal [[BIOS calls|BIOS call]] for a complete reset ?

=Stack frames=

See [[68k exception handling]].

==Format A==

{|class="wikitable"
!Offset from SP
!Size
!Value
|-
| +0
|Word
|Flags:{{16BitRegister| |11|0:Write 1:Read |1|0:Instruction|1|Function code|3}}
|-
| +2
|Longword
|Access address
|-
| +6
|Word
|IR
|-
| +8
|Word
|SR
|-
| +10
|Longword
|PC
|}

==Format B==

{|class="wikitable"
!Offset from SP
!Size
!Value
|-
| +0
|Word
|SR
|-
| +2
|Longword
|PC
|}

=Vector list=

{|class="regdef"
|'''Vector #'''
|'''Address'''
|'''Exception name'''
|'''Trigger condition'''
|'''[[68k stack frames|Stack frame]]'''
|-
|0
|000000
|Reset SP
|Not really a vector. Used to initialize the stack pointer.
|
|-
|1
|000004
|Reset PC
|Reset/startup
|
|-
|2
|000008
|Bus error
|Bus cycle couldn't complete properly.
|A
|-
|3
|00000C
|Address error
|Misaligned (odd) word or longword memory access.
|A
|-
|4
|000010
|Illegal instruction
|Tried executing an invalid opcode.
|B
|-
|5
|000014
|Division by zero
|DIVUed or DIVSed by zero.
|B
|-
|6
|000018
|CHK instruction
|CHK resulted in "out of bounds".
|B
|-
|7
|00001C
|TRAPV instruction
|TRAPV with overflow flag set.
|B
|-
|8
|000020
|Privilege violation
|Use of privileged instruction. Never happens on the NeoGeo since the 68k always runs in supervisor mode.
|B
|-
|9
|000024
|Trace
|After each executed instruction when 68k is in trace mode (debugger function).
|B
|-
|10
|000028
|Unimplemented instruction (line A)
|Used to implement 680xx instructions in software. Not used on the NeoGeo.
|B
|-
|11
|00002C
|Unimplemented instruction (line F)
|Used to implement 680xx instructions in software. Not used on the NeoGeo.
|B
|-
|12
|000030
|rowspan=3|Reserved/Unused on 68000
|rowspan=3|
|rowspan=3|
|-
|13
|000034
|-
|14
|000038
|-
|15
|00003C
|Uninitialized interrupt vector
|Default vector used by uninitialized peripherals.
|B?
|-
|16
|000040
|rowspan=8|Reserved
|rowspan=5|
|rowspan=8|
|-
|17
|000044
|-
|18
|000048
|-
|19
|00004C
|-
|20
|000050
|-
|21
|000054
|rowspan="3"|Normally reserved but used on the NeoGeo CD. See [[68k interrupts]].
|-
|22
|000058
|-
|23
|00005C
|-
|24
|000060
|Spurious interrupt
|No acknowledge from hardware.
|
|-
|25
|000064
|Level 1 [[68k interrupts|interrupt]] autovector
|[[68k interrupts|V-Blank]] (cart) / [[Timer interrupt]] (CD).
|
|-
|26
|000068
|Level 2 interrupt autovector
|Timer interrupt (cart) / V-Blank (CD).
|
|-
|27
|00006C
|Level 3 interrupt autovector
|Cold boot (cart).
|
|-
|28
|000070
|Level 4 interrupt autovector
|Not used on the NeoGeo.
|
|-
|29
|000074
|Level 5 interrupt autovector
|Not used on the NeoGeo.
|
|-
|30
|000078
|Level 6 interrupt autovector
|Not used on the NeoGeo.
|
|-
|31
|00007C
|Level 7 interrupt autovector
|Not used on the NeoGeo.
|
|-
|32
|000080
|TRAP #0~15
|TRAP instructions.
|2
|-
|48~63
|0000C0~0000FC
|Reserved/Unused on 68000
|
|
|-
|64~255
|000100~0003FF
|User interrupt vectors
|
|
|}

=Templates=

==For cartridge systems==
&lt;syntaxhighlight>
    org  $0
    dc.l $0010F300            ; Initial SP
    dc.l $00C00402            ; Initial PC
    dc.l $00C00408            ; Bus error
    dc.l $00C0040E            ; Address error
    dc.l $00C0040E            ; Illegal Instruction
    dc.l $0000034C            ; Divide by 0
    dc.l $0000034E            ; CHK Instruction
    dc.l $0000034E            ; TRAPV Instruction
    dc.l $00C0041A            ; Privilege Violation
    dc.l $00C00420            ; Trace
    dc.l $0000034E,$0000034E  ; Emu
    dc.l $00C00426,$00C00426,$00C00426  ; Reserved
    dc.l $00C0042C            ; Uninit. Int. Vector.
    dc.l $00C00426,$00C00426,$00C00426,$00C00426  ; Reserved
    dc.l $00C00426,$00C00426,$00C00426,$00C00426  ; Reserved
    dc.l $00C00432            ; Spurious Interrupt
    dc.l VBlank               ; Level 1
    dc.l IRQ2                 ; Level 2
    dc.l $00C00426            ; Level 3
    dc.l $00C00426,$00C00426,$00C00426,$00C00426  ; Level 4~7
    dc.l $0000056E,$0000056E,$0000056E,$0000056E  ; Traps...
    dc.l $0000056E,$0000056E,$FFFFFFFF,$FFFFFFFF
    dc.l $FFFFFFFF,$FFFFFFFF,$FFFFFFFF,$FFFFFFFF
    dc.l $FFFFFFFF,$FFFFFFFF,$FFFFFFFF,$FFFFFFFF
    dc.l $FFFFFFFF,$FFFFFFFF,$FFFFFFFF,$FFFFFFFF
    dc.l $FFFFFFFF,$FFFFFFFF,$FFFFFFFF,$FFFFFFFF
    dc.l $FFFFFFFF,$FFFFFFFF,$FFFFFFFF,$FFFFFFFF
    dc.l $FFFFFFFF,$FFFFFFFF,$FFFFFFFF,$FFFFFFFF
&lt;/syntaxhighlight>

==For CD systems==
&lt;syntaxhighlight>
    org  $0
    dc.l $0010F300,$00C00402,$00C00408,$00C0040E
    dc.l $00C00414,$00C00426,$00C00426,$00C00426
    dc.l $00C0041A,$00C00420,$00C00426,$00C00426
    dc.l $00C00426,$00C00426,$00C00426,$00C0042C
    dc.l $00C00522,$00C00528,$00C0052E,$00C00534
    dc.l $00C0053A,$00C004F2,$00C004EC,$00C004E6
    dc.l $00C004E0,     IRQ2,   VBlank,     IRQ3
    dc.l   Generic,  Generic,  Generic,  Generic
    dc.l   Generic,  Generic,  Generic,  Generic
    dc.l   Generic,  Generic,  Generic,  Generic
    dc.l   Generic,  Generic,  Generic,  Generic
    dc.l   Generic,  Generic,  Generic,  Generic
    dc.l $00C00426,$00C00426,$00C00426,$00C00426
    dc.l $00C00426,$00C00426,$00C00426,$00C00426
    dc.l $00C00426,$00C00426,$00C00426,$00C00426
    dc.l $00C00426,$00C00426,$00C00426,$00C00426
&lt;/syntaxhighlight>

[[Category:Base system]]
[[Category:Code]]

A80 files contain [[Z80 file]] data.

We assume this is a kind of onboard Archive file to save constantly loading the data from CD.
 
How this data is used is not yet fully known. We currently assume data is stored in the program ROM space and then moved to the correct place as needed. It is not known if this is handled by the bios or game at present.

The game 'Neo Turf Masters' is known to use this file type.

[[Category:CD systems]]

AAT files contain [[PAT file]] data.

We assume this is a kind of onboard Archive file to save constantly loading the data from CD.
 
How this data is used is not yet fully known. We currently assume data is stored in the program ROM space and then moved to the correct place as needed. It is not known if this is handled by the bios or game at present.

The game 'Art of Fighting' is known to use this file type.

[[Category:CD systems]]

ABJ files contain [[OBJ file]] data.

We assume this is a kind of onboard Archive file to save constantly loading the data from CD.
 
How this data is used is not yet fully known. We currently assume data is stored in the program ROM space and then moved to the correct place as needed. It is not known if this is handled by the bios or game at present.
 
[[Category:CD systems]]

ACM files contain [[PCM file]] data.

We assume this is a kind of onboard Archive file to save constantly loading the data from CD.
 
How this data is used is not yet fully known. We currently assume data is stored in the program ROM space and then moved to the correct place as needed. It is not known if this is handled by the bios or game at present.

The game 'Art of Fighting' is known to use this file type (PCMB.ACM is a 100% match for PCMB.PCM).

[[Category:CD systems]]

#REDIRECT [[Alpha Denshi]]

{{GameInfo|right
|en_title=ADK World
|jp_title=ADK Special
|jp_title2=
|developer=SNK / ADK
|editor=ADK
|ngh_id=091
|megcount=46
|cd_release=y
|cd_release_jp=y
|cd_date=10/11/95
}}

[[Category:Games]]

[[Image:Screencap pcma pcmb.png|thumb|Screenshot of cart version]]
'''ADPCM-A and ADPCM-B example program''' (also known as "ADPCM-A and ADPCM-B example thing") is a demo by [[User:freem|freem]]. It allows for testing the playback of ADPCM-A and ADPCM-B samples, both looped and un-looped. The sampling rate of the ADPCM-B sample can also be adjusted.

==Links==
* [http://ajworld.net/neogeodev/examples/sound_loop.zip Download] ([[File:pcma_pcmb_demo.zip|Local mirror]])

[[Category:Demos]]

'''A'''daptive '''D'''ifferential '''P'''ulse '''C'''ode '''M'''odulation is a class of lossy audio compression algorithms. DPCM essentially encodes the difference between samples instead of storing each sample value directly. ADPCM improves on that by using less bits to store differences thanks to dynamic quantizing steps (the "adaptive" part). See [[https://en.wikipedia.org/wiki/Adaptive_differential_pulse-code_modulation Wikipedia article]] for more general information.

The NeoGeo's {{Chipname|YM2610}} uses this type of format for samples stored in the [[V ROM]]s or [[PCM file]]s. Each sample is coded in a signed 4 bit value, and decoded to 12 or 16 bits during playback.

Note that the Yamaha ADPCM formats are very different from the common IMA, Microsoft, mu-law and a-law ADPCM formats. See [[ADPCM codecs]] for encoding and decoding tools.

The NeoGeo CD can't use ADPCM-B.

=Status register=

{| class="regdef"
|'''Address (Z80 port 4)'''
|'''Data (Z80 port 5)'''
|Value on [[reset]]
|-
|$1C
|{{8BitRegister|B|1|-|1|A6|1|A5|1|A4|1|A3|1|A2|1|A1|1|}}
|$00
|}

Each bit corresponds to an ADPCM channel.

* Write 1 to reset and mask selected flag
* Write 0 to unmask selected flag

Masking a flag will prevent it from being raised when a channel reaches its end address. This means it is required to write 1 to clear the flag, then 0 to keep it active.

Flags must be manually cleared, playing a new sample on the channel won't clear it and the channel will stay silent.

=ADPCM-A=
The ADPCM-A part has '''6 channels''' with a '''fixed''' playback frequency of: 8MHz ({{Sig|8M|8M}}) / 12 (prescaler) / 6 clocks per access / 6 channels = ~'''18.5185kHz'''.

Audio is compressed as 4bit per sample and played back as '''12bit'''.

==Registers==

{| class="regdef"
|'''Address (Z80 port 6)'''
|'''Data (Z80 port 7)'''
|Value on [[reset]]
|
|-
|$00
|{{8BitRegister|Dump|1|-|1|CH6|1|CH5|1|CH4|1|CH3|1|CH2|1|CH1|1}}
|$00
|'Dump' is the key on/off bit. Write 0 to start playing specified channels and 1 to stop playing.
|-
|$01
|{{8BitRegister|-|2|Master volume|6}}
|$00
|Actually an attenuator, $3F is the loudest.
|-
|$02
|{{8BitRegister|?|8}}
|$00 ?
|Test register. Ignore or set to $00 for normal operation.
|-
|$08~$0D (one for each channel)
|{{8BitRegister|L|1|R|1|-|1|Channel volume|5}}
|$00
|Actually an attenuator, $1F is the loudest. L/R routes the output to the left and/or right channels.
|-
|$10~$15 (one for each channel)
|{{8BitRegister|Sample's start address/256 LSB|8}}
|$00
|rowspan="4"|All ADPCM addresses must match a 256-byte boundary (bits 0~7 = 0).
Example: if register $18 = $1D and register $10 = $23, the sample's start address will be $1D2300.
|-
|$18~$1D (one for each channel)
|{{8BitRegister|Sample's start address/256 MSB|8}}
|$00
|-
|$20~$25 (one for each channel)
|{{8BitRegister|Sample's stop address/256 LSB|8}}
|$00
|-
|$28~$2D (one for each channel)
|{{8BitRegister|Sample's stop address/256 MSB|8}}
|$00
|}

=ADPCM-B=
The ADPCM-B part only has '''1 channel''', but the playback frequency can be set from '''1.85kHz''' to: 8MHz ({{Sig|8M|8M}}) / 2 / 12 (prescaler) / 6 clocks per access = ~'''55.555kHz'''.

Audio is compressed as 4bit per sample and played back as '''16bit'''.

==Registers==

See [[ADPCM]] for details on this part's operation.

{| class="regdef"
|'''Address (Z80 port 4)'''
|'''Data (Z80 port 5)'''
|Value on [[reset]]
|
|-
|$10
|{{8BitRegister|Start|1|-|2|Repeat|1|-|3|Reset|1|}}
|$00
|Repeat: loop when end address is reached. Reset: clears Start and Repeat.
|-
|$11
|{{8BitRegister|L|1|R|1|-|6|}}
|$00
|Left/Right channel output
|-
|$12
|{{8BitRegister|Sample's start address/256 LSB|8}}
|?
|rowspan="4"|All ADPCM addresses must match a 256-byte boundary (bits 0~7 = 0)
|-
|$13
|{{8BitRegister|Sample's start address/256 MSB|8}}
|?
|-
|$14
|{{8BitRegister|Sample's stop address/256 LSB|8}}
|?
|-
|$15
|{{8BitRegister|Sample's stop address/256 MSB|8}}
|?
|-
|$19
|{{8BitRegister|Delta-N (L)|8}}
|?
|rowspan="2"|Playback rate is f = 8M / 12 / 12 / (65535 / Delta-N) = 55555 * (Delta-N / 65535) Hz
|-
|$1A
|{{8BitRegister|Delta-N (H)|8}}
|?
|-
|$1B
|{{8BitRegister|ADPCM-B channel volume|8}}
|?
|Loudest is $FF
|}

=Format=

Requirements:
* ADPCM-A samples can be any size from '''256 bytes to 1MiB, in 256 bytes steps'''.
* ADPCM-A samples '''cannot cross 1MB pages''' (the 4 MSBs of the end address must be equal those of the start address). Be sure to organize your data correctly.
* ADPCM-B samples can be any size from '''256 bytes to 16MiB, in 256 bytes steps'''.

The 256 byte boundary requirement means that ADPCM-A samples have a (256 bytes * 2 ADPCM sample per byte) / 18518Hz sample rate =~ 27.6ms duration granularity.

=Error accumulation=

[[File:Adpcm_drift.png|thumb|Decoded ADPCM audio slowly drifting upwards and hitting a chunk of garbage data.]]

Because ADPCM is based on the difference between samples, the accumulator (current sample value) will retain any error present in the data stream until the channel is reset. This makes playback waveforms prone to drifting and, if allowed to drift for long enough, saturation. This can manifest itself from subtle crackling/popping, to horrible, deafening sounds.

If a cartridge has contact issues for example, corrupt data will be read causing the accumulator to "jump" everywhere, immediately resulting in a horrendous screeching sound even if a single data line is disconnected.

Many V ROMs contain garbage data between valid samples, this is skipped over when normally played back by the [[sound driver]] program which knows where each sample start and end. Consequently, if the ROM dump is decoded from start to end without channel resets, the decoder will take the garbage data into account and the decoded audio output will either drift slowly or become brutally offset.

Perfect silence (flat waveform) isn't possible in this format since no value encodes a step of zero. The closest to silence one can obtain is by using alternating 0 (increase minimum) and 8 (decrease minimum) sample codes. Using only 0's will keep increasing the accumulator and will produce pops after some time.

Clean data should produce a zero-centered signal when decoded.

[[Category:Audio system]]

ADPCM codecs are used to encode samples to be used by the [[YM2610]].

All the code in this page process 16bit monoral, little endian raw sound data data (".snd" files, Goldwave can output this), make sure to have your samples at the proper frequency. C# implementation.

Remember to size/pad your sample so it's a 256 bytes multiple, this is not done in the following code.

== ADPCM-A ==
This codec accepts 18.5kHz samples, playback rate is fixed.

Inspired by Mame and MVStracker. This codec implementation was done with some trial &amp; error, might not be 100% correct. It however fixes the issue with long samples degenerating.

&lt;syntaxhighlight lang="csharp">
static short[] step_size = { 
			   16, 17, 19, 21, 23, 25, 28, 31, 34, 37,
			   41, 45, 50, 55, 60, 66, 73, 80, 88, 97,
			   107, 118, 130, 143, 157, 173, 190, 209, 230, 253,
			   279, 307, 337, 371, 408, 449, 494, 544, 598, 658,
			   724, 796, 876, 963, 1060, 1166, 1282, 1411, 1552
			   }; //49 items
static int[] step_adj = { -1, -1, -1, -1, 2, 5, 7, 9, -1, -1, -1, -1, 2, 5, 7, 9 };

//buffers
private byte[] buffer;	//input buffer, load your sound file into this
private short[] inBuffer;	//temp work buffer, used correct byte order and downsample
private byte[] outBuffer;	//output buffer, this is your PCM file, save it

//decode stuff
private int[] jedi_table;
int acc = 0; //ADPCM accumulator, initial condition must be 0
int decstep = 0; //ADPCM decoding step, initial condition must be 0

//encode stuff
int diff;
int step;
int predsample;
int index;
int prevsample = 0; // previous sample, initial condition must be 0
int previndex = 0; //previous index, initial condition must be 0

//jedi table is used speed up decoding, run this to init the table before encoding. Mame copy-pasta.
private void jedi_table_init()
{
	int step, nib;

	jedi_table = new int[16 * 49];
	for (step = 0; step &lt; 49; step++)
	{
		for (nib = 0; nib &lt; 16; nib++)
		{
			int value = (2 * (nib &amp; 0x07) + 1) * step_size[step] / 8;
			jedi_table[step * 16 + nib] = ((nib &amp; 0x08) != 0) ? -value : value;
		}
	}
}

//decode sub, returns decoded 12bit data
private short YM2610_ADPCM_A_Decode(byte code)
{
	acc += jedi_table[decstep + code];
	acc &amp;= 0xfff; // accumulator wraps
	if (acc &amp; 0x800) acc |= ~0xfff; // sign extend if negative
	decstep += step_adj[code &amp; 7] * 16;
	if (decstep &lt; 0) decstep = 0;
	if (decstep > 48 * 16) decstep = 48 * 16;
	return (short)acc;
}

// our encoding sub, returns ADPCM nibble
private byte YM2610_ADPCM_A_Encode(short sample)
{
	int tempstep;
	byte code;

	predsample = prevsample;
	index = previndex;
	step = step_size[index];

	diff = sample - predsample;
	if (diff >= 0)
		code = 0;
	else
	{
		code = 8;
		diff = -diff;
	}

	tempstep = step;
	if (diff >= tempstep)
	{
		code |= 4;
		diff -= tempstep;
	}
	tempstep >>= 1;
	if (diff >= tempstep)
	{
		code |= 2;
		diff -= tempstep;
	}
	tempstep >>= 1;
	if (diff >= tempstep) code |= 1;

	predsample = YM2610_ADPCM_A_Decode(code);

	index += step_adj[code];
	if (index &lt; 0) index = 0;
	if (index > 48) index = 48;

	prevsample = predsample;
	previndex = index;

	return code;
}

//our main sub, init buffers and runs the encode process
//enter this with your sound file loaded into buffer
private void YM_encode()
{
	int i;

	//reset to initial conditions
	acc = 0;
	decstep = 0;
	prevsample = 0;
	previndex = 0;

	//watch out for odd data count &amp; allocate buffers
	if ((buffer.Length / 2) % 2 != 0)
	{
		inBuffer = new short[(buffer.Length / 2) + 1];
		inBuffer[inBuffer.Length - 1] = 0x00;
	}
	else inBuffer = new short[buffer.Length / 2];
	outBuffer = new byte[inBuffer.Length / 2];

	//fix byte order and downscale data to 12 bits
	for (i = 0; i &lt; buffer.Length; i += 2)
	{
		inBuffer[i / 2] = (short)((buffer[i]) | (buffer[i + 1] &lt;&lt; 8));
		inBuffer[i / 2] >>= 4;
	}
	
	//actual encoding
	for (i = 0; i &lt; inBuffer.Length; i += 2)
	{
		outBuffer[i / 2] = (byte)((YM2610_ADPCM_A_Encode(inBuffer[i]) &lt;&lt; 4) | YM2610_ADPCM_A_Encode(inBuffer[i + 1]));
	}
}

&lt;/syntaxhighlight>

Encoding example: [[File:Gold_Rush_16b.snd.zip]]

== ADPCM-B ==
This codec accepts 1.8kHz ~ 55.5kHz samples, playback rate has to be specified at runtime.

Official codec from the [[YM2610]] datasheeet, works fine.

&lt;syntaxhighlight lang="csharp">
static long[] stepsizeTable = { 57, 57, 57, 57, 77, 102, 128, 153, 57, 57, 57, 57, 77, 102, 128, 153 };
private byte[] buffer;	//our input buffer, load your sample file into this before encoding
private byte[] outBuffer; //our output buffer, this is your PCM file, save it after encoding. Its size has to be allocated to buffer.length / 4 (16 bits per sample to 4 bits per sample)
private int outBufferIndex = 0; //reset to 0 before each encoding

private void YM2610_ADPCM_B_Encode()
{
	int lpc, flag;
	long i, dn, xn, stepSize;
	byte adpcm;
	byte adpcmPack = 0;
	short src;

	xn = 0;
	stepSize = 127;
	flag = 0;

	for (lpc = 0; lpc &lt; (buffer.Length / 2); lpc++)
	{
		src = (short)((buffer[lpc * 2]) | (buffer[lpc * 2 + 1] &lt;&lt; 8)); //16 bit samples, + fixing byte order
		dn = src - xn;
		i = (Math.Abs(dn) &lt;&lt; 16) / (stepSize &lt;&lt; 14);
		if (i > 7) i = 7;
		adpcm = (byte)i;
		i = (adpcm * 2 + 1) * stepSize / 8;
		if (dn &lt; 0)
		{
			adpcm |= 0x8;
			xn -= i;
		}
		else
		{
			xn += i;
		}
		stepSize = (stepsizeTable[adpcm] * stepSize) / 64;
		if (stepSize &lt; 127)
			stepSize = 127;
		else if (stepSize > 24576)
			stepSize = 24576;
		if (flag == 0)
		{
			adpcmPack = (byte)(adpcm &lt;&lt; 4);
			flag = 1;
		}
		else
		{
			adpcmPack |= adpcm;
			outBuffer[outBufferIndex++] = adpcmPack;
			flag = 0;
		}
	}
}
&lt;/syntaxhighlight>

==Decoding tool==
[[File:decoder_shot.png|right|thumb|DAT interface]]

Decoding ROM files / samples can be done using the YM2610 ADPCM decoder tool.
It decodes A and B type samples to a WAV file.

Works under modern windows OS, unlike previous tools that are deprecated.

[[File:YM2610_Decoder.zip]]

==ABOUT NEO GEO CD==
[[File:Pcmvader.png|right|thumb|Actual events leading to this discovery.]]

Fun fact: Neo Geo CD does not support ADPCM-B.


[[Category:Audio system]]

Home console cartridge, with pretty label and no vents.

Contains a {{Chipname|NEO-ZMC2}} or {{Chipname|PRO-CT0}} chip, contrary to [[MVS cartridge]]s. This is the reason why [[MVS to AES convertors]] can't be passive devices.

The cartridge connector has 2 * 2 * 50 = 200 pins. See [[AES cartridge pinout]].

[[Category:Cartridge systems]]

See also [[MVS cartridge pinout]].

* Pin pitch: .1in (2.54mm)
* Board thickness: 1.6mm
* Number of pins: 50 on each side, 100 per board, 200 per cartridge, with some pins missing or unused.

{| class="regdef" align="center" style="text-align:center;align:right;"
|CHA bottom
|CHA top
|PROG bottom
|PROG top
|-
|[[File:aespinout_chabot.png|150px]]
|[[File:aespinout_chatop.png|150px]]
|[[File:aespinout_progbot.png|150px]]
|[[File:aespinout_progtop.png|157px]]
|}

See [[Signal names]] for the description of each pin.

L in/out and R in/out: Audio loops only used on the {{PCB|NEO-AES board}} revision of the [[AES hardware|AES]] (info from [[User:Kyuusaku]])

[[Category:Cartridge systems]]

'''AES''' is a trademark that stands for "Advanced Entertainment System".

==Particularities==
* No [[battery-backed RAM]]
* No timekeeping functions
* [[Memory card]] slot
* Integrated switch mode step-down PSU in late models
* Headphone output
* RGB and composite video output

==Pinouts==

Carts, joypads, power, memory card, video out, see [[Pinouts]].

[[Category:Chips]]
[[Category:Cartridge systems]]

==Board revisions==

* [[NEO-AES_board|NEO-AES]]
* [[NEO-AES3-3_board|NEO-AES3-3]]
* [[NEO-AES3-4_board|NEO-AES3-4]]
* [[NEO-AES3-5_board|NEO-AES3-5]]
* [[NEO-AES3-6_board|NEO-AES3-6]]
* [[NEO-AES4-1_board|NEO-AES4-1]]

AIX files contain [[FIX file]] data.

We assume this is a kind of onboard Archive file to save constantly loading the data from CD.
 
How this data is used is not yet fully known. We currently assume data is stored in the program ROM space and then moved to the correct place as needed. It is not known if this is handled by the bios or game at present.
 
[[Category:CD systems]]

APR files contain [[SPR file]] data.

We assume this is a kind of onboard Archive file to save constantly loading the data from CD.
 
How this data is used is not yet fully known. We currently assume data is stored in the program ROM space and then moved to the correct place as needed. It is not known if this is handled by the bios or game at present.
 
[[Category:CD systems]]

ARG files contain [[PRG file]] data.

We assume this is a kind of onboard Archive file to save constantly loading the data from CD.
 
How this data is used is not yet fully known. We currently assume data is stored in the program ROM space and then moved to the correct place as needed. It is not known if this is handled by the bios or game at present.
 
[[Category:CD systems]]

#REDIRECT [[Alpha Mission II]]

[[Category:Games]]

AXT files contain [[TXT file]] data.

We assume this is a kind of onboard Archive file to save constantly loading the data from CD.
 
How this data is used is not yet fully known. We currently assume data is stored in the program ROM space and then moved to the correct place as needed. It is not known if this is handled by the bios or game at present.

[[Category:CD systems]]

{{GameInfo|right
|en_title=Aero Fighters 2 
|jp_title=Sonic Wings 2
|jp_title2=ソニックウィングス 2
|developer=Video System Co.
|ngh_id=075
|megcount=102
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=sonicwi2
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=sonicwi2
|aes_date=23/04/93
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=29/09/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Aero Fighters 3 
|jp_title=Sonic Wings 3
|jp_title2=ソニックウィングス 3
|eu_title=Sonic Wings 3
|developer=Video System Co.
|ngh_id=097
|megcount=154
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_release_eu=y
|mvs_romset=sonicwi3
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_romset=sonicwi3
|aes_date=17/11/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=08/12/95
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Aggressors of Dark Kombat 
|jp_title=Tsuukai GANGAN Koushinkyoku
|jp_title2=痛快ガンガン行進曲
|developer=ADK / SNK
|ngh_id=074
|megcount=178
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=aodk
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256B
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=aodk
|aes_date=26/08/94
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=08/12/95
}}

[[Category:Games]]

Alpha Denshi, later known as ADK, was a Japanese company based in Ageo, Saitama prefecture.

They are the electronic designers of the Neo Geo system, engineer [[Eiji Fukatsu]] being responsible for most of the schematics.

Alpha also developed numerous games for the platform, all the way from the system's debut in April of 1990 with [[Magician Lord]] to its end of life in 2003 with [[Dance RythMIX]].

{{GameInfo|right
|en_title=Alpha Mission II 
|jp_title=ASO II - Last Guardian
|jp_title2=ASOII ラストガーディアン
|developer=SNK
|ngh_id=007
|megcount=47
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=alpham2
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G
|mvs_cboard=CHA42G
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=alpham2
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

#REDIRECT [[Alpha Mission II]]

{{GameInfo|right
|en_title=Andro Dunos
|jp_title=Andro Dunos
|jp_title2=アンドロデュノス
|developer=Visco
|ngh_id=049
|megcount=32
|tcrf=https://tcrf.net/Andro_Dunos
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=androdun
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG16
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=androdun
|aes_date=17/07/92
}}

Contains lots of raw 68k asm code, see TCRF page.

[[Category:Games]]

#REDIRECT [[Andro Dunos]]

#REDIRECT [[Aggressors of Dark Kombat]]

#REDIRECT [[Art of Fighting]]

#REDIRECT [[Art of Fighting 2]]

#REDIRECT [[Art of Fighting 3 - The Path of the Warrior]]

Arcade time-outs are menu or gameplay mechanics which are designed to bring the game back to attract mode if the player abandons the game.

Often remembered as frustratingly short countdowns during hi-score name input, they are mainly used to improve player flow and therefore revenue.

There's no real point of keeping such time-outs in the home version of games.

==Menus==

Whenever the player needs to make a choice, an arcade game should have a time-out after which a default or random choice is made.

These can typically be set up in the [[software DIPs]] in 5 seconds increments.

==In-game==

[[File:ms1_timeout.png|thumb|In [[Metal Slug - Super Vehicle-001]], a bazooka soldier will come in screen and shoot the player if he doesn't progress quickly enough.]]

If no inputs are registered after some time or if the player stays at the same position for too long, the game might display a warning before an automatic attack or an instant kill is triggered. For example a "GO =>" arrow or a "HURRY UP!" message.

In [[Mutation Nation]], bouncing warheads will appear from nowhere and explode when they reach the player.

[[Category:Cartridge systems]]
[[Category:Games]]

[[Image:Snkvideo1.jpg|thumb|Only known image of the Art Box]]


The art box is a development tool used to create and edit graphic data for Neo·Geo games. Its first and only (known) public demonstration is in SNK's 1992 Corporate Presentation. 

The data created was then saved on a JEIDA IC card "SNK 16 MB FLASH MEMORY". It could then have been used as C ROM in [[CHAMC2]] and other compatible boards.

It is not yet public knowledge if the IC Card retains palette data and/or index data for easy sprite data editing.

{{GameInfo|right
|en_title=Art of Fighting
|jp_title=Ryuuko no Ken
|jp_title=龍虎の拳
|developer=SNK
|ngh_id=044
|megcount=102
|tcrf=https://tcrf.net/Art_of_Fighting_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=aof
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG_4096
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=aof
|aes_date=11/12/92
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

=Source code=

=Strings=

* Sound test and palette stuff

&lt;pre>
NOP TOOL
&lt;/pre>

[[Category:Games]]

#REDIRECT [[Art of Fighting 3 - The Path of the Warrior]]

[[Category:Games]]

{{GameInfo|right
|en_title=Art of Fighting 2
|jp_title=Ryuuko no Ken 2
|jp_title2=龍虎の拳 2
|developer=SNK
|ngh_id=056
|megcount=178
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=aof2
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=aof2a
|aes_date=11/03/94
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Art of Fighting 3 - The Path of the Warrior
|jp_title=Art of Fighting - Ryuuko no Ken Gaiden
|jp_title2=龍虎の拳 外伝
|developer=SNK
|ngh_id=096
|megcount=298
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=aof3
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=aof3
|aes_date=26/04/96
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=14/09/96
}}

[[Category:Games]]

#REDIRECT [[Legend of Success Joe]]

[[Category:Games]]

==NEO-AES==

By [[User:Kyuusaku]].

[[File:NEO-AES_analog_audio_(1_of_2).png]]

[[File:NEO-AES_analog_audio_(2_of_2).png]]

[[Category:Repairs]]
[[Category:Audio system]]

[[File:Autoanim.gif|frame|2bit (4 tiles) example from [[Mutation Nation]].]]

Some information from Charles MacDonald.

Auto-animation is a special feature of the video controller allowing animation of simple loops with no CPU usage. It is enabled via [[sprites|sprite]] tile attributes bits.

==Usage==

The auto-animation speed is a global setting, which is set in the highest 8 bits of {{Reg|REG_LSPCMODE}}. A value of n will tick the animation every n+1 frames.

When setting the auto-animation speed, the new value is only taken into account the next time the timer underflows (reloads), not immediately after the write.

Bit 3 of REG_LSPCMODE stalls animation when set. The animation counter is '''read only''', from the lower 3 bits of REG_LSPCMODE.

Auto-animation is enabled per-tile via 2 bits in the odd bytes of [[Sprites|SCB1]]:
{{16BitRegister|[[Palettes|Palette]]|8|Tile number MSBs|4|'''3-bit auto-anim'''|1|'''2-bit auto-anim'''|1|Vertical flip|1|Horizontal flip|1}}

Effects:

{|class="wikitable"
!Bit 3||Bit 2||Effect
|-
|0||0||No auto-animation for this tile. Tile shown is the tile number.
|-
|0||1||Auto-animation over 4 tiles.
|-
|1||0||Auto-animation over 8 tiles.
|-
|1||1||Auto-animation over 8 tiles (bit 2 is ignored).
|}

Depending on the animation period (4 or 8 frames), the tile number specified in [[Sprites|SCB1]] has the lower 2 or 3 bits '''replaced''' with those of the animation counter.

Note that the bits are '''replaced''', not added. Therefore, the tiles must be carefully aligned to the right positions in the [[C ROM]]s.

==Operation==

An internal 8-bit timer is ticked each frame. When it underflows, two things happen:

* The timer is reloaded with the last value written to it, which comes from the 8 highest bits of REG_LSPCMODE.
* An internal 3-bit animation counter is incremented.

When auto-animation is disabled (bit 3 of REG_LSPCMODE set), the timer and animation counter continue to function. However, '''all''' tiles are shown as if their animation mode select bits were reset (so the tile number specified is the tile shown).

[[Category:Video system]]

==BIOSF_CDDACMD ($C0056A): Issue CDDA command ==

Command.b/track.b pair in D0. Can hook the [[68k interrupts|VBL interrupt]] for a while, depending on command.

See [[CDDA]].

[[Category:BIOS calls]]

==BIOSF_LOADFILE ($C00552): Load file from CD (with animation)==

A0 points to a file list, with entries having the following format:
* The file name, ends with 0 (in 8.3 format)
* The destination bank (byte)
* Eventual padding byte to align the destination to an even address
* Destination (longword)

The list must not exceed 32 files, and must end with a 0 byte.

Example:

&lt;pre>
"STAGE_2.SPR"
0x02
0x00
0x00001600
&lt;/pre>

Loads '''STAGE_2.SPR''' at '''$201600''' in the sprite [[DRAM]].

For [[FIX file|FIX]], [[Z80 file|Z80]] (, [[PAT file|PAT]] ?) and [[PCM file|PCM]] files, the destination address is multiplied by 2 (8bit busses).

The destination memory is automatically chosen according to the file's extension.

[[Category:BIOS calls]]

The BIOSF_UPLOAD ($C00546) call copies data to the NeoGeo CD [[DRAM]].

The parameters are:

*{{BR|BIOS_UPSRC}} (longword): Data source address
*{{BR|BIOS_UPDEST}} (longword): Data destination address
*{{BR|BIOS_UPSIZE}} (longword): Data size
*{{BR|BIOS_UPZONE}} (byte): Zone/method, see below
*{{BR|BIOS_UPBANK}} (byte): DRAM bank

When the call returns, BIOS_UPDEST points to the end of the copied data, allowing multiple consecutive uploads without setting the destination address again.

=Banks=

Some DRAM zones have banks: SPR has 4 banks (each 1MiB), PCM has 2 banks (each 512KiB).

=Zones/methods=

==$00: Copy PRG words (DMA)==
Loads word copy DMA microcode.

==$01: Copy Fix graphics bytes (DMA)==
Loads byte copy DMA microcode. Dest = Dest + Size * 2.

==$02: Copy Sprite graphics words (DMA)==
Loads word copy DMA microcode. Copies over 1MiB are possible, the bank is incremented automatically.

==$03: Copy Z80 program bytes (DMA)==
Loads byte copy DMA microcode.

The destination address must be multiplied by 2 (8bit bus) ? Size doesn't have to be multiplied, but has to be an even number ?

==$04: Copy PCM bytes (CPU)==
Loads byte copy DMA microcode.

The destination address must be multiplied by 2 (8bit bus). Size doesn't have to be multiplied, but has to be an even number. Copies over 1MiB are possible, the bank is incremented automatically.

==$05: Install [[PAT file]]==
Notes:
*10F736.l=((Bank*$10000)+Dest)/256
*10F736+Address/2

==$06: Copy palette words (DMA)==
Loads word copy DMA microcode.

==$07: Copy compressed sprite graphics (CPU)==
The first longword's value indicates the size of the '''compressed''' data, BIOS_UPSIZE isn't used.
When a longword zero is copied, the following longword indicates how many zero longwords to insert.

This method allows compression of large transparent zones. Is it ever used by games ?

==$08: Copy PRG words (DMA)==
Same as method $00.

==$10: Copy PRG longwords (CPU)==
Size must be a multiple of 4.

==$11: Copy Fix graphics words (CPU)==
The destination address must be multiplied by 2 (8bit bus). Size doesn't have to be multiplied, but has to be an even number.

==$12: Copy Sprite graphics longwords (CPU)==
Size must be a multiple of 4.

==$13: Copy Z80 program bytes (CPU)==
The destination address must be multiplied by 2 (8bit bus). Size doesn't have to be multiplied, but has to be an even number.

==$14: Copy PCM bytes (CPU)==
The destination address must be multiplied by 2 (8bit bus). Size doesn't have to be multiplied, but has to be an even number. Copies over 1MiB are possible, the bank is incremented automatically.

Difference with $04 ?

==$15: Install PAT file==
Same as method $05.

==$16: Copy palette longwords (CPU)==
Size must be a multiple of 4.

==$17: Copy compressed sprite graphics (CPU)==
Same as method $07.

==$18: Copy PRG longwords (CPU)==
Same as method $10.

[[Category:BIOS calls]]

== BIOSF_VIDEOEN ($C00570): Enable/disable video layers ==

Only available on CD systems. All used registers are preserved.

The parameters are in bits 0~2 of D0:

{{8BitRegister|Don't care|5|Enable video output&lt;br/>(locks up ?)|1|Enable [[sprites]]|1|Enable [[fix layer]]|1}}

Enabling doesn't seem to work on real hardware ? (one way disable ?)

This function internaly uses the '''$FF0115''', '''$FF0111''' and '''$FF0119''' [[memory mapped registers]]. 

[[Category:BIOS calls]]

The locations are (?) guaranteed to be identical accross all [[system ROM]] versions so that games can use them regardless of the system type.

=Game Related=

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FD84~$10FD93
|BIOS_GAME_DIP
|16 bytes
|BIOS
|[[Software DIPs]] values (game configuration)
|-
|$10FDAE
|BIOS_USER_REQUEST
|byte
|BIOS
|Request code for the [[USER subroutine]]. 0:Init, 1:Boot animation, 2:Demo, 3:Title
|-
|$10FDAF
|BIOS_USER_MODE
|byte
|BIOS/Game
|Used by the game to tell what it's doing: 0:Init/Boot animation, 1:Title/Demo, 2:Game
[[Game selection]] can only be done on MVS systems when this byte is &lt; 2
|-
|$10FDB0
|BIOS_CREDIT_DEC
|4 bytes
|Game
|Credit decrement value for each player (1, 2, 3, 4) when calling [[CREDIT DOWN]].
|-
|$10FDB4
|BIOS_START_FLAG
|byte
|BIOS
|Used when calling the [[PLAYER START subroutine]]. The 4 LSBs correspond to the player who pushed start.
|-
|$10FDB6
|BIOS_PLAYER_MOD1
|byte
|Game
|rowspan="4|Sets player status. 0:Never played, 1:Playing, 2:Continue option being displayed, 3:Game over
|-
|$10FDB7
|BIOS_PLAYER_MOD2
|byte
|Game
|-
|$10FDB8
|BIOS_PLAYER_MOD3
|byte
|Game
|-
|$10FDB9
|BIOS_PLAYER_MOD4
|byte
|Game
|-
|$10FEC5
|BIOS_TITLE_MODE
|byte
|BIOS/Game
|Newer games set this to 1 in their command 3 [[USER subroutine]]. It prevents the system ROM from calling command 3 twice after game over if credits are already in the system.
|}

=System Related=

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FD80
|BIOS_SYSTEM_MODE
|byte
|BIOS
|0:BIOS wants vblank (system mode), $80:Ok to use vblank (game mode)
|-
|$10FD81
|BIOS_SYSRET_STATUS
|byte
|BIOS
|Internal value which stores the function code that [[SYSTEM_RETURN]] will call.
*0 : Init bram/select valid game for eye-catcher
*1 : Set the EL-LED to the correct value
*2 : Switch to the next slot, relaunch eye-catcher
*3 : After a gameover, save the playtime for bookeeping, switch to DEMO mode, reset the workbackup ram
*4 : Switch next slot (select p1 pressed)
*5 : Switch to previous slot (select p2 pressed)
*6 : Called after a coin deposit, does nothing
|-
|$10FD82
|BIOS_MVS_FLAG
|byte
|BIOS
|System type. 0:AES, 1:MVS
|-
|$10FD83
|BIOS_COUNTRY_CODE
|byte
|BIOS
|0:Japan, 1:USA, 2:Europe
|-
|$10FE80
|BIOS_DEVMODE
|8 bytes
|BIOS
|All set to 0x00 in normal mode. Set to "1streset" string in developer mode
|}

=Joypad Related=

These values are updated by calling [[SYSTEM_IO]].

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FD94
|BIOS_P1STATUS
|byte
|BIOS
|0:No connection, 1:Normal joypad, 2:Expanded joypad, 3:Mahjong controller, 4:Keyboard
|-
|$10FD95
|BIOS_P1PREVIOUS
|byte
|BIOS
|Inputs on previous frame [DCBA Right Left Down Up] (positive logic).
|-
|$10FD96
|BIOS_P1CURRENT
|byte
|BIOS
|Inputs on current frame [DCBA Right Left Down Up] (positive logic).
|-
|$10FD97
|BIOS_P1CHANGE
|byte
|BIOS
|Buttons just pressed, active edge [DCBA Right Left Down Up] (positive logic).
|-
|$10FD98
|BIOS_P1REPEAT
|byte
|BIOS
|Active edge + repeat every 8 frames after 16 frames. [DCBA Right Left Down Up] (positive logic).
|-
|$10FD99
|BIOS_P1TIMER
|byte
|BIOS
|Repeat timer (counts down from 8 to 0).
|-
|$10FD9A~$10FD9F
|Same for P2
|6 bytes
|BIOS
|See above
|-
|$10FDA0~$10FDA6
|Same for P3
|6 bytes
|BIOS
|See above
|-
|$10FDA7~$10FDAB
|Same for P4
|6 bytes
|BIOS
|See above
|-
|$10FDAC
|BIOS_STATCURNT
|byte
|BIOS
|Select P4, Start P4, Select P3, Start P3, Select P2, Start P2, Select P1, Start P1 (positive logic)

On MVS the select bits are always read as 0.
|-
|$10FDAD
|BIOS_STATCHANGE
|byte
|BIOS
|Select P4, Start P4, Select P3, Start P3, Select P2, Start P2, Select P1, Start P1 (positive logic)

On MVS the select bits are always read as 0.
|-
|$10FEDC
|BIOS_STATCURNT_RAW
|byte
|BIOS
|Select P4, Start P4, Select P3, Start P3, Select P2, Start P2, Select P1, Start P1 (positive logic)
|-
|$10FEDD
|BIOS_STATCHANGE_RAW
|byte
|BIOS
|Select P4, Start P4, Select P3, Start P3, Select P2, Start P2, Select P1, Start P1 (positive logic)
|}

=Memory Card Related=

See [[CARD]] for more details on those variables.

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FDC4
|BIOS_CARD_COMMAND
|byte
|BIOS or Game
|Command to execute
|-
|$10FDC5
|BIOS_CARD_MODE
|byte
|BIOS?
|Internal use?
|-
|$10FDC6
|BIOS_CARD_ANSWER
|byte
|BIOS
|Answer code for the command
|-
|$10FDC8
|BIOS_CARD_START
|longword
|BIOS or Game
|Pointer to data
|-
|$10FDCC
|BIOS_CARD_SIZE
|word
|BIOS or Game
|Size of data
|-
|$10FDCE
|BIOS_CARD_FCB
|word
|BIOS or Game
|Game NGH number
|-
|$10FDD0
|BIOS_CARD_SUB
|byte or word
|BIOS or Game
|Game Subnumber
|}

=MESS OUT Related=

See [[MESS_OUT]] to know how to use this routine.

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FDBE
|BIOS_MESS_POINT
|longword
|Game
|Buffer pointer
|-
|$10FDC2
|BIOS_MESS_BUSY
|byte
|Game
|0:Allow MESS_OUT, 1:Skip MESS_OUT
|}

=Calendar Related=

Those value are updated when [[READ_CALENDAR]] is called

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FDD2
|BIOS_YEAR
|byte
|BIOS
|Current year
|-
|$10FDD3
|BIOS_MONTH
|byte
|BIOS
|Current month
|-
|$10FDD4
|BIOS_DAY
|byte
|BIOS
|Current day
|-
|$10FDD5
|BIOS_WEEKDAY
|byte
|BIOS
|Current weekday (Sunday = 00, Monday = 01 ... Saturday = 06)
|-
|$10FDD6
|BIOS_HOUR
|byte
|BIOS
|Current hour (24h format)
|-
|$10FDD7
|BIOS_MINUTE
|byte
|BIOS
|Current minute
|-
|$10FDD8
|BIOS_SECOND
|byte
|BIOS
|Current minute
|}

=Internal=

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FCEF
|BIOS_SLOTCHECK
|byte
|BIOS
|[[Slot check]] passed if non-zero
|-
|$10FDDA
|BIOS_COMPULSION_TIMER
|byte
|BIOS
|Timer for the game compulsion start feature, in seconds. BCD format.
|-
|$10FDDB
|BIOS_COMPULSION_FRAME_TIMER
|byte
|BIOS
|Frame-based timer for the game compulsion start feature.

When it underflows, the timer is reset to 59 and START_COMPULSION_TIMER is decremented.
|-
|$10FE88
|BIOS_FRAME_COUNTER
|longword
|BIOS
|Frame counter, updated by SYSTEM_IO.
|-
|$10FEBF
|BIOS_BRAM_USED
|byte
|BIOS
|0:[[Backup RAM]] not currently used, 1:Currently used
|-
|$10FEE1
|BIOS_FRAME_SKIP
|byte
|BIOS
|Number of frames to skip in the routine which checks demo_end or if the player has pressed start.

Decremented in [[SYSTEM_IO]].
|-
|$10FEE3
|BIOS_INT1_SKIP
|byte
|BIOS
|Only used in [[SYSTEM_INT1]]. If non-zero, will only do the [[RTC]] check during INT1.
|-
|$10FEE4
|BIOS_INT1_FRAME_COUNTER
|byte
|BIOS
|Frame counter, only used in [[SYSTEM_INT1]]
|}

=4P mode related=

Thoses will be valid on a 4P compatible bios only

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FEF8
|BIOS_4P_REQUESTED
|byte
|BIOS
|Keeps a local copy of hard dip 2 status on bootup.

0: dip2 wasn't set

$2: dip 2 was on.
|-
|$10FEFA
|BIOS_4P_MODE
|byte
|BIOS
|Main 4P flag, is set when hard dip 2 is on and 4P board is found.

0: regular play

$FF: 4P mode game
|-
|$10FEFB
|BIOS_4P_PLUGGED
|byte
|BIOS
|0: 4P board not found

$FF: 4P board plugged

4P compatible bios will check for 4P board regardless of dip2 switch status.
|}

=CD only=

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FEF4
|BIOS_UPDEST
|Long
|Game
|Copy destination address
|-
|$10FEF8
|BIOS_UPSRC
|Long
|Game
|Copy source address
|-
|$10FEFC
|BIOS_UPSIZE
|Long
|Game
|Copy data size
|-
|$10FEDA
|BIOS_UPZONE
|Byte
|Game
|Copy zone (0=PRG, 1=FIX, 2=SPR, 3=Z80, 4=PCM, 5=PAT, 7=OBJ, 8=A** files)
|-
|$10FEDB
|BIOS_UPBANK
|Byte
|Game
|Copy bank
|}

=Others=

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FCEE
|?
|byte
|GAME
|Z80/M ROM check pass

|}

[[Category:Base system]]

#REDIRECT [[System self-test]]

Please see [[68k ASM defines]] or [[C Defines]] for the hex addresses.

= Jump tables =

{| class="regdef" style="text-align:center;"
|'''Call address'''
|'''[[NEO-EP0]] AES BIOS'''
|'''"SP-E" MVS BIOS'''
|'''"TOP-SP1-1" CDM3-2 BIOS''' &amp; '''"FRONT-SP1" BIOS'''
|'''"NEOCD.BIN" CDZ BIOS'''
|-
|$C00402 to $C00432
|colspan="4"|Entry point
|-
|$C00438
|colspan="4"|[[SYSTEM_INT1]]
|-
|$C0043E
|colspan="2"|[[SYSTEM_INT2]]
|colspan="2"|RTS
|-
|$C00444
|colspan="4"|[[SYSTEM_RETURN]]
|-
|$C0044A
|colspan="4"|[[SYSTEM_IO]]
|-
|$C00450
|colspan="4"|[[CREDIT_CHECK]]
|-
|$C00456
|colspan="4"|[[CREDIT_DOWN]]
|-
|$C0045C
|RTS
|[[READ_CALENDAR]]
|colspan="2"|RTS
|-
|$C00462
|RTS
|[[SETUP_CALENDAR]]
|colspan="2"|RTS
|-
|$C00468
|colspan="4"|[[CARD]]
|-
|$C0046E
|colspan="4"|[[CARD_ERROR]]
|-
|$C00474
|colspan="2"|[[HOW_TO_PLAY]]
|colspan="2"|RTS
|-
|$C0047A
|colspan="2"|Calc a checksum and loop forever
|colspan="2"|RTS
|-
|$C00480 to $C004BC
|colspan="4"|RTS
|-
|$C004C2
|colspan="4"|[[FIX_CLEAR]]
|-
|$C004C8
|colspan="4"|[[LSP_1st]]
|-
|$C004CE
|colspan="4"|[[MESS_OUT]]
|-
|$C004D4
|colspan="4"|[[CONTROLLER_SETUP]]
|-
|$C004DA
|colspan="2"|RTS
|colspan="2"|HBlank handler
|-
|$C004E0 to $C004F2
|colspan="2"|Invalid
|colspan="2"|$FF0000 range register operations and RTEs
|-
|$C004F8 to $C0051C
|colspan="2"|Invalid
|colspan="2"|RTS
|-
|$C00522 to $C00540
|colspan="2"|Invalid
|colspan="2"|?
|-
|$C00546
|colspan="2"|Invalid
|colspan="2"|[[BIOSF_UPLOAD]]
|-
|$C0054C
|colspan="2"|Invalid
|colspan="2"|?
|-
|$C00552
|colspan="2"|Invalid
|colspan="2"|[[BIOSF_LOADFILE]]
|-
|$C00558
|colspan="2"|Invalid
|colspan="2"|?
|-
|$C0055E
|colspan="2"|Invalid
|colspan="2"|BIOSF_CDPLAYER
|-
|$C00564
|colspan="2"|Invalid
|colspan="2"|BIOSF_LOADFILEX (?)
|-
|$C0056A
|colspan="2"|Invalid
|colspan="2"|[[BIOSF_CDDACMD]]
|-
|$C00570
|colspan="2"|Invalid
|colspan="2"|[[BIOSF_VIDEOEN]]
|-
|$C00576
|colspan="2"|Invalid
|colspan="2"|[[BIOSF_PUSHCDOP]]
|-
|$C0057C
|colspan="2"|Invalid
|colspan="2"|[[BIOSF_SETCDDMODE]]
|-
|$C00582
|colspan="2"|Invalid
|colspan="2"|[[BIOSF_RESETGAME]]
|-
|$C00588 to $C00594
|colspan="2"|Invalid
|RTS
|?
|-
|$C0059A to $C006FC
|colspan="2"|Invalid
|colspan="2"|RTS
|}

= Generic BIOS calls =
BIOS calls common to every system.

*[[FIX_CLEAR]]: Clear fix layer
*[[LSP_1st]]: Clear sprites
*[[SYSTEM_INT1]]: Multiple purpose VBL routine
*[[CARD]]: Perform memory card operation

= MVS only BIOS calls =
* [[READ_CALENDAR]]: Read the current calendar values and update the relevant BIOS RAM locations
* [[SETUP_CALENDAR]]: Set the calendar values to the data from the relevant BIOS RAM locations

= CD only BIOS calls =

*[[BIOSF_VIDEOEN]]: Enable/disable video layers
*[[BIOSF_UPLOAD]]: Upload data to [[DRAM]]
*[[BIOSF_LOADFILE]]: Load file from CD (with animation)
*BIOSF_CDPLAYER ($C0055E): Reset to CD player
*BIOSF_LOADFILEX (?) ($C00564): Load file from CD (no animation)
*[[BIOSF_CDDACMD]]: Issue CDDA command

= CDZ only BIOS calls =

Check track 0 ? [[Copy protection]]

[[Category:BIOS calls]]

The backup RAM is a [[battery-backed_RAM|battery-powered]] 64KiB RAM space used by the [[MVS]] to store game scores, cab infos and income logs. Access can be handled by [[BIOS calls]].

[[68k memory map|Memory region]]: $D00000~$D0FFFF (Mirrored up to $DFFFFF ?).

== Data structure ==

All offset are taken from the sp-s2.bin system ROM.

{| class="regdef"
| '''Start'''
| '''End'''
| '''Size'''
| '''Data'''
| '''Description'''
|-
|$D00000
|$D0000F
|16
|$00
|Unused, fill with $00
|-
|$D00010
|$D0001F
|16
|"BACKUP RAM OK!Ç"
|The routine at $C125C8 will check if this string is present, if not it will test the ram (using the test_ram routine at $C13134) and re-init the backupram
|-
|$D00020
|$D00021
|2
|
|Coin deposit related (rising edge finding), old and new value of REG_STATUS_A
|-
|$D00022
|$D00023
|2
|
|Temp value for the coin deposit rising edge finding
|-
|$D00024
|$D00025
|2
|
|Internal coin counter (not credit)
|-
|'''$D00026'''
|'''$D0002F'''
|
|
|?
|-
|$D00034
|$D00035
|2
|$00
|"Internal" credit counters for player 1 and player 2 (BCD)
|-
|'''$D00036'''
|'''$D00039'''
|
|
|?
|-
|$D0003A
|$D00045
|12
|
|Cab settings.
;$D0003A: Coins needed for crediting player 1 (initialized to $01)
;$D0003B: Credits added to player 1 (initialized to $01)
;$D0003C: Coins needed for crediting player 2 (initialized to $01)
;$D0003D: Credits added to player 2 (initialized to $02)
;$D00042: Game select (1=Free, 0=Only when credited) (initialized to 0)
;$D00043: Game start compulsion (0 = enabled, 1 = disabled)
;$D00044: Game start compulsion time (max time in seconds in BCD between inserting a coin and starting the game) (initialized to $30)
;$D00046: Demo sound (1=Without) (initialized to 0)
|-
|$D00046
|$D00046
|1
|SOUND_STOP
|No sound at all if non-zero (except coinage sound effect)
|-
|$D00047
|$D00047
|1
|SLOT NUMBER
|Number of detected slots (2 for slot1)
|-
|$D00048
|$D0004B
|4
|PLAY TIME
|Counter of second played on the game in hex.

Reset to 0 by [[SYSTEM_RETURN]].
|-
|$D0004C
|$D0004C
|1
|PLAY_TIME_FRAME_TIMER
|Frame timer, start at $3C, decremented each frame. When the counter reach $00, PLAY_TIME is incremented and the counter is reseted to $3C
|-
|'''$D0004D'''
|'''$D00057'''
|
|
|?
|-
|$D00058
|$D00058
|1
|
|First slot number with a boot logo flag to 0 (playable by the system ROM)
|-
|$D0005A
|$D0005D
|4
|HHMMSSFF
|Timer based on frames.
*FF: frame down-counter ($3C to $00)
*SS: second counter ($00 to $3B)
*MM: minute counter ($00 to $3B)
*HH: hour counter *4 ($00 to $60 by 4 steps)
|-
|$D0005E
|$D00103
|
|
|?
|-
|$D00104
|$D00107
|4
|YYMMDDdd
|Current date
|-
|$D00108
|$D00108
|1
|Selected slot number (start at 0)
|Output directly to the EL panels
|-
|'''$D00109'''
|'''$D00109'''
|1
|EL_PANEL
|State of the EL-PANEL ???
|-
|$D0010A
|$D0010D
|4
|
|Detailed game start book address
|-
|$D0010E
|$D00111
|4
|
|Total game start book address
|-
|$D00112
|$D00115
|4
|
|Detailed cabinet coin book address (add 0x240 for the start book one)
|-
|$D00116
|$D00119
|4
|
|Current month cabinet coin book address (add 0xC0 for the start book one)
|-
|'''$D0011A'''
|'''$D00121'''
|
|
|?
|-
|$D00122
|$D00122
|1
|Changes daily
|Slot index ($0 to $23) for book keeping data.

Updated each time system is turned on on a new day
|-
|$D00124
|$D00127
|4
|Slot-1 [[NGH number]] and bram game block ID (see below)
|If not present $0000 as NGH and $FFFF as game name ID
|-
|$D00128
|$D0012B
|4
|Slot-2 [[NGH number]] and bram game block ID (see below)
|If not present $0000 as NGH and $FFFF as game name ID.
On a slot1 always unset (slot1 are slot2 with the second one empty)
|-
|$D0012C
|$D0012F
|4
|Slot-3 [[NGH number]] and bram game block ID (see below)
|If not present $0000 as NGH and $FFFF as game name ID
|-
|$D00130
|$D00133
|4
|Slot-4 [[NGH number]] and bram game block ID (see below)
|If not present $0000 as NGH and $FFFF as game name ID
|-
|$D00134
|$D00137
|4
|Slot-5 [[NGH number]] and bram game block ID (see below)
|If not present $0000 as NGH and $FFFF as game name ID
|-
|$D00138
|$D0013B
|4
|Slot-6 [[NGH number]] and bram game block ID (see below)
|If not present $0000 as NGH and $FFFF as game name ID
|-
|$D0013C
|$D0013F
|4
|Slot-7 [[NGH number]] and bram game block ID (see below)
|If not present $0000 as NGH and $FFFF as game name ID
|-
|$D00140
|$D00143
|4
|Slot-8 [[NGH number]] and bram game block ID (see below)
|If not present $0000 as NGH and $FFFF as game name ID
|-
|$D00144
|$D00147
|4
|YYMMDDdd
|Slot-1 book creation time YEAR-MONTH-DAY-day number
|-
|$D00148
|$D0014B
|4
|YYMMDDdd
|Slot-2 book creation time YEAR-MONTH-DAY-day number
|-
|$D0014C
|$D0014F
|4
|YYMMDDdd
|Slot-3 book creation time YEAR-MONTH-DAY-day number
|-
|$D00150
|$D00153
|4
|YYMMDDdd
|Slot-4 book creation time YEAR-MONTH-DAY-day number
|-
|$D00154
|$D00157
|4
|YYMMDDdd
|Slot-5 book creation time YEAR-MONTH-DAY-day number
|-
|$D00158
|$D0015B
|4
|YYMMDDdd
|Slot-6 book creation time YEAR-MONTH-DAY-day number
|-
|$D0015C
|$D0015F
|4
|YYMMDDdd
|Slot-7 book creation time YEAR-MONTH-DAY-day number
|-
|$D00160
|$D00163
|4
|YYMMDDdd
|Slot-8 book creation time YEAR-MONTH-DAY-day number
|-
|'''$D00164'''
|'''$D001A3'''
|
|
|?
|-
|$D001A4
|$D001A7
|4
|
|Current month game start book
|-
|'''$D001A8'''
|'''$D0021F'''
|
|
|?
|-
|$D00220
|$D0029F
|16*8
|
|Games soft DIPs settings (in which order ?)
|-
|$D002A0
|$D002AF
|16
|
|bram block 0 game name
|-
|$D002B0
|$D002BF
|16
|
|bram block 1 game name
|-
|$D002C0
|$D002CF
|16
|
|bram block 2 game name
|-
|$D002D0
|$D002DF
|16
|
|bram block 3 game name
|-
|$D002E0
|$D002EF
|16
|
|bram block 4 game name
|-
|$D002F0
|$D002FF
|16
|
|bram block 5 game name
|-
|$D00300
|$D0030F
|16
|
|bram block 6 game name
|-
|$D00310
|$D0031F
|16
|
|bram block 7 game name
|-
|$D00320
|$D0131F
|$1000
|
|bram block 1 data
|-
|$D01320
|$D0231F
|$1000
|
|bram block 2 data
|-
|$D02320
|$D0331F
|$1000
|
|bram block 3 data
|-
|$D03320
|$D0431F
|$1000
|
|bram block 4 data
|-
|$D04320
|$D0531F
|$1000
|
|bram block 5 data
|-
|$D05320
|$D0631F
|$1000
|
|bram block 6 data
|-
|$D06320
|$D0731F
|$1000
|
|bram block 7 data
|-
|$D07320
|$D0831F
|$1000
|
|bram block 8 data
|-
|$D08320
|$D0951F
|$1200
|YYMMDDdd - PLAY - CONTINUE - TIME
|Bookkeeping - Daily game play data (8 slots of $24 * $10 entries)
|-
|$D09520
|$D09B1F
|$600
|YYMMDDdd - PLAY - CONTINUE - TIME
|Bookkeeping - Monthly game play data (8 slots of 12 * $10 entries)
|-
|$D09B20
|$D09B9F
|$80
|YYMMDDdd - PLAY - CONTINUE - TIME
|Bookkeeping - Total game play data (8 slots $10 entries)
|-
|$D09BA0
|$D09DDF
|$240
|YYMMDDdd - COIN1 - COIN2 - SERVICE
|Bookkeeping - Daily cab coin data

Each entry is $10 byte long
|-
|$D09DE0
|$D0A01F
|$240
|YYMMDDdd - PLAY - CONTINUE - TIME
|Bookkeeping - Daily cab play data

Each entry is $10 byte long
|-
|$D0A020
|$D0A0DF
|$C0
|00000000 - COIN1 - COIN2 - SERVICE
|Bookkeeping - Monthly cab coin data ($10 bytes entries * 12)
|-
|$D0A0E0
|$D0A19F
|$C0
|00000000 - PLAY - CONTINUE - TIME
|Bookkeeping - Monthly cab play data ($10 bytes entries * 12)
|}

[[Category:Cartridge systems]]

#REDIRECT [[Bakatonosama Mahjong Manyuuki]]

{{GameInfo|right
|en_title=
|jp_title=Bakatonosama Mahjong Manyuuki
|jp_title2=バカ殿様麻雀漫遊記
|developer=Monolith Corp.
|editor=Monolith Corp.
|ngh_id=036
|megcount=48
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=bakatono
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G-COM
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_date=20/12/91
|aes_romset=bakatono
}}

[[Category:Games]]

#REDIRECT [[The Last Blade 2]]

[[Category:Games]]

#REDIRECT [[The Last Blade]]

[[Category:Games]]

{{GameInfo|right
|en_title=Bang Bead
|jp_title=Bang Bead
|jp_title2=バン・ビード
|developer=Visco
|ngh_id=259
|megcount=170
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=bangbead
|mvs_date=2000
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

#REDIRECT [[Bang Bead]]

Games which need more than 2MiB of [[P ROM]] data use simple bankswitching in the [[68k memory map|PORT memory range]] ($200000~$2FFFFF), which is achieved in hardware by latches on the cartridge's [[PROG board]]. No games use bankswitching of the ROM range ($000000~$1FFFFF) ?

To switch the ROM bank, a byte needs to be written in this range. Depending on how large the ROM is, one or more bits can be used.

[[File:Pbankswitch.png|thumb|300px]]

For example, the PROGBK1 board uses a 74LS74 dual D-latch to allow a 4MiB P2 ROM to be mapped in 4, 1MiB banks (2 bits, see schematic).

In this case, when a byte write is done in the $200000~$2FFFFF range, /PORTWEL falls, latching D0 and D1 which are connected to the P2 ROM's A20 and A21 lines respectively.
When the NeoGeo is reset, both latches are reset to 0, to ensure that the first bank is mapped on startup.

As there is no /PORTOE signal on the cartridge edge (like /ROMOE), both /PORTOEL and /PORTOEU need to be ANDed together to make the /OE signal of P2 (if it's a 16bit ROM).

===Example code===

&lt;pre>
move.b #3,#$200000    ; Set bank 3, ROM's $300000~$3FFFFF appears in $200000~$2FFFFF
move.b #1,#$2B92F1    ; Set bank 1, ROM's $100000~$1FFFFF appears in $200000~$2FFFFF
&lt;/pre>

[[Category:Cartridge systems]]
[[Category:Chips]]

{{GameInfo|right
|en_title=Baseball Stars 2
|jp_title=Baseball Stars 2
|jp_title2=ベースボールスターズ 2
|developer=SNK
|ngh_id=041
|megcount=68
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=bstars2
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=bstars2
|aes_date=28/04/92
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Baseball Stars Professional
|jp_title=Baseball Stars Professional
|jp_title2=ベースボールスターズプロフェッショナル
|developer=SNK
|ngh_id=002
|megcount=50
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=bstars
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-EP
|mvs_cboard=CHA-32
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=bstarsh
|aes_date=01/07/91
|cd_release=y
|cd_relase_jp=y
|cd_release_en=y
|cd_date=21/04/95
}}

[[Category:Games]]

[[File:Cd2_batram.jpg|thumb|right|8KiB for game saves on a CD1 board.]]

Battery powered RAM (made non-volatile) is used as [[backup RAM]] in the [[MVS]] to store cab related information (bookkeeping) and score tables (sometimes called "SRAM").

The [[:Category:CD systems|CD systems]] use it to store game saves instead of using [[memory card]]s.

Except [[V-Liner]], no game cartridges store player data.

[[BIOS calls|BIOS calls]] are used to handle the specific formats, although nothing prevents read/writes being done the game's [[68k]] program itself.

=Battery replacement=

See [[Battery replacement]].


=Original batteries=
* SAFT come from MV2 and MV4
* Toshiba come from MV1
&lt;gallery>
File:Battery-saft.jpg|thumb|White SAFT battery
File:IMG_20181111_184913.jpg|thumb|Blue SAFT battery
File:Battery-toshiba.jpg|thumb|Toshiba battery
&lt;/gallery>


&lt;gallery>
File:Battery-saft-size.jpg|thumb|White SAFT battery
File:Battery-saft-blue-size.jpg|thumb|Blue SAFT battery
File:Battery-toshiba-size.jpg|thumb|Toshiba battery
&lt;/gallery>



[[Category:Chips]]
[[Category:Base system]]

See [[Battery-backed_RAM|here]] for more information about original batteries and inner working.

=Replacing by standard lithium battery=

[[file:batteryres.jpg|thumb|The charging resistor.]]

The original battery for the [[backup RAM]] and [[RTC]] leaks over time and can [[corrosion|cause damage]]. It can either be a NiCd battery or a coin cell, in both cases rechargeable.

'''Replacing the battery will probably cause the backup RAM to be corrupt.''' Forget about your hi-scores and settings if you don't provide 3V on BATVCC while replacing it.

The battery can be replaced with an equivalent 3.6V NiCd battery or 3.7V rechargeable coin cell (LIR2032 or ML2032), but the 470 ohms (yellow-purple-brown) charging resistor must be removed if a non-rechargeable battery (such as a common CR2032) is installed.

The resistor can be added back if a rechargeable solution is required later on.


=Replacing by rechargeable battery=
Original battery can be replaced buy modern lithium and ni-mh equivalent.

* LIR2032: search for "lir2032 tabs"
* NiMH 3.6v: search for "nimh 3.6v tabs"


=DON'T TRASH THEM=
Batteries contain a number of heavy metals and toxic chemicals. Disposing of them in regular trash leads to soil contamination and water pollution.
Please send them to a local collect point.

[[File:Recycling-batteries.jpg|thumb]]


[[Category:Repairs]]

{{GameInfo|right
|en_title=Battle Flip Shot
|jp_title=Battle Flip Shot
|jp_title2=フリップショット
|developer=Visco
|editor=Visco
|ngh_id=247
|megcount=46
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=flipshot
|mvs_date=1998
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
}}

[[Category:Games]]

#REDIRECT [[Neo Turf Masters]]

[[Category:Games]]

#REDIRECT [[Blue's Journey]]

{{GameInfo|right
|en_title=Blazing Star
|jp_title=Blazing Star
|jp_title2=ブレイジングスター
|developer=Yumekobo
|ngh_id=239
|megcount=346
|tcrf=https://tcrf.net/Blazing_Star
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=blazstar
|mvs_date=1998
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA512Y
|aes_release=y
|aes_release_jp=y
|aes_date=19/02/98
}}

[[Category:Games]]

#REDIRECT [[Blazing Star]]

{{GameInfo|right
|en_title=Blue's Journey
|jp_title=Raguy
|jp_title2=ラギ
|developer=Alpha Denshi Co.
|ngh_id=022
|megcount=50
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=bjourney
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG8M42
|mvs_cboard=CHA-8M
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=bjourney
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=31/10/94
}}

Platformer game with &lt;strike>Sega Genesis&lt;/strike> colorful graphics and evil laughs.

[[Category:Games]]

{{GameInfo|right
|en_title=BomberMan : Panic Bomber
|jp_title=BomberMan : Panic Bomber
|jp_title2=ボンバーマン ぱにっくボンバー
|developer=Eighting / Hudson
|ngh_id=073
|megcount=46
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=panicbom
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256
}}

[[Category:Games]]

The boot music is the famous jingle played during the [[eyecatcher]] at startup, and often during the [[attract sequence]].

The music is only played when the flag byte at [[68k program header|$114]] is = 0. The [[System ROM]] always uses [[68k/Z80 communication|code 2]] to play it.

Many games remap and/or add instruments (different instruments in [[Blue's Journey]], drum loop in [[Neo Bomberman]] for example), but all games seem to use the same melody.

[[File:Ngbootmusic.png]]

The original music is [[YM2610|FM]] only and uses all 4 channels as 2 pairs of "echo" channels (2 melodies only, each being played with a slight delay). It's played at 192 BPM and uses down to 1/32 notes.

[[Category:Audio system]]

== MVS boot process (SP-E) ==

* Interrupts are disabled and acknowledged, watchdog is kicked, $4000 in {{Reg|REG_LSPCMODE}} (Autoanim speed = 64 frames)
* Puts $FF on all 3 LED latches (uses NOP waits)
* Use BIOS vector table and onboard FIX/M1 ROM, activate both coin lockouts
* Checks the 64KiB of work RAM by filling with $5555 and reading back, filling with $AAAA and reading back, filling with increment and reading back.
* If all dipswitches are down, check backup RAM like before but in an infinite loop
* If not, check if "BACKUP RAM OK !",$80 is at $D00010
* If string isn't there:
** Go for full check
** Init backup RAM by filling the 64KiB with zeroes backwards ($D0FFFF to $D00000)
** Copy "BACKUP RAM OK !",$80 string
** Write 01 01 01 02 01 01 01 03 00 00 30 3B 00 (13 bytes) to $D0003A
** Write $23(35) to $D00122
** Write 8 times $0000FFFF from $D00124
** Write $F0F0F0F0 to $D001AC
** Write $FFFF to $D001B0
** Reprotect backup RAM
* Checks the 2*8KiB of palette RAM, bank 0 and 1
* Checks the low VRAM ($0000~$7FFF) and high VRAM ($8000~$85FF) with the same $5555/$AAAA/inc method
* Tells the RTC to output a 1s period pulse, time is measured in frames using the Vblank interrupt between two falling edges, if less than 57 or more than 64 frames: Calendar error. Warning: code can get stuck in a loop if RTC pulse line is cut ?
* Weird check on the Vblank handler pointer in the bios itself, never changes ?
* Computes 8bit bios checksum by adding together 128 bytes from $000000 (vector table) and all the ones from $C00082 to $C1FFFF. The value is then compared against the one at $C00080, if it's different: "SYSTEM ROM ERROR"
* Memory card name is requested with CARD function, if error code $81 (inserted but not formatted), do full check with $55, $AA then 16bit inc.
* $D0005E=$FFFF,$D00060,$D00048,$D00020=$0000, 16 bytes are cleared from $D00024 upwards
* Reads the time from RTC and sets $D0005A.b to the hour
* Reads date from RTC and compares year/month/day with $D00104.b, if difference:
** $10F300 = $D00105, $D00104.l = $10FDD2, $D00122.b inc'd up to $24 in a loop with other stuff
** ...

== MVS boot process (Unibios) ==
Unibios have some differences from SP-E.
* Checksum is computed by adding together 128 bytes from $000000 (vector table) and all the ones from $C00086 to $C1FFFF.


== CD boot process (TOP-SP1) ==

* CD registers are set like this:
** $FF0015.b = $07
** $FF0017.b = 0
** $FF0006.w = $71FF
** $FF0008.w = 0
** $FF000A.w = $7E40
** $FF0165.b = 3, then 1
** $FF000D.b = 3
** $FF000E.b = 0
** $FF0119.b = 0 (disable video output)
** $FF0111.b = 1 (enable sprites)
** $FF0115.b = 1 (enable fix)
** $FF0101.b = $A
** $FF0103.b = 0
** $FF0101.b = $E
** $FF0103.b = $10
** $FF0167.b clr
** $FF016D.b = 0
** $FF016F.b = 0 (enable IRQs)
* Init RAM
* Load BIOS vector table
* Disable interrupts
* Load DRAMs with graphics &amp; stuff
* Enable interrupts

[[Category:Base system]]

&lt;pre>
From the carrying of bottles of smuggled spirit in the legs of boots.

                                                    en.wiktionary.org
&lt;/pre>

A "bootleg" commonly refers to a counterfeit game cartridge, [[Copy protection|CD]] or [[Bootleg_MVS_boards|system]].

NeoGeo bootlegs are quite common, as SNK took years to implement [[NEO-CMC|security measures]] to avoid (or at least delay) piracy. Most are believed to originate from China and South Korea.

Over the years, [[multicarts]] gained popularity over single game bootlegs as memory chip costs decreased and decrypted ROMsets became available, making design easier and sales even more profitable.

Aside from the collection and authenticity aspect, bootlegs are known to be plagued with functional and electrical problems due to low quality manufacturing and/or poor design.

All pictures are crops from [[http://www.mvs-scans.com/index.php/Main_Page MVS-Scans]].

=Recognizing bootleg cartridges=

Efficiently recognizing bootlegs can be important for collectors, sellers and especially buyers. Some online sellers provide PCB pictures of their MVS games, but many of them only show the label or just an overall view of the cartridge (especially those for the home system, as they're more difficult to open).

Todo: how to open. MVS: easy, 4 screws. AES: snapped together.

==Misleading clues==

* EPROMs (memory chips with glass windows) were sometimes used by SNK for [[P ROM]]s.
* Flux residue around logic chips, might just be a repair job.
* A few late cartridges had their [[P ROM]]s replaced by a {{PCB|NGPC flash board|flash daughterboard}}. This is an original emergency solution/fix from SNK.
* Some other late cartridges had a small board ({{PCB|NEO-HYCS}}) wired to [[V ROM]]s and glued on top of them. This is also an original fix.

==No gold plating==

Original cartridge PCBs all have gold-plated fingers (slot contacts) for durability.

To reduce costs, some bootleg PCBs don't have gold plating (looks dark silver).

This can be checked without opening the cartridge.

==Unusual chip brands==

SNK had their favorite brands. If found on a cartridge PCB, these chip logos can be bad news:

[[File:Bootbrands.png|center]]

From left to right, top to bottom: 
* AMD: Memories, never seen on SNK boards
* Atmel: Memories and PLDs, often used in bootlegs
* Cypress: PLDs, often used in bootlegs
* Goldstar: Often found on bootlegs, sometimes on original boards
* Hyundai: Memories, never seen on SNK boards
* Macronix: Memories, never seen on SNK boards except for M1 (MX27C1001PC12) on Fighters Swords (Korean Samurai Shodown III)
* Microchip: Memories, never seen on SNK boards
* Motorola: Todo, remove
* Samsung: Never seen on SNK boards
* SST: Memories, never seen on SNK boards
* UMC: Rarely seen on SNK boards except for surface-mount memories
* Winbond: Memories, never seen on SNK boards
* Xilinx: Never seen on SNK boards, only Altera

Also Lattice (PLDs) and Intel (flash memories), never seen on SNK boards.

==EPROMs or flash memory==
[[File:boot_eprom.jpg|thumb|EPROM chip.]]

EPROMs, memory chips with erasing windows, are often used in bootlegs instead of plain plastic mask ROMs.

Note that some original cartridges use EPROMs as [[P ROM]] revisions.

&lt;br clear=all>

==Bad NGH marking==
[[File:boot_rom.jpg|thumb|NGH #389 doesn't even exist. Also bright white "stamp" marking.]]

Memory chips only marked with a 3-digit number not matching the game's [[NGH number]] are certainly fake.

&lt;br clear=all>

==Sanded or rebranded chips==
[[File:boot_pcm.jpg|thumb|{{Chipname|PCM}} clone with a (probably) meaningless marking.]]

Some chips can be sanded (no markings, visible scratches...) to prevent other bootleggers from copying the design. Clone chips are often rebranded for the same reason.

&lt;br clear=all>

==SMT or DIP adapters==
[[File:boot_adapter.jpg|thumb|Two 8-bit Intel flash chips used in place of a 16-bit mask ROM.]]

SMT and DIP adapters are small PCBs commonly found in bootlegs and [[converts]]. They allow the use of cheaper chips in place of EPROMs without having to change the whole board's layout or to use chips not compatible with the board, sometimes with the help of logic ICs.

They were often assembled by hand and therefore covered in flux barf (see below).


&lt;gallery>
File:boot_adapter.jpg|Two 8-bit Intel flash chips used in place of a 16-bit mask C-ROM.
File:Bootleg-smt-adapter2.jpg|Two 8-bit MX flash chips used in place of a 16-bit mask C-ROM.
File:Bootleg-smt-adapter.jpg|One 8-bit Intel flash chips used in place of a 8-bit mask V-ROM.
File:Bootleg-dip-adapter.jpg|Two 27c040 with logic.
File:Bootleg-dip-adapter2.jpg|Pinout adapter.
File:Bootleg-custom-pcb.jpg|DIP adapter upside-down (on top right).
&lt;/gallery>

&lt;br clear=all>

==Uncommon board shapes, colors or layouts==
[[File:boot_shape.jpg|thumb]]

As some PCB manufacturers set their price depending on the board's area instead of the smallest containing rectangle, some bootleg PCBs were made in unusual shapes to reduce costs.

All known SNK cartridge PCBs are rectangular. However it doesn't mean all rectangular boards are original. 

Many bootlegs use yellow soldermask (protection lacquer). All known SNK boards use green.

&lt;gallery>
File:boot_shape.jpg|Custom shaped board
File:Bootleg-custom-pcb.jpg|Custom PCB combo: darker color, custom chip marking, DIP adapter
File:Bootleg-custom-pcb-verso.jpg|Same custom PCB, verso
File:boot_yellowmask.jpg|The soldermask gives the board's final color.
&lt;/gallery>

&lt;br clear=all>


==Questionable markings==
[[File:boot_snkmark.jpg|thumb|Are they even trying ?]]

Meaningless "serial numbers", serif fonts, Engrish, bad alignment, bad logo proportions, and wrong line thickness are all signs of fake PCBs.

Sometimes, nothing is better than something (even if no silkscreen at all also means bootleg).

&lt;br clear=all>

==Paper labels==
[[File:boot_labels.jpg|thumb|COB adapter + checksum label combo !]]

Paper labels are very rare in original cartridges, most manual QC markings were done with colored grease pencils.

Prototypes often used paper labels too.

[[File:Proto labels.png|thumb|Paper labels found in prototypes.]]

&lt;br clear=all>

==Flux residue==
[[File:boot_flux.jpg|thumb|Extreme case of flux barf. Board could still be functional.]]

[[https://en.wikipedia.org/wiki/Flux_(metallurgy) Flux]] used for manual soldering, when not cleaned off, can look like dried barf after a while.

Aside from eventual traces of accidental beer spills, [[corrosion|rat piss]] and dust, original boards should be clean.

&lt;br clear=all>



==Lifted pins==
[[File:Bootleg-pin-lift.jpg|thumb|27c010 used as a 27C1000.]]

Commonly found with eprom, lifting pins allows to usage of bigger but cheaper eprom (eg: 27c160 as 27c800) or not compatible eprom (eg: 27c1001 as 27c1000).

&lt;br clear=all>


==Jump wires==
[[File:Bootleg-jump-pcm.jpg|thumb|Jump wire from cart connector to PCM.]]

Some official SNK repairs use jump wires but most of the time having custom wiring is a signature of a bootleg. 

This was used to replace 0 ohm resistor (jumper), connect missing address lines of earlier boards in order to get more ROM space or simply to work with non compatible eprom.

&lt;br clear=all>

[[Category:Cartridge systems]]

When it comes to NeoGeo [[bootleg]]s, games are on the front line. But bootleg systems also exist !

Nightmare Tony's comment is [[http://www.neo-geo.com/forums/showthread.php?218321-Is-my-MV1C-a-boot&amp;p=3253262&amp;viewfull=1#post3253262 here]].

Some pictures are from [[http://mvs.gotwalls.com/ MVS Scans]].

="Aries" MV1FZ=

="NO" MV1FZ=

[[File:Fake_mv1fz.jpg|right|512px]]

* Vertical board is soldered
* Normal DIP format [[68k]] CPU
* Through-hole 5% resistors [[video DAC]]
* Custom chips are marked "A66" ({{Chipname|NEO-B1}} ?), "NO-03", "NO-5" (and a blank one)
* Original YM2610
* Uses a bunch of PALs
* [[Backup RAM]] saved by a supercap

&lt;br clear=all/>

="NO" MV1C=

[[File:Fake_mv1c.jpg|right|512px]]

* Uses the same "NO-03" and "NO-5" chips as above
* Gold nugget 16MHz [[68k]] CPU !
* The "9817 870768593" chip is probably the same as "A66"
* Space for a QFPR clone of the YM2610 in U1A ?
* Uses a bunch of PALs
* RAM chips on the back side
* [[Backup RAM]] saved by a supercap

&lt;br clear=all/>

="Gobit" MV1FZ=

[[File:Fakemvs.jpg|right|512px]]

* Vertical board is soldered
* Custom chips are marked "68C101", "68C202" and "68C303"
* Socketed Toshiba Z84 [[Z80]] and Motorola [[68k]] CPUs
* {{Chipname|YM2610}} clone named ECW08-4 ?
* 4 ROMs as in original MVS boards: BIOS, [[SFIX ROM]], [[M1 ROM]], [[LO]]
* [[Backup RAM]] saved by a supercap

&lt;br clear=all/>

="Gobit" MV1C=

[[File:Fake_mv1c_gobit.jpg|right|512px]]

* Same custom chips as above

Picture from maikoldrumer.

&lt;br clear=all/>

="Goldstar" version=

[[File:Fakemvs5.jpg|right|512px]]

* DIP format (overclocked!) 10MHz [[68k]] CPU
* Through-hole 5% resistors [[video DAC]]
* Custom chips are marked "NEN0.4" ([[NEO-D0] ?), "007", "NEN08", "NEN09"
* Socketed original YM2610
* Uses a bunch of PALs
* [[Backup RAM]] saved by a supercap

&lt;br clear=all/>

[[Category:Cartridge systems]]

{{GameInfo|right
|en_title=Breakers
|jp_title=Breakers
|jp_title2=ブレイカーズ
|developer=Visco
|editor=Visco
|ngh_id=230
|megcount=210
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=breakers
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256B
|aes_release=y
|aes_release_jp=y
|aes_date=21/03/96
|cd_release=y
|cd_release_jp=y
|cd_date=1996
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Breakers Revenge
|jp_title=Breakers Revenge
|jp_title2=ブレイカーズ・リベンジ
|developer=Visco
|editor=Visco
|ngh_id=245
|megcount=242
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=breakrev
|mvs_date=1998
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA512Y
}}

[[Category:Games]]

#REDIRECT [[Breakers Revenge]]

#REDIRECT [[Baseball Stars Professional]]

#REDIRECT [[Baseball Stars 2]]

=Legal=

Selling copies as originals is bad :)

=The cue file=

Cue files are used to tell CD burning software how tracks are organized. They are '''not''' burned to the CD. As ISO files can't contain [[CDDA]] audio tracks, cue files are necessary to burn NeoGeo CD software which uses audio tracks.

On the NeoGeo CD, the first track must always be the one and only data track.

Example:

&lt;pre>
FILE "Game - Track 01.iso" BINARY
  TRACK 01 MODE1/2048
    INDEX 01 00:00:00
FILE "Game - Track 02.wav" WAVE
  TRACK 02 AUDIO
    PREGAP 00:02:00
    INDEX 01 00:00:00
&lt;/pre>

Note: the 2 seconds pregap '''is important'''.

=The iso file=

The iso file must include the necessary files and respect the [[game CD structure]].

The CD has to be burned in "mixed mode" or "game mode" if it contains CDDA tracks.

There is a higher chance of obtaining an unreadable disk if burned at high speeds due to track jitter. Burning average quality disks below 16x speed is recommended.

Some iso packs have their audio tracks encoded in MP3 to reduce the archive's size. The MP3 files have to be decoded to 44100Hz 16bit stereo WAV files with an [[Links|audio file editor or converter]]. Some burning software can automatically do the conversion.

Nero and some versions of Nero Express should accept cue files and burn the iso and wav files right away.

In case of an incompatible burner or software issue, an alternative way consists of using a virtual CD drive (like Daemon Tools) to mount the cue file as a virtual drive, and use CloneCD to make a copy of it to the real drive (in "Game CD" mode).

=Reading problems=

It is possible to be able to read a burned game CD on a computer drive, but have troubles getting it recognized by a NeoGeo CD (no "PUSH START", no audio tracks...). This is because computer drives are more sensitive (CD-Rs are less reflective than pressed CDs) and of better quality.

Make sure that the CD contains the right data, by loading it in the [[Nebula]] emulator for example.

If the data is correct, try burning it at a lower speed, use another CD-R brand. '''Don't use CD-RWs''', they very rarely work in the NeoGeo CD.

If nothing does it, the [[CD drive]]'s laser diode might be too tired.

[[Category:CD systems]]
[[Category:Code]]

{{GameInfo|right
|en_title=Burning Fight
|jp_title=Burning Fight
|jp_title2=バーニングファイト
|developer=SNK
|ngh_id=018
|megcount=54
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=burningf
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G
|mvs_cboard=CHA42G
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=09/08/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

#REDIRECT [[Making an ISO file]]

#REDIRECT [[Burning Fight]]

#REDIRECT [[Puzzle Bobble]]

[[Category:Games]]

#REDIRECT [[Puzzle Bobble 2]]

[[Category:Games]]

[[File:neo-ic8_pcb_C10075-X2-2_front.jpg|thumb|Front of PCB. Picture by [[User:ArcadeTV|ArcadeTV]]]]

[[File:neo-ic8_pcb_C10075-X2-2_front_sram-removed.jpg|thumb|Front of PCB with SRAM removed. Picture by [[User:ArcadeTV|ArcadeTV]]]]

[[File:neo-ic8_pcb_C10075-X2-2_back.jpg|thumb|Back of PCB. Picture by [[User:ArcadeTV|ArcadeTV]]]]

Printed circuit board of an original SNK [[memory card]] NEO-IC8.

Found in this version of the NEO-IC8 Memory Card:&lt;br>
[[Image:NEO-IC8_front.jpg|200px|NEO-IC8, original SNK card.]]

== PCB Dimensions ==

* Thickness: 0.5 mm
* Width: 46.1 mm
* Height: 51.4 mm

== Connector ==

The board uses a 68-pin connector which was manufactured by MOLEX and HIROSE among others.

* MOLEX Series: 89415 (obsolet)
* HIROSE Series: IC1 (obsolet)

[[File:HIROSE_IC1K-68RD-1.27SF.png|640px]]&lt;br>
Datasheet for Hirose IC1 Series Connector:
[[File:Hirose_connector_IC1.pdf|Datasheet for Hirose IC1 Series Connector]]

== Battery ==

The is a CR2016 lithium battery with solder-tabs on the PCB which powers the [[LH5116|LH5116 SRAM chip]].
[[File:CR2016_battery.jpg|thumb|CR2016 battery found on PCB. Picture by [[User:ArcadeTV|ArcadeTV]]]]

[[File:error_calendar.png|thumb]]

==Cause==

The [[RTC]]'s time pulse is too slow or too fast. It should be no less than 57 frames (0.963s), and no more than 64 (1.081s).

Can happen if traces are cut.

==Suggestions==

* Check 32768Hz crystal
* Check {{Chipname|uPD4990}} traces, especially pin 11 ({{Sig|TP|TP}}) and pins 5, 6 and 7.
* Check {{Chipname|74HC32}} and traces to {{Chipname|uPD4990}}
* Try to reset Backup RAM content:
** Either remove battery
** Or flip all dip switches to on and then power on the board. Then turn off the board and return all dips to normal settings
* You can use unibios to skip this error

[[Category:Repairs]]

=CARD ($C00468)=

The CARD [[system ROM]] call is used to perform operations on the [[memory card]].

'''Warning:''' register contents aren't preserved !

==Variables==

The following variables are used when calling CARD:

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FDC4
|BIOS_CARD_COMMAND
|byte
|System ROM or game
|Command code to execute
|-
|$10FDC6
|BIOS_CARD_ANSWER
|byte
|System ROM
|Answer code (see below)
|-
|$10FDC8
|BIOS_CARD_START
|longword
|System ROM or game
|Pointer to data
|-
|$10FDCC
|BIOS_CARD_SIZE
|word
|System ROM or game
|Size of data
|-
|$10FDCE
|BIOS_CARD_FCB
|word
|System ROM or game
|Game [[NGH number]]
|-
|$10FDD0
|BIOS_CARD_SUB
|byte or word
|System ROM or game
|Game save sub-number
|}

The following temporary variables are used when calling CARD :

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Description'''
|-
|$10FD04
|BIOS_CARD_DIRECTORY_START
|long word
|Start of directory
|-
|$10FD08
|BIOS_CARD_BLOCK_NUMBER
|word
|Number of blocks
|-
|$10FD0A
|BIOS_CARD_FAT_START
|long word
|Start of FAT
|-
|$10FD0E
|BIOS_CARD_FAT_SIZE
|word
|Size of FAT
|-
|$10FD10
|BIOS_CARD_DATA_START
|long word
|Start of data
|-
|$10FD14
|BIOS_CARD_TYPE
|word
|
* $0 : 8 bits card
* $01 : 16 bits card
* $80 : 16 bits wide weird card (todo)
|-
|$10FD16
|BIOS_CARD_SIZE
|word
|Size of the card
|}

==BIOS_CARD_ANSWER==

This variable contains the result of the operation. Bit 7 indicates an error.

* $00: Normal completion
* $80: No card inserted
* $81: Card isn't formatted
* $82: Requested data doesn't exist
* $83: FAT error
* $84: Card is full
* $85: Write disabled or ROM card

=Commands=

==$0: Format memory card==

Formats the memory card.

==$1: Data search==

Return the number of save files for the specified game.

'''Inputs''':

BIOS_CARD_FCB must contain the NGH number of the desired game.

'''Outputs''':

BIOS_CARD_SUB contains a 16 bit mask for all 16 available blocks for the game. If a bit is set, then the corresponding save block exists.

==$2: Load data==

Loads the specified save file in RAM.

'''Inputs''':

* BIOS_CARD_FCB must contain the NGH number of the desired game.
* BIOS_CARD_SUB must contain the game save number (16 max. per game).
* BIOS_CARD_START must be a pointer to which the save data will be loaded.
* BIOS_CARD_SIZE must contain the size of the save (usually 64 bytes).

==$3: Save data==

Save from RAM to the specified save file.

'''Inputs''':

* BIOS_CARD_FCB must contain the NGH number of the desired game.
* BIOS_CARD_SUB must contain the game save number (16 max. per game).
* BIOS_CARD_START must be a pointer from which the save data will be copied.
* BIOS_CARD_SIZE must contain the size of the save (usually 64 bytes).

==$4: Delete data==

Delete the specified file.

'''Inputs''':

* BIOS_CARD_FCB must contain the NGH number of the desired game.
* BIOS_CARD_SUB must contain the game save number (16 max. per game).

==$5: Read data title==

Read the data title of a save file.

'''Inputs''':

* BIOS_CARD_START must be a pointer to which the title string will be copied.
* BIOS_CARD_SIZE must contain the game save number ?

==$6: Save user name==

Set the user name of the memory card.

'''Inputs''':

BIOS_CARD_START must be a pointer to the user name's string (max. 16 bytes).

==$7: Load user name==

Loads the user name of the memory card.

'''Inputs''':

BIOS_CARD_START must be a pointer to which the user name's string will be copied.

[[Category:BIOS calls]]

=CARD_ERROR ($C0046E)=

The CARD_ERROR [[system ROM]] call can automatically handle some errors depending on the [[CARD]] call command and error code.

Most of the time this call will only display a message on screen (using [[MESS_OUT]]), but it can also automatically format the memory card if needed. (Confirmation is required on home systems, it is done silently on MVS).

==List of command/error combinations that CARD_ERROR can handle==
(Based on the SP-S2 system ROM):

{|class="wikitable sortable"
!Command!!Error!!Result
|-
|$2 (Data load)
|$81 (Card not formated)
|Display "NO DATA FOR THIS GAME."
|-
|$2 (Data load)
|$83 (FAT error)
|Display "ERROR ON MEMORY CARD."
|-
|$2 (Data load)
|$85 (Write protected)
|Display "NO DATA FOR THIS GAME."
|-
|$3 (Data save)
|$81 (Card not formated)
|Format the card
|-
|$3 (Data save)
|$83 (FAT error)
|Format the card
|-
|$3 (Data save)
|$84 (Card is full)
|Brings up a menu to delete saves
|-
|$3 (Data save)
|$85 (Write protected)
|Display "MEMORY CARD WRITE PROTECTED."
|-
|$4 (Data delete)
|$85 (Write protected)
|Display "MEMORY CARD WRITE PROTECTED."
|-
|$6 (Username save)
|$81 (Card noT formated)
|Format the card
|-
|$6 (Username save)
|$85 (Write protected)
|Display "MEMORY CARD WRITE PROTECTED."
|-
|$7 (Username load)
|$81 (Card not formated)
|Display "NO DATA FOR THIS GAME."
|-
|-
|$7 (Username load)
|$85 (Write protected)
|Display "NO DATA FOR THIS GAME."
|}

[[Category:BIOS calls]]

[[File:cd-ana-2.jpg|thumb]]

The CD-ANA-2 board is the audio, video and power board for the front-loading NeoGeo CD. It was later modified and named [[NEO-CDA_board|NEO-CDA]] in top-loading systems.

=Audio part=

CN5 provides digital and analog audio from {{Chipname|YM2610}}. CN10 provides I2S digital audio from the [[CD drive]].

MONO goes to the [[video encoder]] for amplification and output to the DIN connector.

[[File:Cd-ana-2 audio schem.png|800px]]

=ON button part=

The circuit is a fairly complex toggle switch with power-on reset and debouncing.

POWER is constantly at 5V when the power plug is connected.

VCC goes to 5V when STARTUP goes low.


[[File:Cd-ana-2_schematic.png]]

[[Category:CD systems]]

'''This article needs checking and research'''.

CDDA stands for "CD Digital Audio". When loading a game, the "CDDA flag" byte at location $107 in the [[68k program header]] is checked with bit 7 masked off.

* $00 or $01 is for games which use the Z80 RAM default location $FEF8 to play CDDA tracks.
* $02 and up seems to be for games which either use a custom Z80 RAM location, or the BIOS call.

==Z80 RAM check method==
This method was probably implemented to simplify the porting of small games to the NeoGeo CD. Games that didn't need in-game file loading only had to have their vector table and [[sound driver]] code replaced. The sound driver itself translates the regular music commands to CDDA command/track pairs and drops them to a specific location in its RAM, which is then read back and executed by the system ROM when using the [[SYSTEM_IO]] ($C0044A) [[BIOS calls|call]] (see difference between the MVS and CD versions of Puzzled: no system ROM calls for music, M1 modified).

In the sound drivers of CD games, a table is used to figure out if a received command concerns the YM2610 (mostly sound effects) or is a CDDA track.

Setting the CDDA flag byte at $107 to 00 or 01 enables this method with the fixed Z80 address $FEF8.
Setting the CDDA flag to any other value allows to choose an arbitrary address to be used (word at $13A). If the address is 0, this method isn't used.

For example, [[Puzzled]] uses this method. The CDDA flag is set to 0 in the program header. The 68k sends the exact same "play music" Z80 commands as the MVS version of the game, the sound driver then converts them to CDDA ones and drops them at $FEF8. Command $0743 gets translated to $0532 (play intro music, track 32).

==Direct method==

BIOS call $C0056A. Command/track pair in D0. (track number in BCD format).

Metal Slug 2 waits for "CDDA ready" flag in RAM to be set before calling:
&lt;pre>
#:
	move.b	d0,$300001    ;Watchdog kick, interrupts are disabled ?
	tst.b	$10F6D9
	beq.s	#
	jsr	$C0056A
&lt;/pre>

Viewpoint sends the command 4 ($04xx, xx being the track number):
The CDDA flag ($107) is $02, and $13A is $0000.

==Commands==

Commands are a two bytes (command type/track) put together into a short (ex: 0x0102)

{{16BitRegister|0|5|Sync|1|Command|2|Track # (BCD)|8}}

Commands are:
*0x0: read track (loop ? Or keep playing next tracks ?)
*0x1: read track (pause once played once)
*0x2: pause (ignores track parameter)
*0x3: resume (ignores track parameter)

Sync bit setting is:
*0: Seamless play
*1: Halt gameplay while drive is seeking

Commands over $07 are ignored.

Set $13A to $0000 if not using the Z80 RAM.
Set to $FFFF if using the default $FEF8 value.

'''BIOSF_SYSTEM_IO must be called every VBlank for direct CDDA commands to work.'''

CDDA data can be picked up through [[memory mapped registers]] CDDA_LEFTSTREAM and CDDA_RIGHTSTREAM.

[[Category:Audio system]]
[[Category:CD systems]]

Neo Geo CD front loader prototype main board. The first ever Neo Geo CD board.

&lt;center>[[File:CDROM-1.jpg]]&lt;/center>

Discovered by u/Upstairs_Report6208 on Reddit (https://www.reddit.com/r/neogeo/comments/1msyoro/rare_neo_geo_cd_front_loader_prototype_no_4)

The only mass-produced front-loading NeoGeo CD board.

&lt;center>[[File:Cd1_cdrom-2.jpg]]&lt;/center>

[[68k|68k CPU]],
[[Battery-backed RAM]],
[[System ROM]],
[[Clock]],
[[DRAM]],
[[LC89515]],
[[LC8953]],
[[LO|LO ROM]]
[[NEO-BUF]],
[[NEO-GRC]],
[[NEO-MGA]],
[[NEO-OFC]],
[[NEO-SFT]],
[[Palette RAM]],
[[PSRAM]],
[[68k user RAM|68k and Z80 RAM]],
[[VRAM]],
[[YM2610]],
[[Z80|Z80 CPU]]

[[Category:Chips]]
[[Category:CD systems]]

Yes, it has a 2x CD drive, which is used at 2x speed. [[Loading time]]s aren't exactly cut by 2 when comparing to older models due to fixed delays caused by CPU data copy.

It is obvious that SNK anticipated the possibility of integrating the CD drive's electronics directly onto the motherboard. This apparently has never been done.

Board layout really looks like the NeoGeo Pocket.

[[File:Cdz_ov.jpg]]

&lt;gallery>
File:Cdz_ovtop.jpg|Main board using {{Chipname|NEO-GRC2-F}}
File:Cdz_dsp.jpg|CD DSP
File:Cdz_opickup.jpg|See [[optical pickups]]
File:Cdz_lc89513.jpg|Sanyo {{Chipname|LC89513}} CD host chip (able to do 4x speed by the way)
File:Cdz_driveassy.jpg|CD drive
File:Cdz_cdmotordrv.jpg|Motor driver
File:Cdz_9295.jpg|CD driver mcu
File:Cdz_z80ss.jpg|{{Chipname|Z80}}, its RAM and 1MiB [[PCM]] [[DRAM]]
File:Cdz_psu.jpg|Same weird voltage limiting power supply circuit
File:Cdz_ga3.jpg|Standard-branded Fujitsu CG24 series gate array !
File:Cdz_jumpers.jpg|Configuration jumpers
File:Cdz_bios.jpg|[[System ROM]]: TOP-SPD
File:Cdz_cdmotordrvfp.jpg|Unpopulated...
File:Cdz_mcufp.jpg|...footprints...
File:Cdz_dspfp.jpg|for CD drive chips.
&lt;/gallery>

[[Category:CD systems]]

[[File:Cd2_cdboard1.jpg|thumb|right|Top-loading drive control board.]]

The part that makes you wait and fails in [[CD systems]]. The ones used in the NeoGeo consoles are very similar to those found in the Sega CD. They're basically enhanced audio CD drives, which are also able to read CD-ROM data tracks.

Made of a control board and an [[optical pickups|optical pickup]].

The NeoGeo CD top-loading model drive was made by Sony. The [[CDZ]] one was made by Sharp ?

The control board has:
* A 4-bit mask ROM MCU (Sony CXP5084), taking care of operation sequencing and communication with the NeoGeo.
* A DSP (Sony CXD2500) to process analog data from the pickup.
* A servo controler (Sony CXA1372) to drive the pickup coils for tracking and focus.
* A spindle, sled (and tray) motor driver.

=Connections=

Some say the protocol was standard for the time, but clear information is hard to find. This was guessed from the [[system ROM]] disassembly, Sega CD documents and a logic analyzer.

==Top-loading model==

Connector pinout, directions are from CDD (CD Drive) to CDC (CD Controller):

{| class="regdef"
|'''Pin #'''
|'''Name'''
|'''Type'''
|'''Direction'''
|'''Description'''
|-
| 1
| CDCK
| Clock
| Output
| Communication clock to CDC
|-
| 2
| ?
| ?
| ?
| High ?
|-
| 3
| /IRQ
| Signal
| Output
| Asks the CDC for a data exchange (low pulse at ~64Hz)
|-
| 4
| ?
| ?
| ?
| High ?
|-
| 5
| HOCK
| Clock
| Input
| Communication clock from CDC
|-
| 6
| rowspan="4" | D0~3
| rowspan="4" | Data
| rowspan="4" | Both
| rowspan="4" | 4-bit command/status data bus
|-
| 7
|-
| 8
|-
| 9
|-
| 10
| ?
| ?
| ?
| ?
|-
| 11
| BCLK?
| Clock
| Output
| Serial bit clock, should be 44100 * 32 = 1.4112MHz
|-
| 12
| SDATA
| Data
| Output
| Serial data
|-
| 13
| LRCK
| Signal
| Output
| I2S word clock, should be 44100Hz. Audio L/R switch for the DAC.
|-
| 14
| D/M ?
| Signal
| Output
| Data/Music. Low during music playback ?
|-
| 15
| GND
| Power
| -
| Ground
|-
| 16
| 5V
| Power
| -
| +5V for logic
|-
| 17
| 9V
| Power
| -
| +9V for motors and coils
|-
| 18
| GND
| Power
| -
| Ground
|}

Missing: /RESET, C2PO, and 16MHz.

==Front-loading model==

Connector pinout, directions are from CDD (CD Drive) to CDC (CD Controller):

{| class="regdef"
|'''Pin #'''
|'''Name'''
|'''Type'''
|'''Direction'''
|'''Description'''
|-
| 1
| SGND
| Power
| -
| Ground
|-
| 2
| SVCC
| Power
| -
|
|-
| 3
| VCC
| Power
| -
|
|-
| 4
| WFCK
| Clock
| Output
| Write Frame Clock
|-
| 5
| GND
| Power
| -
| Ground
|-
| 6
| SCOR
| Pulse
| Output
| Subcode sync
|-
| 7
| MUTE
| ?
|
|
|-
| 8
| SBSO
| Data
| Output
| Subcode data
|-
| 9
| EXCK
| Clock
| Input
| Subcode clock
|-
| 10
| EMP
| ?
| ?
| EMPty ?
|-
| 11
| DOUT
| Data
| Output
| ?
|-
| 12
| 6MHz
| Clock
| ?
| ?
|-
| 13
| LRCK
| Clock
| Output
| DATA L or R channel (44100Hz)
|-
| 14
| DATA
| Data
| ?
| Data stream
|-
| 15
| BCLK
| Clock
| Output
| DATA bit clock (44100 * 24 * 2 = 2.12MHz)
|-
| 16
| C2PO
| Data
| Output
| Error flag
|-
| 17
| rowspan="4" | DB0~3
| rowspan="4" | Data
| rowspan="4" | Both
| rowspan="4" | 4-bit command/status data bus
|-
| 18
|-
| 19
|-
| 20
|-
| 21
| HOCK
| Clock
| Input
| Communication clock from CDC
|-
| 22
| RESET
| Pulse
| Input
| The name says it all
|-
| 23
| /IRQ
| Signal
| Output
| Asks the CDC for a data exchange
|-
| 24
| L-MUTE
| ?
|
|
|-
| 25
| CDCK
| Clock
| Output
| Communication clock to CDC
|}

==Capacitor values==

PCB CD Controller Type NO.4 F3801AF

{| class="regdef"
|'''Capa #'''
|'''Type'''
|'''Value'''
|'''Voltage'''
|-
| C101
| POLARISED
| 47 uF
| 16V
|-
|-
| C102
| POLARISED
| 47 uF
| 16V
|-
|-
| C108
| SMD 0805
| 100 nF
| 
|-
|-
| C109
| SMD 0805
| 100 nF
| 
|-
|-
| C110
| SMD 0805
| 100 nF
| 
|-
|-
| C112
| SMD 0805
| 35 nF
| 
|-
|-
| C113
| POLARISED
| 330 uF
| 16V
|-
|-
| C114
| POLARISED
| 100 uF
| 16V
|-
|-
| C116
| SMD 0805
| 100 nF
| 
|-
|-
| C117
| SMD 0805
| 100 nF
| 
|-
|-
| C118
| SMD 0805
| 35 nF
| 
|-
|-
| C119
| SMD 0805
| 25 nF
| 
|-
|-
| C124
| POLARISED
| 100 uF
| 16V
|-
|-
| C125
| SMD 0805
| 35 nF
| 
|-
|-
| C127
| POLARISED
| 4,7 uF
| 16V
|-
|-
| C128
| SMD 0805
| 100 nF
| 
|-
|-
| C131
| SMD 0805
| 100 nF
| 
|-
|-
| C132
| POLARISED
| 1 uF 
| 50V
|-
|-
| C133
| POLARISED
| 47 uF
| 16V
|-
|-
| C134
| POLARISED
| 33 uF
| 25V
|-
|-
| C137
| SMD 0805
| 100 nF
| 
|-
|-
| C141
| SMD 0805
| 100 nF
| 
|-
|-
| C143
| POLARISED
| 0,47 uF
| 50V
|-
|-
| C144
| SMD 0805
| 1,5 nF
| 
|-
|-
| C145
| SMD 0805
| 1,5 nF
| 
|-
|-
| C146
| SMD 0805
| 100 nF
| 
|-
|-
| C149
| SMD 0805
| 60 nF
| 
|-
|-
| C154
| SMD 0805
| 35 nF
| 
|-
|-
| C155
| POLARISED
| 100 uF
| 16V
|-
|-
| C159
| SMD 0805
| 60 nF
| 
|-
|-
| C161
| POLARISED
| 100 uF
| 16V
|-
|-
| C166
| POLARISED
| 100 uF
| 16V
|-
|-
| C167
| SMD 0805
| 12 pF
| 
|-
|-
| C168
| SMD 0805
| 4 pF
| 
|-
|-
| C170
| SMD 0805
| 1 uF
| 
|-
|-
| C171
| SMD 0805
| 1 uF
| 
|-
|-
| C180
| SMD 0805
| 100 nF
| 
|-
|-
| C181
| SMD 0805
| 100 nF
| 
|-
|-
| C182
| SMD 0805
| 100 nF
| 
|-
|}

*Big thanks to Domkid for letting me borrow his Neo CD!

[[Category:Chips]]
[[Category:Repairs]]
[[Category:CD systems]]

These command formats probably also apply to other CD-ROM drives of the era, like the Sega CD's one.

All nibble values are in '''hex'''.

=Command 0: STATUS=
No parameters. No operation. May be used to just read the status.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|0||0||0||0||0||0||0||0||0||Checksum (A)
|}

=Command 1: STOP ALL=
No parameters. Stops disk, laser, and sets drive in data mode.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|1||0||0||0||0||0||0||0||0||Checksum (9)
|}

=Command 2: TOC COMMAND=
[[CD drive|Nibble D]] is the sub-command code:

==Sub-command 0: GET POSITION==
MSF in status will be the current position from the beginning of the CD (absolute).

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|2||0||0||'''0'''||0||0||0||0||0||Checksum (8)
|}

Get:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|?||'''0'''||colspan=6|Current absolute MSF position||0||Checksum
|}

==Sub-command 1: GET TRACK POSITION==
MSF in status will be the current position from the beginning of the track (relative).

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|2||0||0||'''1'''||0||0||0||0||0||Checksum (7)
|}

Get:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|?||'''1'''||colspan=6|MSF position in current track||0||Checksum
|}

==Sub-command 2: GET TRACK NUMBER==
Minutes in status will be the current track.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|2||0||0||'''2'''||0||0||0||0||0||Checksum (6)
|}

Get:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|?||'''2'''||colspan=2|Current track number||0||0||0||0||0||Checksum
|}

==Sub-command 3: GET CD LENGTH==
MSF in status will be the total CD length.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|2||0||0||'''3'''||0||0||0||0||0||Checksum (5)
|}

Get:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|?||'''2'''||colspan=6|CD length in MSF||0||Checksum
|}

==Sub-command 4: GET FIRST AND LAST TRACKS==
Minutes in status will be the first track (normally 1), seconds will be the last.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|2||0||0||'''4'''||0||0||0||0||0||Checksum (4)
|}

Get:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|?||'''4'''||colspan=2|First track number||colspan=2|Last track number||0||0||0||Checksum
|}

==Sub-command 5: GET TRACK MSF==
MSF in status will be the start of the desired track (nibbles E and F). If the track is a data track, the frames upper digit's 4th bit will be 1.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|2||0||0||'''5'''||colspan=2|Desired track number||0||0||0||Checksum
|}

Get:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|?||'''5'''||colspan=6|MSF of track start (see note above)||Lower digit of track #||Checksum
|}

==Sub-command 6: GET ERROR==
Unused ? Returns the last error code.

=Command 3: PLAY=
Starts playing from specified MSF.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|3||0||colspan=6|Start MSF||0||Checksum
|}

=Command 4: SEEK=
Moves pickup to specified MSF.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|4||0||colspan=6|Seek MSF||0||Checksum
|}

=Command 6: PAUSE=
Pauses CDDA playback (disk keeps spinning).

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|6||0||0||0||0||0||0||0||0||Checksum (4)
|}

=Command 7: RESUME=
Resumes CDDA playback after pause.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|7||0||0||0||0||0||0||0||0||Checksum (3)
|}

=Command 8: FAST-FORWARD=
No parameters needed ?

=Command 9: REWIND=
No parameters needed ?

=Command 10: INIT=
Seeks to CD lead-in ?

=Command 11: Unknown=

Play but from BCD track number instead of MSF ? "Access to the top of the specified tracK obtained the BCD code on the second byte."

=Command 12: CLOSE=
Closes the tray on the front-loading NeoGeo CD.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|12||0||0||0||0||0||0||0||0||Checksum (E)
|}

=Command 13: OPEN=
Opens the tray.

Send:
{|class="wikitable"
!Nibble
|0||1||2||3||4||5||6||7||8||9
|-
!Value
|13||0||0||0||0||0||0||0||0||Checksum (D)
|}

[[Category:CD systems]]

Communication between the CD Drive (CDD) and the CD Controller (CDC) is done via a special 4-bit protocol handled by the [[system ROM]].

The {{Chipname|NEO-MGA}} chip provides the I/Os through registers {{Reg|REG_CDDCTRL}}, {{Reg|REG_CDDINPUT}}, and {{Reg|REG_CDDOUTPUT}}.

[[File:Cdunit4bit.png]]

* The CDD regularly (~64Hz not 75) sends a low pulse on its /IRQ output to initiate a data exchange.
* HOCK goes low, indicating that the CDC aknowledges the request. The 4-bit bus direction is set to CDD -> CDC.
* CDCK goes low, indicating that the CDD is starting to send its status data (A).
* HOCK goes high and the CDC reads the status data (A).
* CDCK returns high.
* HOCK returns low.
* CDCK goes low again, the B word is ready.
* The cycle continues on for 10 words...

(The delay here is not necessary, it is seen on the NeoGeo CD because of the [[system ROM]] preparing stuff).

* HOCK goes low and the 4-bit bus direction is reversed (CDC -> CDD). The first command word is set (K).
* CDCK goes low, indicating that the CDD has read the data (A).
* HOCK returns high.
* CDCK returns high.
* HOCK goes low again, the K word is ready.
* The cycle continues on for 10 words...

=Status data (green)=

* A: Status
** 0=Stop mode
** 1=Playing data or music
** 2=Seeking
** 4=Paused
** 5=Tray opened
** 6=Comm. checksum error
** 7=Command error
** 8=Function error (mech/laser ?)
** 9=Reading TOC
** 10=Sled moving
** 11=Couldn't focus, no disk
** 12=Sled at edge, end of disk
** 14=Tray moving
** 15=In test mode
* B: Status
* C: Minutes high digit
* D: Minutes low digit
* E: Seconds high digit
* F: Seconds low digit
* G: Frames high digit
* H: Frames low digit
* I: Extension
* J: Checksum (see below)

=Command data (red)=

* K: Command
* L~S: Depends on command (see below)
* T: Checksum (see below)

=Checksum=

The checksum digit is the sum of all 9 previous digits, + 5, XOR 15, AND 15: ((sum + 5) ^ 0xF) &amp; 0xF.

=Commands=

See [[CD drive commands]].

[[Category:Code]]
[[Category:CD systems]]

=Front-loading=

* {{PCB|CDROM-1 board}}
* {{PCB|CDROM-2 board}}

=Top-loading=

* {{PCB|NEO-CDM3-1 board}}
* {{PCB|NEO-CDM3-2 board}}
* {{PCB|NEO-CDM4-1 board}}
* {{PCB|NEO-CDM4-2 board}}
* {{PCB|NEO-CDM5-1 board}}
* {{PCB|NEO-CDC1-1 board}} (CDZ)

[[Category:CD systems]]

#REDIRECT [[CD hardware versions]]

[[File:neo-mvs-cha32.png|400px]]

[[Category:Cartridge boards]]

CHA board that allows the use of 8-bit C ROMs. Only used in prototypes (all production games have 16 bit C ROMs).

=MVS version=

[[File:NEO-MVS CHA-EP.jpg|thumb|256px]]

=Home console version=

[[File:NEO-AEG CHA-EP.jpg|thumb|256px]]

Revision of [[CHA-EP]].

Now utilizes [[NEO-ZMC2]] instead of [[PRO-CT0]], and [[NEO-273]] instead of off-the-shelf logic chips.

[[File:NEO-AEG CHA-EPG.PNG|thumb|256px]]

[[File:Cha256_mvs.jpg|thumb|256px]]

===C ROMs===

Up to 8 * 32Mbit ROMs (27C322) can be used for a maximum of 256Mbit. 27C800/27C160 can also be used depending on jumper configuration.

The size of largest ROM is selected using a pair of jumpers. The rest should be left unconnected.

{| class="wikitable"
|-
!Largest C ROM
!Jumper set
|-
|1MiB
|J5+J6
|-
|2MiB
|J7+J8
|-
|4MiB
|J9+J10
|}

These jumpers seem to apply only to those two ROMs, if the ROMs are not present, simply leave both jumpers unconnected.  

{| class="wikitable"
|-
!C1/2 ROM type
!Jumper set
|-
|&lt;4MiB
|R1
|-
|4MiB
|J11
|}

{| class="wikitable"
|-
!C3/4 ROM type
!Jumper set
|-
|&lt;4MiB
|R2
|-
|4MiB
|J12
|}

{| class="wikitable"
|-
!C5/6 ROM type
!Jumper set
|-
|&lt;4MiB
|R3
|-
|4MiB
|J13
|}

{| class="wikitable"
|-
!C7/8 ROM type
!Jumper set
|-
|&lt;4MiB
|R4
|-
|4MiB
|J14
|}

A [[NEO-273]] and a LS74 are used to address C ROM. The LS74 provides the 2 most significant bits. The LS139 enables one of four pairs of C ROMs using 2 address inputs depending on which 2 jumpers are connected.

*Max 256Mbit C ROM (8x 32Mbit)

{| class="wikitable"
|-
!M1 ROM size
!Jumper set
|-
|64KiB
|J1+J4
|-
|128KiB
|J2+J3
|}

*[[NEO-273]]
*[[NEO-ZMC]]
*LS139,LS74

==AES version==

{| class="wikitable"
|-
!C ROM type
!Jumper set
|-
|&lt;4MiB
|J15+J16+J17+J18
|-
|4MiB
|J11+J12+J13+J14
|}

{| class="wikitable"
|-
!EVEN delay
!Jumper set
|-
|1 gate
|J19
|-
|2 gates
|J20
|}

[[Category:Cartridge boards]]

[[File:Cha256b_mvs.jpg|thumb|256px]]
COPIED VERBATIM FROM THE CHA256 ENTRY, NEEDS TO BE CHECKED
===C ROMs===

Up to 8 * 32Mbit ROMs (27C322) can be used for a maximum of 256Mbit. 27C800/27C160 can also be used depending on jumper configuration.

The size of largest ROM is selected using a pair of jumpers. The rest should be left unconnected.

{| class="wikitable"
|-
!Largest C ROM
!Jumper set
|-
|1MiB
|J5+J6
|-
|2MiB
|J7+J8
|-
|4MiB
|J9+J10
|}

These jumpers seem to apply only to those two ROMs, if the ROMs are not present, simply leave both jumpers unconnected.  

{| class="wikitable"
|-
!C1/2 ROM type
!Jumper set
|-
|&lt;4MiB
|J15
|-
|4MiB
|J11
|}

{| class="wikitable"
|-
!C3/4 ROM type
!Jumper set
|-
|&lt;4MiB
|J16
|-
|4MiB
|J12
|}

{| class="wikitable"
|-
!C5/6 ROM type
!Jumper set
|-
|&lt;4MiB
|J17
|-
|4MiB
|J13
|}

{| class="wikitable"
|-
!C7/8 ROM type
!Jumper set
|-
|&lt;4MiB
|J18
|-
|4MiB
|J14
|}

A [[NEO-273]] and a LS74 are used to address C ROM. The LS74 provides the 2 most significant bits. The LS139 enables one of four pairs of C ROMs using 2 address inputs depending on which 2 jumpers are connected.

*Max 256Mbit C ROM (8x 32Mbit)

{| class="wikitable"
|-
!M1 ROM size
!Jumper set
|-
|64KiB
|J1+J4
|-
|128KiB
|J2+J3
|}

*[[NEO-273]]
*[[NEO-ZMC]]
*LS139,LS74

==AES version==

{| class="wikitable"
|-
!C ROM type
!Jumper set
|-
|&lt;4MiB
|J15+J16+J17+J18
|-
|4MiB
|J11+J12+J13+J14
|}

{| class="wikitable"
|-
!EVEN delay
!Jumper set
|-
|1 gate
|J19
|-
|2 gates
|J20
|}

[[Category:Cartridge boards]]

[[File:Cha42g-1_mvs.jpg|256px|right]]

Identical to [[CHA42G]] except there's an added 150p capacitor on M1 /CE ?

[[Category:Cartridge boards]]

[[File:Cha42g_mvs.jpg|256px|right]]

Can handle 4 2MiB or 1MiB [[C ROM]]s with a special trick.

On this board, the {{Sig|P14|P14}}, {{Sig|P15|P15}}, {{Sig|S1 A2|S1 A2}} and {{Sig|S1 A4|S1 A4}} lines are reversed on [[NEO-273]]. These inversions cancel each other out for the [[M1 ROM]], but the C ROMs {{Sig|A20|A20}} and {{Sig|A19|A19}} output are inverted.

[[File:Cha42groute.png]]

This was done to benefit of the NEO-273's inverted A20 output on the A19 line instead to switch between pairs of 1MiB C ROMs without additionnal circuitry. However, this has the side-effect of mixing data up if 2MiB C ROMs are used:

For tiles to be used properly in 2MiB ROMs, data must be organized as follows:

*C1 = First 1MiB of C1 + First 1MiB of C3
*C2 = First 1MiB of C2 + First 1MiB of C4
*C3 = Second 1MiB of C1 + Second 1MiB of C3
*C4 = Second 1MiB of C2 + Second 1MiB of C4

In [[MAME]], in the [[Fatal Fury 2]] definition for example, the 4 2MiB C ROMs are loaded in a special order to sort them back out:

&lt;pre>
ROM_LOAD16_BYTE( "047-c1.c1", 0x000000, 0x100000...  // First half of C1 loaded in even bytes of 0x000000~0x1FFFFE
ROM_CONTINUE( 0x400000, 0x100000 )                   // Second half of C1 loaded in even bytes of 0x400000~0x5FFFFE
ROM_LOAD16_BYTE( "047-c2.c2", 0x000001, 0x100000...  // First half of C2 loaded in odd bytes of 0x000001~0x1FFFFF
ROM_CONTINUE( 0x400001, 0x100000 )                   // Second half of C2 loaded in odd bytes of 0x400001~0x5FFFFF
ROM_LOAD16_BYTE( "047-c3.c3", 0x200000, 0x100000...  // First half of C3 loaded in even bytes of 0x200000~0x3FFFFE
ROM_CONTINUE( 0x600000, 0x100000 )                   // Second half of C3 loaded in even bytes of 0x600000~0x7FFFFE
ROM_LOAD16_BYTE( "047-c4.c4", 0x200001, 0x100000...  // First half of C4 loaded in odd bytes of 0x200001~0x3FFFFF
ROM_CONTINUE( 0x600001, 0x100000 )                   // Second half of C4 loaded in odd bytes of 0x600001~0x7FFFFF
&lt;/pre>

*0x000000~0x1FFFFF: First half of C1 and C2
*0x200000~0x3FFFFF: First half of C3 and C4
*0x400000~0x5FFFFF: Second half of C1 and C2
*0x600000~0x7FFFFF: Second half of C3 and C4

Next revision: [[CHA42G-1]].

[[Category:Cartridge boards]]

Max 8, 8MiB C ROMs. 64KiB or 128KiB M ROM.

===C ROMs===
[[File:Cha512yc.png]]

{| class="wikitable"
|-
!C ROMs size
!Jumper set
|-
|4MiB
|JG1+JG2+JG3+JG4+J5+J6
|-
|8MiB
|J9+J10+J11+J12+J7+J8
|}

===M ROM===
[[File:Cha512ym.png]]

{| class="wikitable"
|-
!M ROM size
!Jumper set
|-
|64KiB
|J1+J4
|-
|128KiB
|J2+J3
|}

[[Category:Cartridge boards]]

Uses {{Chipname|NEO-CMC}} 90G06C7042 or 90G06C7050

== MVH (PCB) ==
 '''NOTE:''' CHAFIO was designed embedded on MVH releases bellow.
 -------------------------------------------------------------------------------------------------------------------------------------------------
 '''MVH BOARD'''             '''ID'''   '''COMPANY'''       '''PCB MODEL'''   '''MADE_IN'''  '''PROTECTION'''           '''RELEASED''' - '''TITLE'''
 -------------------------------------------------------------------------------------------------------------------------------------------------
 NEO-MVH MVOC          271  SNK Playmore  2003.11.03  JAPAN    NEO-CMC 90G06CF7050  2003 - The King of Fighters 2003
 NEO-MVH MVO           269  SNK Playmore  2003.06.05  JAPAN    NEO-CMC 90G06CF7050  2003 - SNK vs Capcom Chaos
 NEO-MVH MVOB          269  SNK Playmore  2003.07.09  JAPAN    NEO-CMC 90G06CF7050  2003 - SNK vs Capcom Chaos
 NEO-MVH MVOBR         268  SNK Playmore  2003.08.04  JAPAN    NEO-CMC 90G06CF7050  2003 - Metal Slug 5

== MVS ==

 -------------------------------------------------------------------------------------------------------------------------------------------------
 '''MVS BOARD'''             '''ID'''   '''COMPANY'''       '''PCB MODEL'''   '''MADE_IN'''  '''PROTECTION'''           '''RELEASED''' - '''TITLE'''
 -------------------------------------------------------------------------------------------------------------------------------------------------
 NEO-MVS CHAFIO        272  SNK Playmore  '''2003.07.24'''  JAPAN    '''NEO-CMC 90G06CF7050'''  2004 - Samurai Showdown Special / Samurai Spirits Zero Special
 NEO-MVS CHAFIO        271  SNK Playmore  '''2003.07.24'''  JAPAN    '''NEO-CMC 90G06CF7050'''  2004 - The King of Fighters 2003
 NEO-MVS CHAFIO        270  SNK Playmore  '''2003.07.24'''  JAPAN    '''NEO-CMC 90G06CF7050'''  2003 - Samurai Showdown 5 / Samurai Spirits Zero
 NEO-MVS CHAFIO        269  SNK Playmore  '''2003.07.24'''  JAPAN    '''NEO-CMC 90G06CF7050'''  2003 - SNK vs Capcom Chaos
 NEO-MVS CHAFIO        268  SNK Playmore  '''2003.07.24'''  JAPAN    '''NEO-CMC 90G06CF7050'''  2003 - Metal Slug 5
 NEO-MVS CHAFIO        267  SNK           1999.06.14  JAPAN    '''NEO-CMC 90G06CF7050'''  2003 - Pochi and Nyaa
 NEO-MVS CHAFIO        266  SNK           1999.06.14  JAPAN    '''NEO-CMC 90G06CF7050'''  2002 - Matrimelee - Shin Goketsuji Ichizoku
 NEO-MVS CHAFIO        265  SNK           1999.06.14  JAPAN    '''NEO-CMC 90G06CF7050'''  2002 - The King of Fighters 2002
 NEO-MVS CHAFIO        264  SNK           1999.06.14  JAPAN    '''NEO-CMC 90G06CF7050'''  2002 - Rage of The Dragons
 NEO-MVS CHAFIO        263  SNK           2002.??.??  KOREA    '''NEO-CMC 90G06CF7050'''  2002 - Metal Slug 4
     MVS CHAFIO REV1.0 262  SNK           2001.??.??  KOREA?   '''NEO-CMC 90G06CF7050'''  2001 - The King of Fighters 2001 ('''same design of 1999.06.14''')
 NEO-MVS CHAFIO        257  SNK           1999.06.14  JAPAN    '''NEO-CMC 90G06CF7050'''  2000 - The King of Fighters 2000 ('''same design of 1999.06.14''')
 NEO-MVS CHAFIO        261  SNK           1999.06.14  JAPAN    NEO-CMC 90G06CF7042  2001 - Sengoku 3
 NEO-MVS CHAFIO        260  SNK           1999.06.14  JAPAN    NEO-CMC 90G06CF7042  2001 - Nightmare in the Dark
 NEO-MVS CHAFIO        259  SNK           1999.06.14  JAPAN    NEO-CMC 90G06CF7042  2001 - Bang Bead
 NEO-MVS CHAFIO        256  SNK           1999.06.14  JAPAN    NEO-CMC 90G06CF7042  2001 - Metal Slug 3
 NEO-MVS CHAFIO        255  SNK           1999.06.14  JAPAN    NEO-CMC 90G06CF7042  1999 - Pre-Historic Isle 2 - Genshi-tō
 NEO-MVS CHAFIO        254  SNK           1999.06.14  JAPAN    NEO-CMC 90G06CF7042  1999 - Strikers 1945 Plus
 NEO-MVS CHAFIO        253  SNK           1999.06.14  JAPAN    NEO-CMC 90G06CF7042  1999 - Garou Mark of the Wolves
 NEO-MVS CHAFIO        252  SNK           1999.06.14  JAPAN    NEO-CMC 90G06CF7042  1999 - Ganryu - Musashi Ganryuki
 NEO-MVS CHAFIO        251  SNK           1999.06.14  JAPAN    NEO-CMC 90G06CF7042  1999 - The King of Fighters 99
 NEO-MVS CHAFIO        070  SNK           1999.06.14  JAPAN    NEO-CMC 90G06CF7042  2001 - Zupapa
 NEO-MVS CHAFIO        008  SNK           1999.06.14  JAPAN    '''NEO-CMC 90G06CF7050'''  1999 - Jockey Grand Prix

== AEG (AES) ==
[[Category:Cartridge boards]]

 -------------------------------------------------------------------------------------------------------------------------------------------------
 '''AES BOARD'''             '''ID'''   '''COMPANY'''       '''PCB MODEL'''   '''MADE_IN'''  '''PROTECTION'''           '''RELEASED''' - '''TITLE'''
 -------------------------------------------------------------------------------------------------------------------------------------------------
 NEO-AEG CHAFIO        272  SNK Playmore  '''2003.07.24'''  JAPAN    '''NEO-CMC 90G06CF7050'''  2004 - Samurai Showdown Special / Samurai Spirits Zero Special
 NEO-AEG CHAFIO        271  SNK Playmore  '''2003.07.24'''  JAPAN    '''NEO-CMC 90G06CF7050'''  2004 - The King of Fighters 2003
 NEO-AEG CHAFIO        270  SNK Playmore  '''2003.07.24'''  JAPAN    '''NEO-CMC 90G06CF7050'''  2003 - Samurai Showdown 5 / Samurai Spirits Zero
 NEO-AEG CHAFIO        269  SNK Playmore  '''2003.07.24'''  JAPAN    '''NEO-CMC 90G06CF7050'''  2003 - SNK vs Capcom Chaos
 NEO-AEG CHAFIO        268  SNK Playmore  '''2003.07.24'''  JAPAN    '''NEO-CMC 90G06CF7050'''  2004 - Metal Slug 5
 NEO-AEG CHAFIO        266  SNK           1999.08.10  JAPAN    '''NEO-CMC 90G06CF7050'''  2003 - Matrimelee - Shin Goketsuji Ichizoku
 NEO-AEG CHAFIO        265  SNK           1999.08.10  JAPAN    '''NEO-CMC 90G06CF7050'''  2002 - The King of Fighters 2002
 NEO-AEG CHAFIO        264  SNK           1999.08.10  JAPAN    '''NEO-CMC 90G06CF7050'''  2002 - Rage of The Dragons
 NEO-AEG CHAFIO        263  SNK           1999.08.10  JAPAN    '''NEO-CMC 90G06CF7050'''  2002 - Metal Slug 4
 NEO-AEG CHAFIO        262  SNK           1999.08.10  JAPAN    '''NEO-CMC 90G06CF7050'''  2002 - The King of Fighters 2001
 NEO-AEG CHAFIO        257  SNK           1999.08.10  JAPAN    '''NEO-CMC 90G06CF7050'''  2000 - The King of Fighters 2000
 NEO-AEG CHAFIO        261  SNK           1999.08.10  JAPAN    NEO-CMC 90G06CF7042  2001 - Sengoku 3
 NEO-AEG CHAFIO        256  SNK           1999.08.10  JAPAN    NEO-CMC 90G06CF7042  2001 - Metal Slug 3
 NEO-AEG CHAFIO        253  SNK           1999.08.10  JAPAN    NEO-CMC 90G06CF7042  2000 - Garou Mark of the Wolves
 NEO-AEG CHAFIO        251  SNK           1999.08.10  JAPAN    NEO-CMC 90G06CF7042  1999 - The King of Fighters 99

All roms (C1-4, M1, and S1) can be DIP42 or SMD. Used in  [[V-Liner]], but uses official SNK chips ({{Chipname|NEO-ZMC}},and {{Chipname|NEO-273}}).

[[Category:Cartridge boards]]

__NOTOC__

Cartridge PCB which holds the [[C ROM|C]] (sprite graphics), [[M1 ROM|M]] (Z80 code) and [[S ROM|S]] (fix graphics) ROMs.

List from [[https://github.com/mamedev/mame/blob/master/src/mame/drivers/neodriv.hxx MAME's source]].

=MVS=

{| class="wikitable"
!Name
!Chips
!Max C ROM
!Max S ROM
!Max M ROM
|-
|[[CM2]] (Prototype) 
|-
|[[CHA-EP]] (Prototype) 
|-
|[[CHA-32]]
|-
|[[CHA-8M]]
|-
|CHAEP8M (Prototype)||[[NEO-ZMC]],[[NEO-273]]||8*1024||128||128
|-
|[[CHA256]]||[[NEO-ZMC]],[[NEO-273]]||8*4096||?||?
|-
|[[CHA256B]]||[[NEO-ZMC]],[[NEO-273]]||8*4096||?||?
|-
|[[CHA42G-1]]||[[NEO-ZMC]],[[NEO-273]]||4*1024||128||128
|-
|CHA42G-2
|-
|CHA42G-3?
|-
|CHA42G-3B
|-
|[[CHA512Y]]||[[NEO-ZMC]],[[NEO-273]]||8*8192||128||128
|-
|CHA64-C
|[[NEO-ZMC]]
|-
|[[CHAFIO]]||[[NEO-CMC]]42, [[NEO-CMC]]50
|-
|CHAMC2||[[NEO-ZMC]],[[NEO-273]]||2*16384||512||512
|-
|PSTM-ROMC||-||-||-||-
|}

=Home Console=

{| class="wikitable"
!Name
!Chips
!Max C ROM
!Max S ROM
!Max M ROM
|-
|[[CHA-EP]] (Prototype)||-||-||-||-
|-
|[[CHA-32]]||-||-||-||-
|-
|[[CHA-8M]]||-||-||-||-
|-
|[[CHA42G]]||-||-||-||-
|-
|[[CHA42G-1]]||-||-||-||-
|-
|[[CHA42G-2]]||-||-||-||-
|-
|[[CHA42G-2C]]||-||-||-||-
|-
|[[CHA-EPG]] (Prototype)||-||-||-||-
|-
|[[CHA42G-3]]||-||-||-||-
|-
|[[CHA42G-4]]||-||-||-||-
|-
|[[CHA256]]||-||-||-||-
|-
|[[CHA256 B]]||-||-||-||-
|-
|[[CHA256🄱]]||-||-||-||-
|-
|[[CHA256BY]]||-||-||-||-
|-
|[[CHA256RY]]||-||-||-||-
|-
|[[CHA512Y]]||-||-||-||-
|-
|[[CHAFIO]]||-||-||-||-
|-
|}

==CHA-32==
[[File:neo-mvs-cha32.png|400px]]

==CHAFIO REV1.0 (KOF-2001)==

==CHAMC2(Prototype Board)==
[[http://www.neogeoprotos.com/games/topsecret2.htm Billy Pit's Neo-Geo Proto Page]] or [[http://www.assemblergames.com/forums/showthread.php?t=23106&amp;page=11]]

==PSTM-ROMC==

The only cart board which hasn't a [[S ROM]].

[[Category:Chips]]
[[Category:Cartridge systems]]
[[Category:Cartridge boards]]

Prototype [[CHA board]]. Identical to NEO-MVS [[CHA-EP]], only silkscreen differences.

Made before the decision of calling CHA boards "CHA-XX" ?

Game routine called by the [[System ROM]], which has to play the "coin deposit" sound (typically sends a byte command to the Z80 to play a short PSG sound effect).

[[Category:Code]]

== CONTROLLER_SETUP ($C004D4): sets up controllers ==

'''Warning:''' register contents aren't preserved! Used registers varies.

Detects controllers configuration and sets inputs status byte accordingly.

Range of supported devices and detection method varies depending on system type and System ROM revision.

== Status bytes ==
Status byte is the first byte of the input register into BIOS RAM (ex. {{BR|BIOS_P1STATUS}} for P1). It is used by [[SYSTEM_IO]] to correctly read devices.

Possible values are:

*0 - No connection (dealt as standard controller)
*1 - Standard controller
*2 - Expanded controller (4P mode)
*3 - [[Mahjong controller]]
*4 - Keyboard

== MVS ==

MVS setup is very straightforward: if hard dip 3 is set, BIOS_P1STATUS is set to 3, else status byte is set to 0 for all players.

== NEO•GEO / NEO•GEO CD==

NEO•GEO controller setup is much more elaborate, looking for 6 different devices. (standard controller, mahjong, 4P adapter, keyboard, plus 2 unknown devices)

The bios writes various configurations on controller outputs, then checks back controller status (for example a standard controller returns button D pressed when OUT3 is set to 1). Checked button can be either D/C/Select/Start.

Resulting status bytes are stored into a preset table:
&lt;pre>
(neo-epo bios)
C16A44: 02 02 00 00, 00 02 00 00, 02 00 00 00, 00 00 00 00
C16A54: 00 00 00 00, 01 00 01 00, 00 01 00 01, 01 01 01 01
C16A64: 03 03 00 00, 00 03 00 00, 03 00 00 00, 00 00 00 00
C16A74: 01 01 03 03, 01 01 01 03, 01 01 03 01, 01 01 01 01
C16A84: 03 03 00 00, 00 03 00 00, 03 00 00 00, 00 00 00 00
C16A94: 04 04 00 00, 00 04 00 00, 04 00 00 00, 00 00 00 00
&lt;/pre>

Software runs 6 consecutive checks. All of then are done, regardless if a previous device does match or not, however a status byte isn't overwritten if not 0.

This means 1st check has top priority, 6th has lowest.

Output status, checked button and resulting status bytes (P1-4) are:
{| class="wikitable"
|
|align="center"|'''outputs config (binary)'''
|align="center"|'''button checked'''
|align="center"|'''P1 &amp; P2 match'''
|align="center"|'''P2 match'''
|align="center"|'''P1 match'''
|align="center"|'''no match'''
|align="center"|'''tested device'''
|-
|1st check
|align="center"|100 100
|align="center"|D
|align="center"|02 02 00 00
|align="center"|00 02 00 00
|align="center"|02 00 00 00
|align="center"|00 00 00 00
|align="center"|standard controller
|-
|2nd check
|align="center"|001 001, then 101 101
|align="center"|C
|align="center"|00 00 00 00
|align="center"|01 00 01 00
|align="center"|00 01 00 01
|align="center"|01 01 01 01
|align="center"|unknown device
|-
|3rd check
|align="center"|011 011, then 111 111
|align="center"|D
|align="center"|03 03 00 00
|align="center"|00 03 00 00
|align="center"|03 00 00 00
|align="center"|00 00 00 00
|align="center"|unknown device
|-
|4th check
|align="center"|110 110
|align="center"|D
|align="center"|01 01 03 03
|align="center"|01 01 01 03
|align="center"|01 01 03 01
|align="center"|01 01 01 01
|align="center"|early 4P adapter ?
|-
|5th check
|align="center"|100 100
|align="center"|SELECT
|align="center"|03 03 00 00
|align="center"|00 03 00 00
|align="center"|03 00 00 00
|align="center"|00 00 00 00
|align="center"|Mahjong controller
|-
|6th check
|align="center"|100 100
|align="center"|START
|align="center"|04 04 00 00
|align="center"|00 04 00 00
|align="center"|04 00 00 00
|align="center"|00 00 00 00
|align="center"|Keyboard
|-
|}
*All status bytes are decreased between 4th &amp; 5th step.
*Keep in mind there's an inverter between outputs and controller ports, writing 101 in the output register actually outputs 010 on the port.

[[Category:BIOS calls]]

[[File:CR10-A.jpg|right|thumb|CR10-A found in a MV4FS.]]

Serial-In-Line capacitor and resistor array used on NeoGeo boards, to protect input ports and auxiliary circuits ([[MV-LED]]). Also found as "CR10-A-*" on late [[NEO-CDD boards]]. Drop-in replacements seem hard to find but using common 1/4W resistors seems to be enough for a quick fix.

They are composed of 4 identical circuits. The leftmost pin's net pulls all outputs through 1k resistors. The 330 ohm resistors provide current protection (sometimes as fuses), the capacitors smooth out eventual spikes.

[[File:Cre401.png]]

Datasheet: [[File:Cr.pdf|Cr.pdf]] ("-A Circuit")

[[Category:Chips]]
[[Category:Repairs]]

== CREDIT_CHECK ($C00450) ==

[[System ROM]] routine called to check if there's enough credits for a player.

Input: Credits necessary in {{BR|BIOS_CREDIT_DEC1}} for player 1, and {{BR|BIOS_CREDIT_DEC2}} for player 2.
Those locations are set to 0 if there aren't enough credits.

Call [[CREDIT_DOWN]] after.

Credits count are located in [[backup RAM]] at $D00034 and $D00035. Only the system ROM should use these locations directly.

[[Category:BIOS calls]]

== CREDIT_DOWN ($C00456) ==

[[System ROM]] routine called to deduct credits.

Input: Credits to deduct in {{BR|BIOS_CREDIT_DEC1}} for player 1, and {{BR|BIOS_CREDIT_DEC2}} for player 2.

Also updates the MVS [[book keeping]].

[[Category:BIOS calls]]

[[File:CX23065.png|right|thumb]]

The CX23065 is a N-MOS Phase Comparator with Inversion Amplifier present only in the [[AES hardware|AES]] where is used in the [[Video PLL]] circuit.

==Pinout==

[[File:CX23065sch.png|512px]]


==Datasheet==

Official datasheet: [[https://console5.com/techwiki/images/6/67/CX23065.pdf]]

[[Category:Chips]]

[[File:aes_cxa1145.jpg|right|thumb]]

Video encoder chip found in AES systems. Outputs RGBS and composite video signals from the output of the [[video DAC]].
Is paired with a color burst quartz oscillator.

==Pinout==

[[File:CXA1145 sch.png|1024px]]


==Datasheet==

Official datasheet: [[http://www.datasheetcatalog.org/datasheets/320/199042_DS.pdf]]

Datasheet PDFs (from [[https://console5.com]] )

Sony CXA1145P/M RGB Encoder 
[[https://console5.com/techwiki/images/f/fb/CXA1145PM.pdf]]

Sony CXA1145P/M RGB Encoder (Japanese)
[[https://console5.com/techwiki/images/3/3d/CXA1145.pdf]]

Itri Erso ES71145 RGB Encoder (CXA1145 substitute, English)
[[https://console5.com/techwiki/images/2/20/ES71145.pdf]]

[[Category:Chips]]
[[Category:Video system]]

[[File:cd2_cxa1645.jpg|right|thumb]]

Video encoder chip found in CD systems. Outputs RGBS and composite video signals from the output of the [[video DAC]].
Is paired with a color burst quartz oscillator.

==Datasheet==

Official datasheet: [[http://www.datasheetcatalog.org/datasheets/320/199202_DS.pdf]]

[[Category:Chips]]
[[Category:Video system]]

[[File:c_rom.jpg|thumb|right|8MiB C ROM]]
16 bit sprite graphics ROMs organized in pairs, each containing half of the bitplanes for [[Sprites|sprite]] tiles in [[cartridges]].

==Data format==
See [[sprite graphics format]].

==Speed==
Anything under 250ns (7mclk).

[[Category:Chips]]
[[Category:Cartridge systems]]

[[File:calendar_freeze.png|thumb|Typical freeze screen ([[system ROM|SP-S2]]) on startup.]]

==Cause==

A freeze at startup on the shown screen (with no [[click of death|cyclic reset]]) is caused by the [[RTC]] not outputing a time pulse at all.

The [[system ROM]] doesn't give a [[CALENDAR ERROR]] in this particular case because of a programming oversight.

==Suggestions==

* Check battery voltage
* Check 32768Hz crystal
* Check {{Chipname|uPD4990}} traces, especially power and pin 11 ({{Sig|TP|TP}})
* Check {{Chipname|NEO-F0}} interface pins
* Check {{Chipname|74HC32}} and traces to {{Chipname|uPD4990}}
* Try to reset Backup RAM content:
** Either remove battery
** Or flip all dip switches to on and then power on the board. Then turn off the board and return all dips to normal settings
* You can use unibios to skip this error

[[Category:Repairs]]

{{GameInfo|right
|en_title=Captain Tomaday
|jp_title=Captain Tomaday
|jp_title2=キャプテン・トマディ
|developer=Visco
|ngh_id=249
|megcount=106
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ctomaday
|mvs_date=1999
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
}}

[[Category:Games]]

Sizes are in KBytes.

==Stats==
*Most used PROG board: PROGBK1
*Least used PROG boards: NPS-PRG1, PROGV
*Most used CHA board: CHA256
*Least used CHA board: CHA64-C

{|class="wikitable sortable"
![[NGH number|NGH]]!!Title!!Release!!P size!!C size!!V size!!S size!!M size!!&lt;span style="background-color:#40FF40">[[PROG board|PROG PCB]]&lt;/span>!!&lt;span style="background-color:#40FF40">[[CHA board|CHA PCB]]&lt;/span>
|-
|001||Nam 1975||1990/04/26||512k||6*512k||4*512k||None ?||None ?||PROG-NAM||CHA-32
|-
|002||Baseball Stars Professional||1990/04/26||512k||6*512k||5*512k||None ?||None ?||PROG-EP||CHA-32
|-
|003||Top Player's Golf||1990/05/23||512k*2||8*512k||5*512k||None ?||64k||PROG-EP||CHA-32
|-
|004||Mahjong Kyoretsuden||1990/04/26||512k||4*512k||5*512k||64k||64k||PROG-EP||CHA-32
|-
|005||Magician Lord||1990/04/26||512k*2||6*512k||3*512k||None ?||None ?||PROG-EP||CHA-32
|-
|006||Riding Hero||1990/07/24||512k*2||4*512k||6*512k||None ?||None ?||PROG-HERO||CHA-32
|-
|007||Alpha Mission 2||1991||512k||2*1024&lt;BR>+2*512||2*1024||None ?||None ?||PROG42G||CHA42G
|-
|008||Jockey Grand Prix||2001||?||?||?||?||?||PROGV||[[CHA_board#CHAFIO|CHAFIO]]
|-
|009||Ninja Combat||1990/07/24||2*512k||6*512k||4*512k||None ?||None ?||PROG-EP||CHA-32
|-
|010||Cyber-Lip||1990/11/07||512k||6*512k||5*512k||None ?||64k||PROG-EP||CHA-32
|-
|011||Super Spy, The||1990/10/08||512k||4*1024k||2*512k&lt;BR>+1024||None ?||None ?||PROG-8MB||CHA-8M
|-
|014||Mutation Nation||??/??/????||512k||4*1024k||2*1024k||None ?||None ?||PROG42G-1||CHA42G-1
|-
|016||King of the Monsters||1991||512k*2||4*1024k||2*1024k||None ?||None ?||PROG42G&lt;BR>PROG42G-1||CHA42G&lt;BR>CHA42G-1
|-
|017||Sengoku||1991/02/12||2*512k||4*1024k||2*1024k||None ?||None ?||PROG42G||CHA42G
|-
|018||Burning Fight||1991||2*512k||4*1024k||2*1024k||None ?||None ?||PROG42G||CHA42G
|-
|019||[[League Bowling]]||1990/12/10||512k||2*512k||3*512k||None ?||None ?||PROG-HERO||CHA-32
|-
|020||Ghost Pilots||1991/01/25||512k||4*1024k||2*512&lt;BR>+1024||None ?||None ?||PROG8M42||CHA-8M
|-
|021||[[Puzzled]] (Joy Joy Kid)||1990/11/20||512k||2*512k||2*512k||None ?||None ?||PROG-EP||CHA-32
|-
|022||Blue's Journey||1990||1024k||2*1024&lt;BR>+2*512||2*1024||None ?||None ?||PROG8M42||CHA-8M
|-
|023||Quiz Daisousa Sen||??/??/????||1024k||2*1024k||1024k||None ?||None ?||PROG42G||CHA42G
|-
|024||Last Resort||1992||512k||2*1024&lt;BR>+2*512k||2*1024k||None ?||None ?||PROG42G-1||CHA42G-1
|-
|025||Eight Man||1991||512k||2*1024&lt;BR>+2*512||2*1024k||None ?||None ?||PROG42G-1||CHA42G-1
|-
|027||Mahjong Minnasano Okagesamadesu||??/??/????||?||?||?||?||?||PROG-8MB||CHA-8M
|-
|029||Legend of Success Joe||??/??/????||?||?||?||?||?||PROG42G-1||CHA42G-1
|-
|030||2020 Super Baseball||1991||512||4*1024||2*1024||128||128||PROG42G-1||CHA42G-1
|-
|031||Soccer Brawl||1992||512||2*1024&lt;BR>+2*512||2*1024||128||128||PROG42G-1||CHA42G-1
|-
|032||Robo Army||??/??/????||512||2*1024&lt;BR>+2*512||2*1024||128||128||PROG42G-1||CHA42G-1
|-
|033||Fatal Fury||1991||512&lt;BR>+128||4*1024||2*1024||128||128||PROG42G-1||CHA42G-1
|-
|034||Football Frenzy||1992||512||2*1024&lt;BR>+2*512||2*1024||128||128||PROG42G-1||CHA42G-1
|-
|036||Mahjong Bakatonosama Manyuki||??/??/????||?||?||?||?||?||PROG42G-COM||CHA42G-1
|-
|037||Crossed Swords||1991||512||4*1024||1024||128||128||PROG42G-1||CHA42G-1
|-
|038||Thrash Rally||1991||2*512||2*1024&lt;BR>+2*512||1024&lt;BR>+512||128||128||PROG42G-COM||CHA42G-1
|-
|039||King of the Monsters 2||1992||2*512||2*2048&lt;BR>+2*512||2048&lt;BR>+1024||128||128||PROG16&lt;BR>PROG42G-1||CHA42G-1
|-
|040||Sengoku 2||1993||1024||2*2048&lt;BR>+2*512||2048&lt;BR>+1024||128||128||PROG4096||CHA42G-2
|-
|041||Baseball Stars 2||1992||512||4*1024||2*1024&lt;BR>+512||128||128||PROG42G-1||CHA42G-1
|-
|042||Quiz Meitantei Neo &amp; Geo||??/??/????||?||?||?||?||?||PROG42G-1||CHA42G-1
|-
|043||3 Count Bout (Fire Suplex)||1993||2*512||4*2048||2*2048||128||128||PROG4096||CHA42G-2
|-
|044||Art of Fighting||1992||512||4*2048||2*2048||128||128||PROG4096&lt;BR>PROG16||CHA42G-1
|-
|045||Samurai Shodown||??/??/????||1024||4*2048&lt;BR>+2*1024||2*2048||128||128||PROGGSC||CHA42G-3
|-
|046||Top Hunter||1994||2*1024||8*1024||4*1024||128||128||PROGTOP||[[CHA_board#CHA256B|CHA256B]]
|-
|047||Fatal Fury Special||1992||1024&lt;BR>+512||6*2048||2*2048&lt;BR>+1024||128||128||PROGGSC||CHA42G-3&lt;BR>CHA42G-3B
|-
|048||Quest of Jong Master||??/??/????||?||?||?||?||?||PROGGSC||CHA256
|-
|049||Andro Dunos||1992||2*512||2*1024||2*512||128||128||PROG16||CHA42G-1
|-
|050||Ninja Commando||??/??/????||?||?||?||?||?||PROG42G-1||CHA42G-1
|-
|051||[[Viewpoint]]||1992||?||?||?||?||?||PROG-G2||CHA42G-1
|-
|052||Super Sidekicks||1992||?||?||?||?||?||PROG-G2||CHA42G-2
|-
|053||World Heroes||1992||?||?||?||?||?||PROG16||CHA42G-1
|-
|055||King of Fighters '94||1994||2048||8*2048||3*2048||128||128||PROGTOP||CHA256
|-
|056||Art of Fighting 2||1994||1024||8*1024||2*2048&lt;BR>+1024||128||128||PROGGSC||CHA256
|-
|057||[[World Heroes 2]]||1993||2048||6*2048||2*2048||128||128||PROG4096B||CHA42G-3B
|-
|058||Fatal Fury 2||1993||1024||4*2048||2*2048||128||128||PROG-G2||CHA42G-1
|-
|059||Savage Reign||??/??/????||2048||8*2048||3*2048||128||128||PROG4096B&lt;BR>PROGTOP||CHA42G-3&lt;BR>CHA256
|-
|060||Fight Fever||1994||1024||4*2048||2048&lt;BR>+1024||128||128||PROGGSC||[[CHA_board#CHA256B|CHA256B]]
|-
|061||Super Sidekicks 2||1994||1024||4*2048||2*2048||128||128||PROGTOP&lt;BR>PROGGSC||CHA256
|-
|062||Spin Master (Miracle Adventure)||1993||2*1024||8*1024||1024||128||128||PROGGSC||CHA256
|-
|063||Samurai Shodown II||??/??/????||2048||8*2048||3*2048&lt;BR>+1024||128||128||PROGTOP||CHA256
|-
|064||World Heroes 2 Jet||1994||2048||8*2048||2*2048||128||128||PROGGSC||CHA256
|-
|065||Windjammers (Flying Power Disk)||1994||1024||4*1024||4*1024||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA42G-1
|-
|066||Karnov's Revenge (Fighers History Dynamite)||1994||1024||6*2048||2048||128||128||PROGGSC||CHA256
|-
|067||Gururin||1994||512||2*2048||512||128||128||PROG16||CHA256
|-
|068||Power Spikes II||??/??/????||1024||6*1024||3*1024||128||128||PROGTOP||CHA256
|-
|069||Fatal Fury 3||1995||512&lt;BR>+128||4*1024||2*1024||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|070||Zupapa!||2001||1024||2*8192||2048||?||128||PROGBK1||[[CHA_board#CHAFIO|CHAFIO]]
|-
|073||Panic Bomber||??/??/????||2*1024||512||2048&lt;BR>+1024||128||128||PROGTOP||CHA256
|-
|074||Aggressors of Dark Kombat||1994||2048||8*2048||2*2048||128||128||PROGTOP||[[CHA_board#CHA256B|CHA256B]]  
|-
|075||Aero Fighters 2 (Sonic Wings 2)||1994||2048||4*2048||2048&lt;BR>+512||128||128||PROGGSC||CHA256
|-
|076||Zed Blade||1994?||512||4*2048||2*2048&lt;BR>+1024||128||128||PROGGSC||CHA256
|-
|078||Galaxy Fight||1995||2048||6*2048&lt;BR>+2*1024||2*2048&lt;BR>+1024||128||128||PROGTOP||CHA256
|-
|079||Street Hoop (Dunk Dream)||1994||1024||4*2048||2048&lt;BR>+1024||128||128||PROGGSC||CHA256
|-
|080||Quiz King of Fighters||??/??/????||?||?||?||?||?||PROGGSC||CHA256
|-
|081||Super Sidekicks 3||1995||2048||6*2048||3*2048||128||128||PROGTOP&lt;BR>PROG4096B&lt;BR>[[PROG_board#PROGBK1|PROGBK1]]||CHA256&lt;BR>[[CHA_board#CHA256B|CHA256B]]&lt;BR>CHA42G-3
|-
|082||Double Dragon||1995||2048||6*2048&lt;BR>+2*1024||2*2048||128||128||PROGTOP||CHA256
|-
|083||Bust-A-Move (Puzzle Bobble)||1994||512||4*1024&lt;BR>+2*512||3*1024&lt;BR>+512||128||128||PROGTOP||CHA256
|-
|084||King of Fighters '95||1995||2048||4*4096&lt;BR>+2*2048&lt;BR>+2*1024||4096&lt;BR>+2048&lt;BR>+1024||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|086||Tecmo World Soccer '96||1996||1024||2*4096&lt;BR>+2*1024||2*2048||128||128||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|087||Samurai Shodown III||??/??/????||4*512&lt;BR>+1024||6*4096&lt;BR>+2*1024||4096&lt;BR>+2048||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|088||Stakes Winner||1995||2048||4*2048||2048||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA42G-3B
|-
|089||Pulstar||??/??/????||1024&lt;BR>+2048||6*4096&lt;BR>+2*2048||2*4096||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|090||World Heroes Perfect||1995||2048||2*4096&lt;BR>+6*2048||3*2048||128||128||PROGTOP&lt;BR>PROGGSC&lt;BR>[[PROG_board#PROGBK1|PROGBK1]]||CHA256&lt;BR>[[CHA_board#CHA256B|CHA256B]]
|-
|092||Kabuki Klash||1995||2048||4*4096||3*2048&lt;BR>+1024||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|093||Neo Bomberman||??/??/????||1024||2*4096&lt;BR>+2*512||4096&lt;BR>+2048||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|094||Voltage Fighter Gowcaizer||1995||2048||8*2048||2*2048&lt;BR>+1024||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA42G-3B
|-
|095||Real Bout Fatal Fury||??/??/????||1024&lt;BR>+2048||6*4096&lt;BR>+2*2048||3*4096||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|096||Art of Fighting 3||1996||1024&lt;BR>+2048||6*4096&lt;BR>+2*2048||3*2048||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA256 
|-
|097||Aero Fighters 3 (Sonic Wings 3)||1995||2048||2*4096&lt;BR>+2*2048||4096&lt;BR>+2048||128||128||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|200||[[Neo Turf Masters]] (Big Tournament Golf)||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|201||[[Metal Slug]]||1996||2048k||4*4096k||2*4096k||128k||128k||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|202||Puzzle de Pon!||??/??/????||?||?||?||?||?||PROG4096||CHA42G-2
|-
|203||Master of Syougi||??/??/????||?||?||?||?||?||PROGTOP||CHA42G-3B
|-
|206||Quiz Chibi Marukochan Deluxe||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|207||Neo Mr. Do!||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA42G-3B
|-
|208||Super Dodge Ball||1996||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|209||Goal! Goal! Goal!||1995||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|212||Over Top||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|213||Neo Drift Out||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|214||King of Fighters '96||1996||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|215||Super Sidekicks 4||1996||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|216||Kizuna Encounter||1996||?||?||?||?||?||PROGTOP||CHA256
|-
|217||Ninja Master's||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|218||Ragnagard||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|219||Pleasure Goal||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|221||Magical Drop 2||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256&lt;BR>[[CHA_board#CHA256B|CHA256B]]
|-
|222||Samurai Shodown IV||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|223||Real Bout Fatal Fury Special||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|224||[[Twinkle Star Sprites]]||1996||2048k||2*4096k&lt;BR>+2*1024k||4096k&lt;BR>+2048k||128k||128k||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|225||Waku Waku 7||1996||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|227||Stakes Winner 2||1996||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|230||Breakers||1996||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|231||Money Puzzle Exchanger||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA42G-3B
|-
|232||King of Fighters '97||1997||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|233||Magical Drop 3||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|234||Last Blade||1997||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|235||Puzzle de Pon! R||??/??/????||?||?||?||?||?||PROG4096||CHA42G-2
|-
|236||Iritating Maze, The||1997||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|237||Pop 'n Bounce||??/??/????||?||?||?||?||?||PROG4096||CHA42G-3B
|-
|238||Shock Troopers||1997||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHA256B|CHA256B]]
|-
|239||Blazing Star||1998||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|240||Real Bout Fatal Fury 2||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|241||[[Metal Slug 2]]||1998||1024k&lt;BR>+2048k||4*8192k||2*4096k||128k||128k||[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|242||King of Fighters '98||1998||?||?||?||?||?||PROGSF1&lt;BR>[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|243||Last Blade 2||1998||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|244||NeoGeo Cup '98||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|245||Breakers Revenge||1998||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|246||Shock Troopers 2nd Squad||1998||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA512Y
|-
|247||Flip Shot||1998||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|248||Bust-A-Move Again (Puzzle Bobble 2)||1999||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|249||Captain Tomaday||1999||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|-
|250||[[Metal Slug X]]||1999||1024k&lt;BR>+4096k||6*8192k||2*4096k&lt;BR>+2048k||128k||128k||PROGEOP||CHA512Y
|-
|251||King of Fighters '99||1999||?||?||?||?||?||PROGLBA&lt;BR>[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHAFIO|CHAFIO]]
|-
|252||Ganryu||1999||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHAFIO|CHAFIO]]
|-
|253||Garou: Mark of the Wolves||1999||?||?||?||?||?||PROGLBA||[[CHA_board#CHAFIO|CHAFIO]]
|-
|254||Strikers 1945 Plus||1999||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHAFIO|CHAFIO]]
|-
|255||Prehistoric Isle 2||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHAFIO|CHAFIO]]
|-
|256||[[Metal Slug 3]]||2000||2*4096k||8*8192k||4*4096k||none||512k||PROGLBA||[[CHA_board#CHAFIO|CHAFIO]]
|-
|257||King of Fighters 2000||2000||?||?||?||?||?||PROGLBA([[NGPC flash board]])||[[CHA_board#CHAFIO|CHAFIO]]
|-
|259||Bang Bead||2000||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHAFIO|CHAFIO]]
|-
|260||Nightmare in the Dark||??/??/????||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHAFIO|CHAFIO]]
|-
|261||Sengoku 3||2001||?||?||?||?||?||[[PROG_board#PROGBK1|PROGBK1]]||[[CHA_board#CHAFIO|CHAFIO]]
|-
|262||King of Fighters 2001||2001||?||?||?||?||?||PROGBK2||[[CHA_board#CHAFIO|CHAFIO]]
|-
|263||[[Metal Slug 4]]||2002||1024k&lt;BR>+4096k||6*8192k||2*8192k||none||128k||PROGBK2||[[CHA_board#CHAFIO|CHAFIO]]
|-
|264||Rage of the Dragons||??/??/????||?||?||?||?||?||PROGBK2||[[CHA_board#CHAFIO|CHAFIO]]
|-
|265||King of Fighters 2002||2002||?||?||?||?||?||PROGBK2||[[CHA_board#CHAFIO|CHAFIO]]
|-
|266||Matrimelee||??/??/????||?||?||?||?||?||PROGBK2||[[CHA_board#CHAFIO|CHAFIO]]
|-
|267||Pochi &amp; Nyaa||??/??/????||?||?||?||?||?||PROGBK2||[[CHA_board#CHAFIO|CHAFIO]]
|-
|268||[[Metal Slug 5]]||2003||2*4096k||8*8192k||2*8192k||none||512k||PROGBK3S||[[CHA_board#CHAFIO|CHAFIO]]
|-
|269||SVC Chaos||2003||?||?||?||?||?||PROGBK3R||[[CHA_board#CHAFIO|CHAFIO]]
|-
|270||Samurai Shodown V||??/??/????||?||?||?||?||?||PROGBK2R||[[CHA_board#CHAFIO|CHAFIO]]
|-
|271||King of Fighters 2003||2003||?||?||?||?||?||PROGBK3S||[[CHA_board#CHAFIO|CHAFIO]]
|-
|272||Samurai Shodown V Special||??/??/????||?||?||?||?||?||PROGBK2S||[[CHA_board#CHAFIO|CHAFIO]]
|-
|?||??/??/????||?||?||?||?||?||NPS||Neo Print|-PRG1||CHA64-C
|-
|?||??/??/????||?||?||?||?||?||Neo Print KOF'97||[[PROG_board#PROGBK1|PROGBK1]]||CHA256
|}

==Replacement chips==

[[File:Cartridge_chips.png]]

[[Category:Cartridge systems]]
[[Category:Chips]]

Sometimes, the simplest questions are the most confusing.

=AES=

[[File:aescartpcbs.png|right]]

From the joypad ports to the backside:
* CHA bottom
* CHA top
* PROG bottom
* PROG top

When looking at the label side of an AES cartridge, we would see the [[CHA board]]'s bottom first.

=MVS=

The arrow side is equivalent to the AES cartridge sticker side.

[[Category:Cartridge systems]]

From [[Samurai Shodown IV - Amakusa's Revenge]], done for all 4 banks in $200000~$2FFFFF:

&lt;pre>
	move	#$0FFF,d7		;Number of times to test until error
LAB_0057:
	move	#$0001,$2FFFF0		;Set P bank 1
	cmpi	#$0001,$2FFFF0		;Check if ($2FFFF0) = 1
	beq	LAB_0058		;Pass
	dbf	d7,LAB_0057		;Or loop
	move	#$0048,EXT_0574		;Fail
	move.b	#$FF,2066(a5)		;Set RAM
	jmp	EXT_01A0		;Write "WARNING BANK ERROR" and lock
LAB_0058:
&lt;/pre>

Also see [[slot check security]].

[[Category:Cartridge systems]]
[[Category:Code]]

#REDIRECT [[Cartridge ROM arrangements]]

[[AES cartridge]]s and [[MVS cartridge]]s are made of two, dual layer boards. Chips facing upwards, the top [[PROG board]] holds the {{Chipname|P ROM}}s (68k code) and {{Chipname|V ROM}}s (sound samples), while the bottom [[CHA board]] holds the {{Chipname|C ROM}}s (sprite tiles),  {{Chipname|S ROM}}s (fix tiles) and {{Chipname|M1 ROM}} ROM (z80 code).

Various cartridge boards were designed over the years to accomodate different ROM and protection chips. See [[cartridge specifications]] and [[:Category:Cartridge boards]] for a complete list of them.

=Development cartridges=

EPROM and JEIDA flash carts by SNK. Capacity ?

Prototypes cartridges with green labels are the more common Japanese versions.

Mahjong Minasan no Okagesamadesu prototype (picture by NeoGeoCollector):

[[File:Greenminasanno.jpg|640px]]

Prototype cartridges with blue labels are the Export versions. These are extremely rare and only one cart with this label is known.

Viewpoint prototype (picture by NeoTurfMasta):

[[File:Vp1.jpg|640px]]

These are the sample carts made when the game is somewhat complete. But there are also development carts developers used to test each of their builds, with easily removable linear flash cards.

There are some boards with a standard MVS form factor. Maybe an AES variant exists ?

Standard-sized flash cart (picture by www.neogeofreak.com):

[[File:Ngfproto.jpg]]

And there are also some way bigger flash carts! Dragon's Heaven aka. DarkSeed was found on this kind of development board.

X3002 dev board (picture by NeoTurfMasta):

[[File:X3002.jpg|640px]]

There are also EPROM carts in the same format, like this other X3002 but with eproms (picture source unknown):

[[File:X3002-eprom-ver.jpg|640px]]

Older X0007 with full height connector, mfg. same as early boards (picture source unknown):

[[File:X3007.jpg|640px]]

Speaking of EPROM carts, there are even more strange cartridges, PROG8AM and CHA8AM (picture source unknown):

[[File:8AM.jpg]]

Another 8AM dev board. Does this one hosts Sun Shine / Block Paradise?. It is one of the very first dev boards made. (picture by Billy Pitt):

[[File:13pregunta.jpg]]

[[Category:Cartridge systems]]
[[Category:Chips]]

This category contains information related to the audio system, including synthesized and CD audio.

&lt;gallery widths=300px heights=300px>
File:Audio arch cart.png|Audio path in cartridge systems
File:Audio arch cd.png|Audio path in CD systems
&lt;/gallery>

[[Category:Code]]

What's common to every NeoGeo systems: main architecture, data formats, BIOS functions...

==Particularities==
* 7 MiB of [[DRAM]]
* ~2 MiB of 68k program memory, 64KiB are used as RAM
* [[CDDA|CD Audio tracks]] playback
* No memory card slot, replaced with some 8KB of [[battery-backed RAM]]
* "Cross-memory" DMA
* No ADPCM-B support

All pictures courtesy of [[http://www.mvs-scans.com MVS-Scans]].

See [[PROG board]] and [[CHA board]].

==[[PROG board]]s==
&lt;gallery widths=128px perrow=6>
File:Prog-8mb mvs.jpg|[[PROG-8MB]]
File:Prog-ep mvs.jpg|[[PROG-EP]]
File:Prog-g2 mvs.jpg|[[PROG-G2]]
File:Prog-hero mvs.jpg|[[PROG-HERO]]
File:Prog-nam mvs.jpg|[[PROG-NAM]]
File:Prog16 mvs.jpg|[[PROG16]]
File:Prog4096 mvs.jpg|[[PROG4096]]
File:Prog4096b mvs.jpg|[[PROG4096B]]
File:Prog42g mvs.jpg|[[PROG42G]]
File:Prog42g-1 mvs.jpg|[[PROG42G-1]]
File:Prog42g-com mvs.jpg|[[PROG42G-COM]]
File:Prog8m42 mvs.jpg|[[PROG8M42]]
File:Progbk1 mvs.jpg|[[PROGBK1]]
File:Progbk2 mvs.jpg|[[PROGBK2]]
File:Progbk2r mvs.jpg|[[PROGBK2R]]
File:Progbk2s mvs.jpg|[[PROGBK2S]]
File:Progbk3r mvs.jpg|[[PROGBK3R]]
File:Progbk3s mvs.jpg|[[PROGBK3S]]
File:Proggsc mvs.jpg|[[PROGGSC]]
File:Progeop mvs.jpg|[[PROGEOP]]
File:NEO-MVS PROGLBA Front.png|[[PROGLBA]]
File:Progsf1 mvs.jpg|[[PROGSF1]]
File:Progsm mvs.jpg|[[PROGSM]]
File:Progss3 mvs.jpg|[[PROGSS3]]
File:Progtop mvs.jpg|[[PROGTOP]]
File:Progv mvs.jpg|[[PROGV]]
File:Particlestreamer10b mvs.jpg|[[Particle streamer 1.0]]
File:Particlestreamer15a mvs.jpg|[[Particle streamer 1.5]]
&lt;/gallery>

==[[CHA board]]s==

&lt;gallery widths=128px perrow=6>
File:Cha-32 mvs.jpg|[[CHA-32]]
File:Cha-8m_mvs.jpg|[[CHA-8M]]
File:Cha256 mvs.jpg|[[CHA256]]
File:Cha256b mvs.jpg|[[CHA256B]]
File:Cha42g mvs.jpg|[[CHA42G]]
File:Cha42g-1 mvs.jpg|[[CHA42G-1]]
File:Cha42g-3b mvs.jpg|[[CHA42G-3B]]
File:Cha512y mvs.jpg|[[CHA512Y]]
File:Chafio mvs.jpg|[[CHAFIO]]
File:Chafio10 mvs.jpg|[[CHAFIO1 1.0]]
File:Chav_mvs.jpg|[[CHAV]]
File:Romvault10 mvs.jpg|[[ROM vault 1.0]]
File:Romvault15 mvs.jpg|[[ROM vault 1.5]]
&lt;/gallery>

[[Category:Chips]]
[[Category:Cartridge systems]]

Particularities of the AES and MVS systems: ROM types, memory cards, cab I/O, data security...

Todo:
* Chips with (manufacturer name) need ChipInfo templates on their pages
* [[LC98000]], [[LSPC-A0]], [[PRO-C0]], [[PRO-B0]], [[NEO-GRC2]], [[NEO-MGA]] pinouts
* RAMs (VRAM, 68k, Z80)

{| align=center class="regdef"
|'''Picture'''
|'''Reference'''
|'''Description'''
|'''Found in'''
|'''Pinout'''
|-
|[[File:mvs_lspc-a0.jpg|x128px|center]]
|[[LSPC-A0]]
|First generation graphics chip
|Some AES, some MVS
|[[File:LSPC-A0_pinout.png|x128px|center]]
|-
|[[File:aes_lspc2a2.jpg|x128px|center]]
|[[LSPC2-A2]]
|Second generation graphics chip
|Some AES, some MVS
|[[File:LSPC2-A2_pinout.png|x128px|center]]
|-
|[[File:Lspc2-a3.jpg|x128px|center]]
|[[LSPC2-A3]]
|Revision of the second generation graphics chip
|Some MVS
|[[File:LSPC2-A2_pinout.png|x128px|center]]
|-
|[[File:neo-244.jpg|x128px|center]]
|[[NEO-244]]
|
|Some MVS
|[[File:NEO-244_pinout.png|x128px|center]]
|-
|[[File:neo-253.jpg|x128px|center]]
|[[NEO-253]]
|Quint 74HC253, 4-to-1 multiplexers
|Some MVS
|[[File:neo-253_pinout.png|x128px|center]]
|-
|[[File:neo-257.jpg|x128px|center]]
|[[NEO-257]]
|Quad 74HC257, 2-to-1 multiplexers
|Some MVS
|[[File:neo-257_L4_pinout.png|x128px|center]]
|-
|[[File:crt_273.jpg|x128px|center]]
|[[NEO-273]]
|C and [[S ROM]] address latches
|Cartridges
|[[File:NEO-273_pinout.png|x128px|center]]
|-
|[[File:aes_b1.jpg|x128px|center]]
|[[NEO-B1]]
|Second generation graphics chip
*Sprite and FIX multiplexer
*Line buffers
*Palette arbiter
|Some AES, some MVS
|[[File:NEO-B1_pinout.png|x128px|center]]
|-
|[[File:cd2_buf.jpg|x128px|center]]
|[[NEO-BUF]]
|Dual 8-bit bidirectional buffer
|CD1, CD2, some late MVS
|[[File:NEO-BUF_pinout.png|x128px|center]]
|-
|[[File:aes_c1.jpg|x128px|center]]
|[[NEO-C1]]
|
*Address decoder
*Joystick inputs
*[[Z80]] interface
|Some AES, some MVS
|[[File:NEO-C1_pinout.png|x128px|center]]
|-
|[[File:aes_d0.jpg|x128px|center]]
|[[NEO-D0]]
|
*Audio subsystem controller
*Output port
*[[Memory card]] bankswitching
|All AES ?, some MVS
|[[File:NEO-D0_pinout.png|x128px|center]]
|-
|[[File:crt_cmc.jpg|x128px|center]]
|[[NEO-CMC]]
|
*NEO-273 logic
*NEO-ZMC logic
*NEO-ZMC2 logic
*C+S ROM decryption
*C/S ROM multiplexer
*S ROM bankswitching
*M ROM decryption (NEOCMC50 only)
*M ROM bankswitching
|Some AES, some MVS
|[[File:Neocmc_7050_7042_pinout.png|x200px|center]]
|-
|[[File:neo-dcr-t.jpg|x128px|center]]
|[[NEO-DCR-T]]
|
* Address decoding
* Coin I/O
* [[Memory_mapped_registers#System_registers|System register]]
* [[Wait cycle]] generator
|Some MVS
|[[File:NEO-DCR_pinout.png|x128px|center]]
|-
|[[File:aes_e0.jpg|x128px|center]]
|[[NEO-E0]]
|
*Vector table swapping
*Buffer/driver
|Some AES, some MVS
|[[File:NEO-E0_pinout.png|x128px|center]]
|-
|[[File:mvs_f0.jpg|x128px|center]]
|[[NEO-F0]]
|
*Calendar access
*Dip/cab switches, coin counters
*LED marquee outputs
*Slot selection
|Some MVS
|[[File:NEO-F0_pinout.png|x128px|center]]
|-
|[[File:aes_g0.jpg|x128px|center]]
|[[NEO-G0]]
|
Quad 245 bidirectional buffer.
*Palette data buffer
*Memory card data buffer
*[[68k]] data bus buffer
|All AES, some MVS ?
|[[File:NEO-G0_pinout.png|x128px|center]]
|-
|[[File:cd2_grc.jpg|x128px|center]]
|[[NEO-GRC]]
|Graphics chip
|All CD1, all CD2
|[[File:Neo-grc_pinout.png|x128px|center]]
|-
|[[File:neo-grc2-f.jpg|x128px|center]]
|[[NEO-GRC2-F]] (Fujitsu)
|Graphics chip
|All CDZ ?, Some MVS
|[[File:neo-grc2_pinout.png|x128px|center]]
|-
|[[File:brd_grz.jpg|x128px|center]]
|[[NEO-GRZ]] (Fujitsu)
|All-in-one [[GPU]]
|ROM-only
|
|-
|[[File:neo-i0.jpg|x128px|center]]
|[[NEO-I0]]
|Multi-purpose MVS specific chip.
*[[SFIX ROM]] address latch
*Coin counter and lockout outputs
|Some MVS
|[[File:NEO-I0_pinout.png|x128px|center]]
|-
|[[File:cd2_mga.jpg|x128px|center]]
|[[NEO-MGA]]&lt;br>[[NEO-MGA-T]]&lt;br>[[NEO-MGA-T2]]
|CD unit interface, latches, address decoding ?
|All CD1, all CD2, all CDZ, some MVS
|[[File:Neo-mga_pinout.png|x128px|center]]
|-
|[[File:cd2_ofc.jpg|x128px|center]]
|[[NEO-OFC]] (Fujitsu)
|Graphics chip
|All CD1, all CD2
|
|-
|[[File:brd_pcm2.jpg|x128px|center]]
|[[NEO-PCM2]] (Fujitsu)
|
*[[PCM]]
*[[P ROM]] decoding, bankswitching and decryption
|ROM-only boards
|[[File:neo-pcm2_pinout.png|x128px|center]]
|-
|[[File:neo-sdr-t.jpg|x128px|center]]
|[[NEO-SDR-T]]
|
* Joypad I/O
* Z80 address and port decoding
* 68k/Z80 communication latches and interrupt generation
|Some MVS, All [[Neo Print]]s
|[[File:NEO-SDR_pinout.png|x128px|center]]
|-
|[[File:cd2_sft.jpg|x128px|center]]
|[[NEO-SFT]] (Fujitsu)
|Graphics related
|All CD1, all CD2
|
|-
|[[File:cd2_sud.jpg|x128px|center]]
|[[NEO-SUD]]
|Z80 subsystem controler
|All CD1, all CD2
|
|-
|[[File:cd2_voc.jpg|x128px|center]]
|[[NEO-VOC]] (Yamaha)
|PCM memory handler
|All CD1, all CD2
|
|-
|[[File:cd2_ysa.jpg|x128px|center]]
|[[NEO-YSA]] (Yamaha)
|Audio subsystem chip
|Some CD2
|
|-
|[[File:brd_ysa2.jpg|x128px|center]]
|[[NEO-YSA2]] (Yamaha)
|Complete audio subsystem chip and controller inputs
*Embedded Z80+RAM
*Embedded YM2610
|Some MVS, CDZ, All ROM-only
|[[File:NEO-YSA2_pinout.png|x128px|center]]
|-
|[[File:crt_zmc.jpg|x128px|center]]
|[[NEO-ZMC]]
|Z80 Memory Controller
|Cartridges
|[[File:NEO-ZMC_pinout.png|x128px|center]]
|-
|[[File:mvs_zmc2.jpg|x128px|center]]
|[[NEO-ZMC2]]
|
*Z80 Memory Controller
*Sprite tile serializer
|AES carts, some MVS
|[[File:NEO-ZMC2_pinout.png|x128px|center]]
|-
|[[File:crt_pcm.jpg|x128px|center]]
|[[PCM]]
|
*ADPCM bus latches
*[[V ROM]] multiplexer
|Cartridges
|[[File:PCM_pinout.png|x128px|center]]
|-
|[[File:pstg-snk.jpg|x128px|center]]
|[[PSTG-SNK]]
|
[[Neo Print]] GPU.
|
|
|-
|[[File:mvs_pro-b0.jpg|x128px|center]]
|[[PRO-B0]]
|First generation
*Palette arbiter
*Z80 latch
|Some AES, some MVS
|[[File:PRO-B0_pinout.png|x128px|center]]
|-
|[[File:mvs_pro-c0.jpg|x128px|center]]
|[[PRO-C0]]
|First generation
*Address decoder
*Glue
*Line buffer
*Palette arbiter
|Some AES, some MVS
|[[File:PRO-C0_pinout.png|x128px|center]]
|-
|[[File:mvs_pro-ct0.jpg|x64px|center]]
|[[PRO-CT0]]
|[[C ROM]] character serializer and multiplexer
|Some AES carts, some MVS
|[[File:pro-ct0_pinout.png|x128px|center]]
|-
|[[File:brd_pvc.jpg|x128px|center]]
|[[NEO-PVC]] (Fujitsu)
|[[P ROM]] decryption chip
|
|
|-
|[[File:crt_sma.jpg|x128px|center]]
|[[NEO-SMA]]
|[[P ROM]] decryption chip
|
|
|}

=Other chips=

{| align=center class="regdef"
|rowspan="2"|'''Picture'''
|rowspan="2"|'''Reference'''
|rowspan="2"|'''Description'''
|colspan="5"|'''Found in'''
|- style="background-color:AllEEE;"
|'''AES'''
|'''MVS'''
|'''CD1'''
|'''CD2'''
|'''CDZ'''
|-
|[[File:aes_68k.jpg|x128px|center]]
|[[68k|68HC000]] (Toshiba DIP64)
|rowspan="2"|16bit CPU 
|All
|Some
|
|
|
|-
|[[File:cd2_68k.jpg|x128px|center]]
|[[68k|68HC000]] (Motorola PLCC68)
|
|Some
|All
|All
|All
|-
|[[File:aes_cxa1145.jpg|x128px|center]]
|Sony [[CXA1145]]
|rowspan="2"|RGB encoder
|All
|
|
|
|
|-
|[[File:cd2_cxa1645.jpg|x128px|center]]
|Sony [[CXA1645]]
|
|
|?
|All
|?
|-
|[[File:crt_hd6301.jpg|x128px|center]]
|Hitachi [[HD6301]] (DIP40)
|Microcontroller
|colspan="5"|[[Multiplayer]] cartridges
|-
|[[File:cd2_lc78815.jpg|x128px|center]]
|Sanyo [[LC78815]]
|Stereo DAC
|
|
|?
|All
|
|-
|[[File:cd2_lc89515.jpg|x128px|center]]
|Sanyo [[LC89515]]
|CD host and error corrector
|
|
|All
|All
|?
|-
|[[File:cd2_lc8953.jpg|x128px|center]]
|Sanyo [[LC8953]]
|PUPPET
|
|
|All
|Some
|?
|-
|[[File:cd2_lc98000.jpg|x128px|center]]
|Sanyo [[LC8953|LC98000]]
|PUPPET replacement
|
|
|
|Some
|?
|-
|[[File:mvs_upd4990.jpg|x128px|center]]
|NEC [[UPD4990]]
|Real Time Clock
|
|All
|
|
|
|-
|[[File:cd2_ym2610.jpg|x128px|center]]
|Yamaha [[YM2610]]
|Sound synthesizer
|All
|All
|All
|Some
|
|-
|[[File:aes_ym3016.jpg|x128px|center]]
|Yamaha [[YM3016]]
|Audio DAC
|All
|All
|All
|Some
|
|-
|[[File:aes_z80.jpg|x128px|center]]
|Zilog [[z80]] (DIP40)
|rowspan="2"|8bit CPU
|All
|Some
|
|
|
|-
|[[File:cd2_z80.jpg|x128px|center]]
|Toshiba [[z80]] (SOIC)
|
|Some
|All
|All
|All
|}


=Memory chips=

{| align=center class="regdef"
|'''Picture'''
|'''Reference'''
|'''Description'''
|'''Found in'''
|-
|[[File:aes_lo.jpg|x128px|center]]
|[[LO|LO]]
|Shrink lookup ROM
|All systems
|-
|[[File:mvs_sp-s2.jpg|x128px|center]]
|SP-S2
|MVS [[System ROM]]
|rowspan="3"|MVS systems
|-
|[[File:mvs_sm1.jpg|x128px|center]]
|[[SM1]]
|Embedded [[sound driver]] ROM
|-
|[[File:mvs_sfix.jpg|x128px|center]]
|[[SFIX ROM]]
|Embedded [[Fix layer|Fix]] ROM
|-
|[[File:aes_biosep0.jpg|x128px|center]]
|[[NEO-EP0]]
|AES System ROM
|AES systems
|-
|Picture needed
|TOP-SP1-1
|CD2 System ROM
|Top loading CD systems (LC8953 versions)
|-
|Picture needed
|TOP-SP1-2
|CD2 System ROM
|Top loading CD systems (LC98000 versions)
|-
|[[File:cd1_front-sp1.jpg|128px|center]]
|FRONT-SP1
|CD1 System ROM
|Front loading CD systems
|}

Code snippets, register definitions, guides on how to display stuff, use BIOS functions, play music and sounds, read user input...

Information about the various Neo-Geo input devices.

[[Category:Base system]]

Various demonstration programs and utilities.

=Official AES/MVS Games=

{|class="wikitable sortable"
![[NGH number|NGH]]!!English Title!!Japanese Title
|-
|001
|[[NAM-1975]]
|ナム-1975
|-0
|002
|[[Baseball Stars Professional]]
|ベースボールスターズプロフェッショナル
|-
|003
|[[Top Player's Golf]]
|トッププレイヤーズゴルフ
|-
|004
|[[Mahjong Kyo Retsuden]]
|麻雀狂列伝 －西日本編－
|-
|005
|[[Magician Lord]]
|マジシャンロード
|-
|006
|[[Riding Hero]]
|ライディングヒーロー
|-
|007
|[[Alpha Mission II]]
|ASOII ラストガーディアン
|-
|008
|[[Jockey Grand Prix]]
|
|-
|009
|[[Ninja Combat]]
|ニンジャコンバット
|-
|010
|[[Cyber-Lip]]
|サイバーリップ
|-
|011
|[[The Super Spy]]
|ザ・スーパースパイ
|-
|012
|[[Block Paradise]]
|ブロックパラダイス
|-
|014
|[[Mutation Nation]]
|ミューテイションネイション
|-
|016
|[[King of the Monsters]]
|キング・オブ・ザ・モンスターズ
|-
|017
|[[Sengoku]]
|戦国伝承
|-
|018
|[[Burning Fight]]
|バーニングファイト
|-
|019
|[[League Bowling]]
|リーグボウリング
|-
|020
|[[Ghost Pilots]]
|ゴーストパイロット
|-
|021
|[[Puzzled]]
|[[Joy Joy Kid]] (ジョイジョイキッド)
|-
|022
|[[Blue's Journey]]
|[[Raguy]] (ラギ)
|-
|023
|[[Quiz Daisousa Sen - The Last Count Down]]
|クイズ大捜査線
|-
|024
|[[Last Resort]]
|ラストリゾート
|-
|025
|[[Eight Man]]
|エイトマン
|-
|026
|[[Fun Fun Bros]]
|
|-
|027
|[[Minasanno Okagesamadesu! Daisugorokutaikai]]
|みなさんのおかげさまです
|-
|028
|[[Dunk Star]]
|ダンクスター
|-
|029
|[[Legend of Success Joe]] / [[Ashitano Joe Densetsu]]
|あしたのジョー伝説
|-
|030
|[[2020 Super Baseball]]
|2020年スーパーベースボール
|-
|031
|[[Soccer Brawl]]
|サッカーブロール
|-
|032
|[[Robo Army]]
|ロボアーミー
|-
|033
|[[Fatal Fury - King of Fighters]]
|[[Garou Densetsu - shukumei no tatakai]] (餓狼伝説)
|-
|034
|[[Football Frenzy]]
|フットボールフレンジー
|-
|035
|[[Mystic Wand]]
|ミスティックワンド
|-
|036
|[[Bakatonosama Mahjong Manyuuki]]
|バカ殿様麻雀漫遊記
|-
|037
|[[Crossed Swords]]
|クロススウォード
|-
|038
|[[Thrash Rally]]
|スラッシュラリー
|-
|039
|[[King of the Monsters 2 - The Next Thing]]
|キング・オブ・ザ・モンスターズ 2
|-
|040
|[[Sengoku 2]]
|[[Sengoku Denshou 2]] (戦国伝承 2)
|-
|041
|[[Baseball Stars 2]]
|ベースボールスターズ 2
|-
|042
|[[Quiz Meitantei Neo &amp; Geo - Quiz Daisousa Sen part 2]]
|クイズ迷探偵ネオ&amp;ジオ クイズ大捜査線パート2
|-
|043
|[[3 Count Bout]]
|[[Fire Suplex]] (ファイヤー・スープレックス)
|-
|044
|[[Art of Fighting]]
|龍虎の拳
|-
|045
|[[Samurai Shodown]]
|[[Samurai Spirits]] (サムライスピリッツ)
|-
|046
|[[Top Hunter]]
|トップハンター
|-
|047
|[[Fatal Fury 2]]
|[[Garou Densetsu 2 - arata-naru tatakai]] (餓狼伝説 2)
|-
|048
|[[Jyanshin Densetsu - Quest of Jongmaster]]
|雀神伝説
|-
|049
|[[Andro Dunos]]
|アンドロデュノス
|-
|050
|[[Ninja Commando]]
|ニンジャコマンドー
|-
|051
|[[Viewpoint]]
|ビューポイント
|-
|052
|[[Super Sidekicks]]
|[[Tokuten Ou]] (得点王)
|-
|053
|[[World Heroes]]
|ワールドヒーローズ
|-
|054
|[[Crossed Swords II]]
|クロススウォードII
|-
|055
|[[The King of Fighters '94]]
|ザ・キング・オブ・ファイターズ '94
|-
|056
|[[Art of Fighting 2]]
|[[Ryuuko no Ken 2]] (龍虎の拳 2)
|-
|057
|[[World Heroes 2]]
|ワールドヒーローズ 2
|-
|058
|[[Fatal Fury Special]]
|[[Garou Densetsu Special]] (餓狼伝説 スペシャル)
|-
|059
|[[Savage Reign]]
|[[Fu'un Mokushiroku - kakutou sousei]] (風雲黙示録)
|-
|060
|[[Fight Fever]]
|ファイトフィーバー
|-
|061
|[[Super Sidekicks 2 - The World Championship]]
|Tokuten Ou 2 - real fight football (得点王 2)
|-
|062
|[[Spin Master]]
|[[Miracle Adventure]] (ミラクルアドベンチャー)
|-
|063
|[[Samurai Shodown II]]
|[[Shin Samurai Spirits - Haohmaru jigokuhen]] (真サムライスピリッツ)
|-
|064
|[[World Heroes 2 Jet]]
|ワールドヒーローズ 2 JET
|-
|065
|[[Windjammers]]
|[[Flying Power Disc]] (フライングパワーディスク)
|-
|066
|[[Karnov's Revenge]]
|[[Fighter's History Dynamite]] (ファイターズヒストリーダイナマイト)
|-
|067
|[[Gururin]]
|ぐるりん
|-
|068
|[[Power Spikes II]]
|パワースパイクス II
|-
|069
|[[Fatal Fury 3 - Road to the Final Victory]]
|[[Garou Densetsu 3 - haruka-naru tatakai]] (餓狼伝説 3)
|-
|070
|[[Zupapa!]]
|ズパパ!
|-
|071
|[[Bang Bang Busters]]
|バンバンバスターズ
|-
|072
|[[Pinball Fantasia Last Odyssey]]
|ラストオデッセイ
|-
|073
|[[BomberMan - Panic Bomber]]
|ボンバーマン ぱにっくボンバー
|-
|074
|[[Aggressors of Dark Kombat]]
|[[Tsuukai GANGAN Koushinkyoku]] (痛快ガンガン行進曲)
|-
|075
|[[Aero Fighters 2]]
|[[Sonic Wings 2]] (ソニックウィングス 2)
|-
|076
|[[Zed Blade]]
|[[Operation Ragnarok]] (作戦名ラグナロク)
|-
|077
|[[The Record of the Divine Dragons War]]
|神竜戦記
|-
|078
|[[Galaxy Fight - Universal Warriors]]
|ギャラクシーファイト
|-
|079
|[[Street Hoop]]
|[[Dunk Dream]] (ダンク・ドリーム)
|-
|080
|[[Quiz King of Fighters]]
|クイズ キング・オブ・ファイターズ
|-
|081
|[[Super Sidekicks 3 - The Next Glory]]
|[[Tokuten Ou 3 - eikoue no michi]] (得点王 3)
|-
|082
|[[Double Dragon]]
|ダブルドラゴン
|-
|083
|[[Bust-A-Move]]
|[[Puzzle Bobble]] (パズルボブル)
|-
|084
|[[The King of Fighters '95]]
|ザ・キング・オブ・ファイターズ '95
|-
|085
|[[Samurai Shodown RPG]]
|真説サムライスピリッツ 武士道烈伝
|-
|086
|[[Tecmo World Soccer '96]]
|テクモワールドサッカー '96
|-
|087
|[[Samurai Shodown III]]
|[[Samurai Spirits - Zankurou Musouken]] (サムライスピリッツ斬紅郎無双剣)
|-
|088
|[[Stakes Winner]]
|[[Stakes Winner - GI kinzen seihae no michi]] (ステークスウィナー)
|-
|089
|[[Pulstar]]
|パルスター
|-
|090
|[[World Heroes Perfect]]
|ワールドヒーローズパーフェクト
|-
|090
|[[World Heroes Perfect]]
|ワールドヒーローズパーフェクト
|-
|091
|[[ADK Special]]
|
|-
|092
|[[Far East of Eden - Kabuki Klash]]
|[[Tengai Makyou - Shin Den]] (天外魔境 真伝)
|-
|093
|[[Neo Bomberman]]
|ネオ・ボンバーマン
|-
|094
|[[Voltage Fighter - Gowcaizer]]
|[[Choujin Gakuen Gowcaizer]] (超人学園ゴウカイザー)
|-
|095
|[[Real Bout Fatal Fury]]
|[[Real Bout Garou Densetsu]] (リアルバウト餓狼伝説)
|-
|096
|[[Art of Fighting 3 - The Path of the Warrior]]
|[[Art of Fighting - Ryuuko no Ken Gaiden]] (龍虎の拳 外伝)
|-
|097
|[[Aero Fighters 3]]
|[[Sonic Wings 3]] (ソニックウィングス 3)
|-
|098
|[[Final Romance 2]]
|
|-
|099
|[[Hebereke's Pair Pair Wars]]
|へべれけのペアペアウォーズ チラシ
|-
|200
|[[Neo Turf Masters]]
|[[Big Tournament Golf]] (ビッグトーナメント ゴルフ)
|-
|201
|[[Metal Slug - Super Vehicle-001]]
|メタルスラッグ
|-
|202
|[[Puzzle De Pon!]]
|パズル de ポン!
|-
|203
|[[Syougi No Tatsujin - Master of Syougi]]
|将棋の達人
|-
|204
|[[QP]]
|
|-
|205
|[[Neo Geo CD Special]]
|
|-
|206
|[[Chibi Marukochan Deluxe Quiz]]
|ちびまる子ちゃん まる子デラックスクイズ
|-
|207
|[[Neo Mr. Do!]]
|NEO ミスター・ドゥ!
|-
|208
|[[Super Dodge Ball]]
|[[Kunio no Nekketsu Toukyuu Densetsu]] (くにおの熱血闘球伝説)
|-
|209
|[[Goal! Goal! Goal!]]
|ゴール! ゴール! ゴール!
|-
|210
|[[The Eye of Typhoon]]
|
|-
|211
|[[Zintrick]]
|
|-
|212
|[[Over Top]]
|オーバートップ
|-
|213
|[[Neo Drift Out - New Technology]]
|NEOドリフトアウト
|-
|214
|[[The King of Fighters '96]]
|ザ・キング・オブ・ファイターズ '96
|-
|215
|[[The Ultimate 11 - The SNK Football Championship]]
|[[Tokuten Ou - Honoo no Libero]] (得点王 炎のリベロ)
|-
|216
|[[Kizuna Encounter - Super Tag Battle]]
|[[Fu'un Super Tag Battle]] (風雲スーパータッグバトル)
|-
|217
|[[Ninja Master's]]
|[[Ninja Master's - haoh-ninpo-cho]] (ニンジャマスターズ ～覇王忍法帖～)
|-
|218
|[[Ragnagard]]
|[[Shin-Oh-Ken]] (神凰拳)
|-
|219
|[[Pleasure Goal]]
|[[Futsal - 5 on 5 Mini Soccer]] (フットサル)
|-
|220
|[[Ironclad Brikinger]]
|
|-
|221
|[[Magical Drop II]]
|マジカルドロップ2
|-
|222
|[[Samurai Shodown IV - Amakusa's Revenge]]
|[[Samurai Spirits - Amakusa Kourin]] (サムライスピリッツ天草降臨)
|-
|223
|[[Real Bout Fatal Fury Special]]
|[[Real Bout Garou Densetsu Special]] (リアルバウト餓狼伝説スペシャル)
|-
|224
|[[Twinkle Star Sprites]]
|ティンクルスター スプライツ
|-
|225
|[[Waku Waku 7]]
|わくわく7
|-
|226
|[[Brick Block]]
|まほうじゅく
|-
|227
|[[Stakes Winner 2]]
|ステークスウィナー 2
|-
|227
|[[Stakes Winner 2]]
|ステークスウィナー 2
|-
|228
|[[Ghostlop (prototype)]]
|ゴーストロップ
|-
|229
|[[King of Fighters '96 Collection]]
|
|-
|230
|[[Breakers]]
|ブレイカーズ
|-
|231
|[[Money Puzzle Exchanger]]
|[[Money Idol Exchanger]] (マネーアイドルエクスチェンジャー)
|-
|232
|[[The King of Fighters '97]]
|ザ・キング・オブ・ファイターズ '97
|-
|233
|[[Magical Drop III]]
|マジカルドロップ3
|-
|234
|[[The Last Blade]]
|[[Bakumatsu Roman - Gekka no Kenshi]] (幕末浪漫 月華の剣士)
|-
|235
|[[Puzzle De Pon! R!]]
|パズル de ポン! R
|-
|236
|[[The Irritating Maze]]
|[[Ultra Denryu Iraira Bou]] (ウルトラ電流イライラ棒)
|-
|237
|[[Pop 'n Bounce]]
|[[Gapporin]] (ガッポリン)
|-
|238
|[[Shock Troopers]]
|ショックトルーパーズ
|-
|239
|[[Blazing Star]]
|ブレイジングスター
|-
|240
|[[Real Bout Fatal Fury 2 - The Newcomers]]
|[[Real Bout Garou Densetsu 2 - the newcomers]] (リアルバウト餓狼伝説 2)
|-
|241
|[[Metal Slug 2 - Super Vehicle-001/II]]
|メタルスラッグ 2
|-
|242
|[[The King of Fighters '98 - The Slugfest]]
|[[King of Fighters '98 - dream match never ends]] (ザ・キング・オブ・ファイターズ '98)
|-
|243
|[[The Last Blade 2]]
|[[Bakumatsu Roman - Dai Ni Maku Gekka no Kenshi]] (幕末浪漫第二幕 月華の剣士)
|-
|244
|[[Neo-Geo Cup '98 - The Road to the Victory]]
|ネオジオカップ '98
|-
|245
|[[Breakers Revenge]]
|ブレイカーズ・リベンジ
|-
|246
|[[Shock Troopers - 2nd Squad]]
|ショックトルーパーズ セカンドスカッド
|-
|247
|[[Battle Flip Shot]]
|フリップショット
|-
|248
|[[Bust-A-Move Again]]
|パズルボブル 2
|-
|249
|[[Captain Tomaday]]
|キャプテン・トマディ
|-
|250
|[[Metal Slug X - Super Vehicle-001]]
|メタルスラッグ X
|-
|251
|[[The King of Fighters '99 - Millennium Battle]]
|ザ・キング・オブ・ファイターズ '99
|-
|252
|[[Ganryu]]
|[[Musashi Ganryuki]] (武蔵厳流記)
|-
|253
|[[Garou - Mark of the Wolves]]
|餓狼 MARK OF THE WOLVES
|-
|254
|[[Strikers 1945 Plus]]
|ストライカーズ 1945 PLUS
|-
|255
|[[Prehistoric Isle 2]]
|原始島2
|-
|256
|[[Metal Slug 3]]
|メタルスラッグ 3
|-
|257
|[[The King of Fighters 2000]]
|ザ・キング・オブ・ファイターズ 2000
|-
|258
|Unknown unreleased
|
|-
|259
|[[Bang Bead]]
|バン・ビード
|-
|260
|[[Nightmare in the Dark]]
|ナイトメアインザダーク
|-
|261
|[[Sengoku 3]]
|[[Sengoku Densho 2001]] (戦国伝承 2001)
|-
|262
|[[The King of Fighters 2001]]
|ザ・キング・オブ・ファイターズ 2001
|-
|263
|[[Metal Slug 4]]
|メタルスラッグ 4
|-
|264
|[[Rage of the Dragons]]
|レイジ・オブ・ザ・ドラゴンズ
|-
|265
|[[The King of Fighters 2002]]
|ザ・キング・オブ・ファイターズ 2002
|-
|266
|[[Matrimelee]]
|[[Shin Gouketsuji Ichizoku Toukon]] (新豪血寺一族 闘婚-Matrimelee-)
|-
|267
|[[Pochi and Nyaa]]
|ポチッとにゃ~
|-
|268
|[[Metal Slug 5]]
|メタルスラッグ 5
|-
|269
|[[SNK vs. Capcom - SVC Chaos]]
|
|-
|270
|[[Samurai Shodown V]]
|[[Samurai Spirits Zero]] (サムライスピリッツ零)
|-
|271
|[[The King of Fighters 2003]]
|ザ・キング・オブ・ファイターズ 2003
|-
|272
|[[Samurai Shodown V Special]]
|[[Samurai Spirits Zero Special]] (サムライスピリッツ零スペシャル)
|-
|3E7
|[[V-Liner]]
|
|}

=CD Exclusive=

{|class="wikitable sortable"
![[NGH number|NGH]]!!English Title!!Japanese Title
|-
|054
|[[Crossed Swords 2]]
|クロススウォード II
|-
|085
|[[Samurai Shodown RPG]]
|[[Shinsetsu Samurai Spirits: Bushidou Retsuden]] (真説サムライスピリッツ武士道烈伝)
|-
|091
|[[ADK World]]
|ADKワールド
|-
|098
|[[Taisen Idol Mahjong Final Romance 2]]
|アイドル麻雀 ファイナルロマンス 2
|-
|205
|[[Neo Geo CD Special]]
|ネオジオCDスペシャル
|-
|211
|[[Zintrick]]
|[[Oshidashi Zintrix]] (押し出しジントリック)
|-
|229
|[[The King of Fighters '96 Collection]]
|ザ・キング・オブ・ファイターズ '96 ネオジオコレクション
|}

=Homebrew/Unofficial=
* [[Digger Man]]
* [[Fast Striker]]
* Gunlord
* Knight's Chance
* Kraut Buster
* Last Hope
* Neo XYX
* Razion
* [[Super Bubble Pop]]

Example code related to the graphics hardware.

[[Category:Code]]

Tools used to view, convert, and manipulate Neo-Geo format graphics.

[[Category:Tools]]

Pages containing interactive components (e.g. scripts).

Information about various repairs and diagnostics for systems and carts.

Example code related to the sound hardware.

[[Category:Code]]

Tools related to sound and music creation and editing.

[[Category:Tools]]

Assemblers, emulators, utilities, cheatsheets, automations... Anything handy for developement.

[[Category:Code]]

How graphics are handled and displayed, from bitplanes and colors to the video output.

{{GameInfo|right
|en_title=Chibi Marukochan Deluxe Quiz
|jp_title=Chibi Marukochan Deluxe Quiz
|jp_title2=ちびまる子ちゃん まる子デラックスクイズ
|developer=Takara
|ngh_id=206
|megcount=118
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=marukodq
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_date=26/01/96
}}

[[Category:Games]]

#REDIRECT [[Voltage Fighter - Gowcaizer]]

[[Category:Games]]

[[File:Clickofdeath.gif|thumb|The picture's juming is caused by the video sync being disabled during the short reset periods.]]
The "Click of Death" is the name commonly given to a fault which can occur on cartridge systems, most often MVS boards.

The system fails to start, while a periodic click/pop sound ([https://instaud.io/lCr sample]) can be heard in the audio, if the [[Power amp|amplifier]] or TV volume is set high enough.

=Cause=

The particular sound is a side effect caused by the system resetting itself (see [[watchdog]]) and causing the [[YM2610]] to output sudden voltage changes on its analog output.

The periodicity means that the system tries to boot over and over.

=Investigation=

The repetition rate of the click can give clues about the actual fault.

* For {{PCB|MV4}} and {{PCB|MV6}} boards, check the [[system ROM mapping circuit]].
* A fast click (~8Hz) often means that something essential doesn't work: no clock to the [[68k]], cut or shorted bus, dead work RAM, dead CPU, dead [[system ROM]], can't write to {{Chipname|NEO-B1}}... 
* A slow click (1Hz or less) can mean that some step of the [[system self-test]] causes a crash. Address lines, dead memory, shorted traces...
* Random clicks can indicate cut, floating traces.

[[Category:Repairs]]

Not to be confused with the [[RTC|real time clock]] (RTC), which is clocked independently.

[[File:Clkdistribution.png|frame]]

=In cartridge systems=

The main system clock (often called '''mclk''') is either 24MHz (MVS) or 24.167829MHz (AES). It is generated and divided by 2, 4 and 8 by {{Chipname|NEO-D0}} from a crystal oscillator, to provide the 12MHz clock for {{Chipname|NEO-ZMC2}}, the inverted 6MHz one for [[video DAC|video output]] and also the 3MHz one for {{Chipname|NEO-B1}}.

{{Chipname|LSPC2-A2}} divides it by 3 and 6 to provide the 8MHz clock for the {{Chipname|YM2610}} and the 4MHz one for the {{Chipname|Z80}}.

The cartridge connector provides the 24MHz, 12MHz, 8MHz and 4MHz inverted clock signals.

A second quartz oscillator is used in the AES for generating the color burst needed by composite video, for the [[video encoder]]s.

The value changes depending on the region of the system, 4.43361875Mhz for PAL systems and 3.579545Mhz for NTSC systems.

A third 32.768KHz quartz oscillator is present in the MVS used for the [[RTC|real time clock]].

[[File:clock.png]]

==Phase relations==

To do: 8M is 33high/66low, not 50/50

[[File:Clockphases.png]]

==Signals==

{{Sig|24M|24M}} (~24MHz), {{Sig|12M|12M}} (12MHz), {{Sig|68KCLK|68KCLK}} (12MHz), {{Sig|68KCLKB|68KCLKB}} (12MHz), {{Sig|8M|8M}} (8MHz), {{Sig|6MB|6MB}} (6MHz), {{Sig|4M|4M}} (12MHz), {{Sig|4MB|4MB}} (4MHz), {{Sig|1MB|1MB}} ('''3MHz''')

=In CD systems=

[[File:Cd2_quartz.jpg|thumb|System clock and [[video PLL]] circuit on a CDM3-2 board.]]

{{Chipname|NEO-GRC}} ?

[[Category:Base system]]

[[Image:Screencap_blutengel.png|thumb|Screenshot of gameplay]]
[[Codename - Blut Engel]] is a homebrew vertical shooting game made by [[User:Blastar]].

[[Category:Games]]

[[File:Coincounter.jpg|thumb|200px]]

Not to be confused with the [[MV-LED|credits display]].

Coin counters are internal electromechanical devices used to count inserted coins in arcade cabs. They can only count up and should be made hard to reset.

The counters typically have one pin hardwired to +12V, and the other one connected to the MVS board by [[JAMMA_connector_pinout|JAMMA]] pins 8 and J. They are operated by software, not directly by the coin chutes.

=Control=

Only the [[system ROM]] should take care of this.

When writing to {{Reg|REG_SETCC1}} or {{Reg|REG_SETCC2}}, current flows through the counters, incrementing them. When {{Reg|REG_RESETCC1}} or  {{Reg|REG_RESETCC2}} are written to, current flow is stopped.

[[Category:Cartridge systems]]

The coin lockout mechanism is part of the coin acceptor, it isn't specific to MVS cabs.

* '''When powered''', it allows an inserted coin to hit the [[coin switch]] and go in the coin box.
* When not powered, it defaults to a "safe" position which makes the coin take the return path.

This mechanism and the [[watchdog]] are failsafe measures to prevent users from wasting an inserted coin when the cab isn't operating (properly).

Coin lockouts are typically coils hardwired to the 12V power supply. It's the game PCB's job to power them by grounding their second terminal to close the circuit. See [[JAMMA connector pinout]].

On [[MVS hardware]], the coin lockout outputs are driven by {{Chipname|NEO-F0}} through an {{Chipname|ULN2003}} power transistor array, providing open-collector outputs.

They are software controlled by the [[system ROM]] through registers {{Reg|REG_RESETCL1}}, {{Reg|REG_RESETCL2}}, {{Reg|REG_SETCL1}}, and {{Reg|REG_SETCL2}}.

[[Category:Cartridge systems]]

The coin switch is a mechanical switch inside the cab's coin mechanism.

It is used for detecting an inserted coin when the [[coin lockout]] isn't powered, via active-low bits 1 and 0 of register {{Reg|REG_STATUS_A}}.

Only the [[system ROM]] should interface directly to the coin switch.

Input is made through a [[CRE401]] array to {{Chipname|NEO-I0}}.

[[Category:Cartridge systems]]

Incorrect colors can have various causes. In order of probability: bad JAMMA contacts or wiring, split SCART cable, monitor failure, damaged [[video DAC]], bad [[palette RAM]], cut traces between [[GPU]] chips (check [[P bus]])...

The color test screen in the [[system ROM]] menu can help diagnose problems (burned DAC resistors...).

Example screenshots are from [[Blue's Journey]].

To do: System ROM test mode monitor test screenshots.

=One missing color=
&lt;gallery>
File:rgbch_nored.png|Turquoise "cold" image means no red
File:rgbch_nogreen.png|Purple image means no green
File:rgbch_noblue.png|Orange "hot" image means no blue
&lt;/gallery>

=Two missing colors=
&lt;gallery>
File:rgbch_red.png|Green and blue missing
File:rgbch_green.png|Red and blue missing
File:rgbch_blue.png|Red and green missing
&lt;/gallery>

=Three missing colors=

Enjoy the sound :)

=Shorted color lines=

This can give very weird colors, since outputs will "fight" with varying strengths.

=Missing sync=

Rolling or distorted display, most probably a bad contact. If not, check {{Sig|SYNC|SYNC}}.

[[Category:Video system]]
[[Category:Repairs]]

[[File:Pal perfect.png|thumb|All 65536 (2^16) possible NeoGeo colors.]]

Each color component (red, green or blue) on the NeoGeo is coded with '''5 bits and 1 common bit''' (dark bit), effectively making full use of the 16 color definition bits (65536 colors palette).

Colors definitions are stored in [[palettes]].

=Format=

A color word is composed in the following manner:

{{Template:16BitRegister|[[Video DAC|Dark bit]]|1|R0|1|G0|1|B0|1|R4|1|R3|1|R2|1|R1|1|G4|1|G3|1|G2|1|G1|1|B4|1|B3|1|B2|1|B1|1|}}

Which can also be seen in a simpler way:

{{Template:16BitRegister|LSBs|4|Red MSBs|4|Green MSBs|4|Blue MSBs|4}}

With:
* &lt;span style="color:red;">Red&lt;/span>: R4~0
* &lt;span style="color:green;">Green&lt;/span>: G4~0
* &lt;span style="color:blue;">Blue&lt;/span>: B4~0
* The dark bit, used as a common LSB for the 3 components

The upper 4 bits of each component fit in 3 nibbles, making it easy to write or guess color values ($0F00 is red, $00F0 is green...).

=Color depth=

The NeoGeo's 16 bit color depth [[Comparison_with_other_systems|is close]] to the 15 bit depths of the SNES, GBA and Saturn consoles.

&lt;gallery widths=240 heights=192>
File:Hsv_full.png|Full 24 bits HSV gradient (CRT monitor)
File:Hsv_neogeo.png|Full NeoGeo gradient (16 bits)
File:Hsv_neogeo_nodak.png|Without using the dark bit (some image converters ignore it)
File:Hsv_neogeo_4bit.png|Without using the whole upper nibble (12 bits only)
&lt;/gallery>

=Converter=

Enter 24 bit RGB values to get the NeoGeo color word.

&lt;div id="color-converter">&lt;/div>
&lt;div id="cconvresult">&lt;/div>

[[Category:Video system]]
[[Category:Interactive pages]]

Check your hardware before checking your code...

=Unwanted resets=
* The [[watchdog]] isn't reset often enough, write a byte to {{Reg|REG_DIPSW}} at least each frame.
* An exception is occuring, set up a simple [[68k exception handling]] screen to debug your code.
* Misaligned word or longword read/write (address error)
* RTS with wrong return address in stack (or bad SP ?)
* JSR instead of JMP
* Jump table with bad index (address error)
* [[Timer interrupt]] too fast, causes stack to explode

=Invisible sprites=
* Sprites are disabled (NeoGeo CD only, they're enabled by default)
* The [[fix layer]] is filled with non-transparent tiles which hide everything.
* Sprite position is out of the 320*224 visible area.
* Sprite height is set to 0 ([[Sprites|SCB3]]).
* Sprite tiles are all transparent (bad tile numbers ?).
* Tile colors are the same as the backdrop color.
* Wrong palette bank.
* Shrinking values too low (at least 2 pixels should still be visible).
* Bad [[C ROM]], it happens...
* [[Palettes|Reference color]] (0) is not black.

=Invisible fix layer=
* Fix is disabled (NeoGeo CD only, enabled by default)
* No non-transparent tiles mapped (bad [[S ROM]] ?)
* Tile colors are the same as the backdrop color.
* Tiles are on the invisible borders.
* Reference color is not black.

=Wrong colors=
* The wrong palette bank is selected.
* Reference color is not black.
* Palettes loading routine is broken (byte load instead of word, bad offset...).
* Tiles are assigned to an uninitialized palette.

=Erratic sprite movement or display=
* Sprite is driven by the previous one.
* {{Reg|REG_VRAMRW}} or {{Reg|REG_VRAMMOD}} writes too fast.
* '''Never''' use CLR instructions on [[Memory mapped registers|LSPC registers]].
* The [[68k interrupts|Timer interrupt]] routine has VRAM writes which interferes with the VBlank interrupt routine. Disable the Timer interrupt when out of the display area.

=Interrupts don't work=
* Some emulators ignore the [[68k interrupts|timer interrupt]], it may work on the real hardware.
* The interrupt mask causes them to be ignored by the 68k. Check the SR register.
* Wrong configuration of the timer interrupt, see {{Reg|REG_LSPCMODE}}.
* The interrupt vector points to an RTE or RTS. Beware of the different levels between cart and CD systems.

=Game doesn't boot (crosshatch or blue screen)=
See [[68k program header]]:
* Check the "NEO-GEO" string at $100
* Check the security code and pointer at $182
* NGH number at $108 must be greater than 0

=Game isn't recognized on Neo CD=
* Check that all files in IPL.TXT are present
* Check that IPL.TXT ends with CR+LF
* Check if the ABS, CPY and BIB files are present and that they contain the right data

=Neo CD resets after initial load=
* Check that a file for every type of data is listed in IPL.TXT: [[game CD structure]].

=Vblank routine is long=
* Stop the timer interrupt when out of the active display. The timer interrupt can be very mean.

=No sound=
* Writes to YM2610 are [[Z80/YM2610 interface|done too fast]].

[[Category:Code]]

{| class="regdef"
|
|'''NeoGeo'''
|'''Megadrive'''
|'''Super NES'''
|'''TG16'''
|GBA
|Saturn
|-
|'''Main CPU [[https://en.wikipedia.org/wiki/Instructions_per_second#MIPS MIPS]]'''
|class="green"|[[68k|~2.1]]
|~1.4
|~1.5
|~1.5
|18 ?
|~74.4
|-
|'''Work RAM'''
|[[68k user RAM|64KiB]]
|64KiB
|class="green"|128KiB
|8KiB
|288KiB
|5MiB
|-
|'''Max frame size'''
|[[Frame_size|320x224]]p
|320x240p
|class="green"|512x448p
|256x224p
|240x160p
|704x256p
|-
|'''Color resolution'''
|class="green"|[[palettes|16 bits]]
|9 bits
|15 bits
|9 bits
|15 bits
|24 bits
|-
|'''Simultaneous colors'''
|class="green"|[[palette RAM|3841]]
|61 ?
|240 ?
|480 ?
|32768
|32768
|-
|'''Max bits/pixel'''
|[[Sprite graphics format|4]]
|4
|class="green"|8 (mode 7)
|4
|8
|15
|-
|'''2D planes'''
|0
|2
|class="green"|4
|1
|4
|4
|-
|'''Sprites'''
|class="green"|[[Sprites|381]]
|80
|128
|64
|128
|?
|-
|'''Sprite pixels/line'''
|class="green"|[[Sprites_per_line_limit|1536]]
|320
|256
|256 ?
|1024
|1820
|-
|'''Max sprite size'''
|class="green"|512x512
|32x32
|64x64
|?
|64x64
|504x255
|-
|'''Sprite effects'''
|
* Flipping
* [[LSPC|Shrinking]]
|
* Flipping
* 2x zoom
|
* Flipping
* ?
|
* Flipping
* ?
|
* Flipping
* Rotation
* Scaling
* Alpha
* Mosaic
|
* Flipping
* Rotation
* Scaling
* Alpha
|-
|'''Direct access ROM'''
|class="green"|~162MiB ?
|4MiB
|12.8MiB ?
|1MiB
|32MiB
|5MiB
|-
|'''DMA'''
|[[DMA|On CD]] (slow)
|Yes
|Yes
|Yes
|Yes
|Yes
|-
|'''Total Audio channels'''
|class="green"|[[YM2610|15]]
|11
|8
|6
|6
|40
|-
|'''- FM channels'''
|4
|class="green"|6
|0
|0
|0
|8
|-
|'''- PSG channels'''
|4
|4
|0
|0
|4
|0
|-
|'''- PCM/Wave channels'''
|7
|1
|class="green"|8
|6
|2
|32
|}

[[Category:Base system]]

(Pointed out by [[User:ElBarto|ElBarto]])

[[MVS hardware|MVS]] boards are able to auto-configure theirselves by detecting and communicating with a special cartridge holding its own [[uPD4990]] RTC chip, which may have been used during production to avoid tedious manual configuration through the regular [[MVS settings]] menu.

The [[System ROM|MVS System ROM]] (SP-E at least), checks for the '''"NEO-CLN"''' (CaLeNdar ?) string in the [[68k program header]] in place of the usual "NEO-GEO" and makes various read/writes to the cartridge in the [[68k memory map|$200000~$2FFFFF range]].

$280051 is used for writes:
{{8BitRegister| |4|STB|1|?|1|CLK|1|DATA IN|1}}

Writes are 4 bits and sent serialy LSB first. STB is strobed when the 4 bits are written.

Bit 7 of $220001 is used for reads. Each new bit is clocked in using CLK.

==Reading sequence==

*Send 3, wait (uPD4990 "Time Read")
*Send 1 (uPD4990 "Register Shift")
*Read and set BIOS_SECOND
*Read and set BIOS_MINUTE
*Read and set BIOS_HOUR
*Read and set BIOS_DAY
*Read and set BIOS_WEEKDAY, convert to BCD and set BIOS_MONTH
*Read and set BIOS_YEAR
*Read 4 bits
*Copy RAM data to the board's uPD4990.

This sequence also matches the uPD4990's 52bit shift register format.

(What is that N,$00,O,$00,G,$00,O,$00 check after "NEO-CLN" ? 8bit bus ?)

[[Category:Cartridge systems]]

To display the credits on-screen, see [[displaying credits]].

You should let the [[system ROM]] be in charge of controlling the [[MV-LED|credits displays]]. But if you want to try things, here's how it goes:

See the bit definitions of the {{Reg|REG_LEDDATA}} and {{Reg|REG_LEDLATCHES}} registers for more details.

The system ROM uses ~35us delays done with fall-through calls to NOPs.

Credits for P1 are in D0, for P2 in D1.

&lt;syntaxhighlight>
move.b #$FF, REG_LEDLATCHES  ; Set clock high
jsr    wait
not.b  d0                    ; The digits are sent inverted
move.b d0, REG_LEDDATA       ; Set digits
move.b #$EF, REG_LEDLATCHES  ; Set clock low (latch P1 digits)
jsr    wait
move.b #$FF, REG_LEDLATCHES  ; Set clock back high
jsr    wait
not.b  d1                    ; The digits are sent inverted
move.b d1, REG_LEDDATA       ; Set digits
move.b #$DF, REG_LEDLATCHES  ; Set clock low (latch P2 digits)
jsr    wait
move.b #$FF, REG_LEDLATCHES  ; Set clock back high

&lt;/syntaxhighlight>

&lt;syntaxhighlight>
wait:
movem.l d0-d7/a0-a5,-(a7)    ; 120 cycles
movem.l (a7)+,d0-d7/a0-a5    ; 124 cycles
movem.l d0-d7/a0-a5,-(a7)    ; 120 cycles
movem.l (a7)+,d0-d7/a0-a5    ; 124 cycles, total = 488 cycles = 40.7us
rts
&lt;/syntaxhighlight>

[[Category:Code]]

You should let the [[system ROM]] be in charge of controlling the [[marquee]]. But if you want to try things, here's how it goes:

See the bit definitions of the {{Reg|REG_LEDDATA}} and {{Reg|REG_LEDLATCHES}} registers for more details.

The system ROM uses ~35us delays done with fall-through calls to NOPs.

&lt;syntaxhighlight>
move.b #$FF, REG_LEDLATCHES  ; Set clock high
jsr    wait
not.b  d0                    ; The panel # is sent inverted
move.b d0, REG_LEDDATA       ; Set panel #
move.b #$F7, REG_LEDLATCHES  ; Set clock low (latch panel #)
jsr    wait
move.b #$FF, REG_LEDLATCHES  ; Set clock back high
&lt;/syntaxhighlight>

&lt;syntaxhighlight>
wait:
movem.l d0-d7/a0-a5,-(a7)    ; 120 cycles
movem.l (a7)+,d0-d7/a0-a5    ; 124 cycles
movem.l d0-d7/a0-a5,-(a7)    ; 120 cycles
movem.l (a7)+,d0-d7/a0-a5    ; 124 cycles, total = 488 cycles = 40.7us
rts
&lt;/syntaxhighlight>

[[Category:Code]]

[[File:boot_convert.jpg|thumb|SMT flash adapters used on a sacrificial SNK PCB.]]

In the NeoGeo community, "converts" commonly refers to modified cartridges, having their ROMs replaced by those of another game or by programmable memory.

This can be done for one's own use, for selling clearly as "converts" (doubtful legality), or for plain [[bootleg|fraud]].

The usual method is to replace the label on the cartridge's shell, remove the ROMs from the PCB, eventually modify the [[jumper]] configuration, and
solder back either original ROMs, or freshly programmed EPROMs or flash containing the new game's data.

[[Category:Cartridge systems]]

The NeoGeo [[CDZ]]'s [[system ROM]] has CD-ROM copy protection features. Not all games use them.

==Notes==

*Copies the whole CPY.TXT sector to $126000 (routine at $C0D358), BIB.TXT to $126800, ABS.TXT to $127000.
*All the normal file contents are removed ("Copyright by SNK corp...").
*Routine at $C0D230: Adds everything up except the very first word ($126002~$127000) byte per byte in a word and compares it to that first word (checksum).
*Checks for NEO-GEO,0 string at $126002.
*Checks bit 0 of $12600A. 1=Protection type=1, do region check with $12600B. Special case if the console's mode is 5: always trips the check !
*Clears 2048 bytes at $125800.
*Checks bit 1 of $12600A. 1=Protection type=2, and...
**Routine at $C0D392: Loads sector from track XX+3 in $125800, then it's up to the game to do checks on the data ?
*Checks bit 2 of $12600A. 1=Put $FF in $10F792 (in-game protection flag ?).
*JSR to code at $12600C. Test D0, if non-zero, trip check.

=Methods=

One of the copy detection methods relies on the fact that most computer CD drives/burners will automatically correct disc errors thanks to the available EDC and ECC fields in CD-ROM sectors.

In some games, SNK intentionally inserted data with errors and the '''correct''' checksum value in the [[TXT_file|CPY.TXT]], BIB.TXT and ABS.TXT files. If the system ROM detects the presence of such data, it computes its checksum and compares it against the given one. If they match, it means the errors were corrected (probably by a burner) and the system stops loading the game.

The console's own error correction system is certainly disabled when loading the .TXT files.

For example in [[Art of Fighting 3 - The Path of the Warrior]], the following data is appended to CPY.TXT:

A fixed-format header:

&lt;pre>
0F BA 4E 45 4F 2D 47 45 4F 00 03 02 ...
&lt;/pre>

* 0F BA: Checksum of the error-corrected data
* 4E 45 4F 2D 47 45 4F 00: "NEO-GEO", 0
* 03: Enabled checks (bit 0~2)
* 02: Region/zone flag (EURO)

And valid {{Chipname|68k}} code, which does another kind of region check:

&lt;pre>
clr.l   d0
clr.l   d1
tst.l   $10F782
beq     $12601C
bset    #0,d1
tst.l   $10F77E
beq     $126028
bset    #1,d1
cmp.b   $12600A,d1
beq     $126030
addq.l  #1,d0
rts
&lt;/pre>

Todo: What are the $10F782 and $10F77E variables ? RTS with D0=1 means fail.

=Patching=

The patching tutorial commonly found online tells to replace the first two occurences of the letter "g" with "f" after the "NEO-GEO" string in CPY.TXT.

This causes the computed checksum to be wrong (pass first check) and turns the BEQ instructions into BNE (pass second check).

=Emulation=

[[MAME|MESS]] bypasses the protections by changing only one "g" to "f". See Read_LBA_To_Buffer() in megacdcd.c.

=Game list=

Since the NeoGeo CDZ came out in 1996, it is unclear if pre-1996 games had new masters made to use the protection or if SNK planned to use it since the beginning (makes no sense ?).

Todo: How does the in-game protection work ?

{|class="wikitable"
!Title||CDZ protection||In-game protection
|-
|[[Art of Fighting 3 - The Path of the Warrior]]||Yes||Yes
|-
|[[Breakers]]||Yes||No
|-
|[[Brikin'Ger / IronClad]]||Yes||No
|-
|[[Fatal Fury 3 - Road to the Final Victory]]||No||Yes
|-
|[[Real Bout Fatal Fury]]||Yes||Yes
|-
|[[Real Bout Fatal Fury Special]]||Yes||Yes
|-
|[[Real Bout Fatal Fury 2 - The Newcomers]]||Yes||Yes
|-
|[[Pleasure Goal]]||Yes||No
|-
|[[The King of Fighters '95]]||No||Yes
|-
|[[The King of Fighters '96]]||Yes||Yes
|-
|[[The King of Fighters '96 Collection]]||Yes||Yes
|-
|[[The King of Fighters '97]]||Yes||Yes
|-
|[[The King of Fighters '98 - The Slugfest]]||Yes||Yes
|-
|[[The King of Fighters '99 - Millennium Battle]]||Yes||Yes
|-
|[[The Last Blade]]||Yes||Yes
|-
|[[The Last Blade 2]]||Yes||Yes
|-
|[[Magical Drop II]]||Yes||No
|-
|[[Metal Slug X - Super Vehicle-001]]||Yes||No
|-
|[[Metal Slug 2 - Super Vehicle-001/II]]||Yes||No
|-
|[[Neo Drift Out - New Technology]]||Yes||No
|-
|[[Neo Geo CD Special]]||No||Yes
|-
|[[Neo Turf Masters]]||Yes||No
|-
|[[Ninja Master's]]||Yes||No
|-
|[[Ragnagard]]||Yes||No
|-
|[[Robo Army]]||No||Yes
|-
|[[Samurai Shodown III]]||Yes||Yes
|-
|[[Samurai Shodown IV - Amakusa's Revenge]]||Yes||Yes
|-
|[[Samurai Shodown RPG]]||Yes||Yes
|-
|[[Soccer Brawl]]||No||Yes
|-
|[[Stakes Winner]]||Yes||No
|-
|[[Super Sidekicks 3 - The Next Glory]]||No||Yes
|-
|[[Twinkle Star Sprites]]||Yes||No
|}

(List from [http://strider.mjjprod.free.fr/blog/index.php?post/2009/01/03/Les-protections-sur-Neo-Geo-CD])


[[Category:CD systems]]

[[File:Corrosion.jpg|thumb|Extreme case of PCB corrosion caused by a leaking backup battery. Picture stolen from supergoose.]]

Corrosion is one of the main causes of faults on arcade boards. Home consoles are usually handled with more care and they have a plastic shell, making them less vulnerable.

Corrosion on PCBs causes copper and other metals to be "eaten up", cutting traces and connections between the components. Copper shouldn't "rot" naturally, especially since it's covered by the green soldermask. Corrosion can be a slow process, and is often caused by leaking batteries and spills.

=Solutions=

PCBs damaged by leaking batteries can often be repaired by cleaning them and [[trace patching|patching the broken connections]].

In some cases, corrosion caused by spills can cut entire buses and even "climb up" chip pins, taking out 10's of traces and some chips.

[[Battery replacement]]

[[Category:Repairs]]

#REDIRECT [[MV-LED]]

[[Category:Cartridge systems]]

{{GameInfo|right
|en_title=Crossed Swords
|jp_title=Crossed Swords
|jp_title2=クロススウォード
|developer=Alpha Denshi Co.
|ngh_id=037
|megcount=50
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=crsword
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=crsword
|aes_date=01/10/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=31/10/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Crossed Sword 2
|jp_title=Crossed Sword 2
|jp_title2=
|developer=SNK / ADK
|editor=ADK
|ngh_id=102
|megcount=70
|cd_release=y
|cd_release_jp=y
|cd_date=02/05/1995
}}

[[Category:Games]]

[[File:Crosshatch.jpg|thumb|The crosshatch border color indicates the [[BIOS_Self-tests|system ROM region]]]]

The crosshatch screen is a monitor geometry test shown by MVS boards when no game is inserted, or when in [[hardware test]] mode.

If a game is inserted, the cartridge slot or edge connector might need cleaning. The board can also be faulty.

[[Category:Cartridge systems]]

#REDIRECT [[Crossed Swords]]

#REDIRECT [[Captain Tomaday]]

{{GameInfo|right
|en_title=Cyber-Lip
|jp_title=Cyber-Lip
|jp_title2=サイバーリップ
|developer=SNK
|ngh_id=010
|megcount=50
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=cyberlip
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-EP
|mvs_cboard=CHA-32
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=21/04/95
}}

[[Category:Games]]

#REDIRECT [[Cyber-Lip]]

Game routine called by the [[System ROM]] when the '''select button''' is pressed (detection during the [[SYSTEM_IO]] call), which is used to end the demo early. The routine should just end by a RTS instruction. The System ROM then jumps to [[SYSTEM_RETURN]] and switches to the next slot.

[[Category:Code]]

DIPs (DIP switches) can refer to 3 kinds of configuration interface:

* [[Hardware DIPs]]: real DIP switches, which are found on [[MVS hardware]] to set the cab's configuration.
* [[Software DIPs]]: parameters for games like difficulty, lives... They're in the form of data stored in the MVS [[battery-backed RAM]].
* [[Debug DIPs]]: normally not accessible. Pair of bytes used by developers to enable tests screens, hidden game modes, [[job meter]]s...

[[Category:Base system]]

[[File:discioerror2.jpg|thumb]]

This error often occurs right before a loading screen. The possible error codes are:

* 0000: Tried to load 0 sectors.
* 0001: Timeout when reading TOC.
* 0002: Timeout when reading data sector.
* 0003: Copy protection tripped. Caused by the game itself. Writes "DISK" instead of "DISC".

The possible causes are:

* The [[CD drive]] gave up reading because of a mechanical or optical problem.
* The game uses [[copy protection]].
* When a file requested for loading isn't found in the CD's table of contents (should never happen on an original CD, except if the TOC zone is physically damaged).

If the CD is an original one:
* It may be dirty or scratched.
* The CD drive may need adjustments or repair.

If the CD is a copy:
* It may have been re-authored (not an exact copy of an original). Even if the files are the same, the structure might have been altered.
* It may use copy protection.
* The CD drive may need adjustments or repair.

This is the case for games using file versions in their ISO 9660 structure, like [[Metal Slug 2 - Super Vehicle-001/II]]. Most Windows ISO image editors strip the version info which is needed by the game to identify the files. Use [[Burning a game CD|mkisofs]] '''WITHOUT THE -N FLAG''', or edit the loading tables in the main [[PRG file]].

[[Category:CD systems]]
[[Category:Repairs]]

DMA copy can be done with the [[BIOSF_UPLOAD]] call. To access DMA directly or to use its other features see information on the [[LC8953]].


It is possible to copy at about 1.5MiB/s via DMA on the older spec boards.

We have found that trying to copy a 256k block of data will result in a system reset (watchdog timeout?). The DMA can copy 128k blocks without reset. It may be possible to get past this limitation using 68k interrupts but its doubtful. It appears while DMA is working the 68k has no access to the bus which limits its usefulness as its possible to copy at about 2MiB/s via 68k ASM using unrolled code 'MOVE.L (A0)+,(A1)+'. If you need fast data block copying keep away from DMA on older spec boards.

DMA on the CDZ is faster, exact speed not yet measured but this is the area the CDZ gets its faster loading times compared to the older models.

[[Category:CD systems]]

[[File:cd2_sprdram.jpg|thumb|right|2x2MiB of DRAM for sprite tiles in a CD2 system.]]

[[File:cd1_spritedram.jpg|thumb|right|A different arrangement (8x512KiB) in a CD1 system.]]

DRAM stands for "Dynamic RAM". It's a type of fast and cheap volatile memory, which needs to be regularly refreshed in order to keep its contents.

DRAM is used in the NeoGeo CD as a virtual [[cartridges|cartridge]], which is filled with data [[Loading files|loaded from files]] in the game CD.
The rest of the hardware then sees the DRAM memories as if they were a regular cartridge of fixed size. Accesses to DRAM are made through [[NEO-BUF]] chips to switch between the corresponding subsystem bus (video, audio...) and the [[68k]]'s bus.

DRAM organization changed with the different revisions of the NeoGeo CD PCB but doesn't matter for games. Multiple 16, 8 and 4 bits chips were used and grouped as banks.

The total amount of DRAM in the NeoGeo CD always was 7MByte organized as follows:

* 2MB for the [[68k]]'s program
* 4MB for [[sprites]] tiles
* 1MB for the [[YM2610#ADPCM|ADPCM]] data

One example of chip configuration:
* 1x 2MB in 16bits for the 68k program
* 2x 2MB in 16bits (4MB) for sprites
* 2x 512k in 4bits (1MB) for [[YM2610#ADPCM|ADPCM]] data

[[Fix layer|Fix]] tiles are stored in 128kB of [[PSRAM]].
The Z80 program ([[sound driver]]) is stored in a 64kB RAM block (self modifying code possible ?).

[[Category:Chips]]
[[Category:CD systems]]

Limited edition [[MVS to AES adapter]] by [[DavidG]], selling for $395. Using what chips ?

[[Category:cartridge systems]]

Unreleased 2003 game by [[ADK]].

Debug DIPs are like [[software DIPs]], but can't normally be changed by the player on any hardware. They are believed to have been originally mapped to real dipswitches on SNK devcarts.

They can be used to access various debug options in games such as [[job meter]]s, sprite viewers, parameters display, level selects...

They typically consist of 2 bytes stored in the [[68k user RAM]] at the address defined in the [[68k program header]] at $10E.

The [[Universe BIOS|Unibios]], [[debug BIOS]] and some [[emulators]] allow setting them.

The "Developer mode" is also enabled when {{BR|BIOS_DEVMODE}} is nonzero.

==Trivia==

CD BIOS call $000582 clears first 2 bytes at $10E (?)

[[http://www.neo-geo.com/wiki/index.php?title=Neo-Geo_Big_List_of_Debug_Dipswitches Debug DIPs effects list from neo-geo.com]]

[[Category:Base system]]

__NOTOC__
==68000==
{|class="wikitable"
!colspan=6 style="background-color:#ccc"|Assemblers
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| [http://john.ccac.rwth-aachen.de:8000/as/ AS] || Alfred Arnold, et al || Multi-target assembler || (multiple) || Provided as source code and binaries (Windows, DOS) || &amp;nbsp;
|-
| [http://sun.hasenbraten.de/vasm/ vasm] || Volker Barthelmann, et al || Multi-target assembler || (multiple) || Provided as source code&lt;br/>"official" binaries are for older versions || &amp;nbsp;
|-
| JAS || Charles Doty, Paul Lee, Michael Hope || Modified version of AS || Windows || (base AS version unknown; binary is circa 1999/12/30) || [[File:JAS.zip]]
|-
| Maccer || Michael Hope || Pre-processor for AS-series assemblers || (multiple) || Provided as source code and Windows binary || &amp;nbsp;
|-
| [http://gendev.spritesmind.net/page-macX.html MaccerX] || Kaneda || Updated version of Maccer || (multiple) || Provided as source code and Windows binary; added support for XGCC (gcc) and comments || &amp;nbsp;
|-
| SNASM68K || S.N. Systems || 680x0 assembler || Windows || &amp;nbsp; || [http://segaretro.org/SNASM68K SNASM68K at Sega Retro]&lt;br/>&lt;small>(Modified version by Nemesis)&lt;/small>
|-
!colspan=6 style="background-color:#ccc"|Compilers
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| NeoDev kit || Fabrice Martinez, Jeff Kurtz, et al || GCC compiler and library || (multiple) || &amp;nbsp; || [[File:NeoDev001.zip]]
|-
!colspan=6 style="background-color:#ccc"|Disassemblers
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| IRA || Tim Ruehsen, ported by Antirad || Intelligent ReAssembler for M680x0 || (multiple) || PC port of an Amiga app; provided as source ("PC") and binary (Windows) || [[File:Ira.zip]]
|-
| unidasm || MAMEdev || Universal Disassembler || (multiple) || Included with the Windows MAME distribution; can be built from source || &amp;nbsp;
|}

==Z80==
{|class="wikitable"
!colspan=6 style="background-color:#ccc"|Assemblers
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| [http://john.ccac.rwth-aachen.de:8000/as/ AS] || Alfred Arnold, et al || Multi-target assembler || (multiple) || Provided as source code and binaries (Windows, DOS) || &amp;nbsp;
|-
| [http://sun.hasenbraten.de/vasm/ vasm] || Volker Barthelmann, et al || Multi-target assembler || (multiple) || Provided as source code&lt;br/>"official" binaries are for older versions || &amp;nbsp;
|-
| [https://github.com/vhelin/wla-dx WLA DX] || Ville Helin, et al || Multi-target assembler || (multiple) || Provided as source code || [http://www.niksula.cs.hut.fi/~tursas/wla/wladx_binaries_20040822.zip WLA-DX 9.2 Win32 binaries]
|-
| [http://www.nongnu.org/z80asm/ z80asm] || Bas Wijnen (and others?) || Z80 assembler || (multiple) || Provided as source code || &amp;nbsp;
|-
!colspan=6 style="background-color:#ccc"|Compilers
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| ZCC || Ken Yap, et al || Z80 development package with C compiler || (multiple) || Provided as source code and binaries (Windows); circa January 1996 || [[File:zcc096.zip]]
|-
| [http://sdcc.sourceforge.net/ SDCC] || Sandeep Dutta, et al || "Small Device C Compiler" || (multiple) || Provided as source code and binaries (various platforms) || [http://sdcc.sourceforge.net/snap.php Snapshot Builds]
|-
| [http://www.z88dk.org/forum/ z88dk] || (many people) || z80 C cross compiler with assembler/linker || (multiple) || Provided as source code and binaries (Windows, Mac) || [http://nightly.z88dk.org/?C=M;O=D Nightly Builds]&lt;br/>&lt;small>(Hit escape as soon as you see the links for "latest")&lt;/small>
|-
!colspan=6 style="background-color:#ccc"|Disassemblers
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| DASM || Charles Doty || Z80 disassembler || DOS || Source code and binary included. || [[File:dasmz80.zip]]
|-
| [http://www.inkland.org.uk/dz80/ DZ80] || Inkland || Z80 disassembler || (multiple) || Provided as source code (command line version) and binaries (DOS command line, Windows GUI) || &amp;nbsp;
|-
| unidasm || MAMEdev || Universal Disassembler || (multiple) || Included with the Windows MAME distribution; can be built from source || &amp;nbsp;
|-
| Z80DASM || ? || Z80 disassembler || Windows || Binary || http://trd.speccy.cz/sbor/Z80DASM.ZIP
|}

==Source Editors==
There are a lot of source code editors out there... Use whatever you're comfortable with (hopefully one with 68000 and Z80 syntax highlighting).

==Sound and Music==
{|class="wikitable"
|-
!colspan=6 style="background-color:#ccc"|Music Drivers and Tools
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| [[MVSTracker]] || Ivan Mackintosh || FM tracker || Windows || [http://www.archaic.fr/interviews/interview-jeff-kurtz-repond-a-nos-questions/3/ Z80 driver does not work on hardware] || &amp;nbsp;
|-
| [http://gendev.spritesmind.net/page-mvst.html MVSTracker Suite] || Pascal Bosquet, Kaneda || Modified version of MVSTracker || Windows || supports Mega Drive as well. Neo-Geo driver still doesn't work on hardware. || &amp;nbsp;
|-
!colspan=6 style="background-color:#ccc"|Sound Editors
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| [http://www.goldwave.com/release.php GoldWave] || GoldWave Inc. || commercial sound editor || Windows || &amp;nbsp; || &amp;nbsp;
|-
| [http://www.sonycreativesoftware.com/soundforgesoftware Sound Forge] || Sony || commercial sound editor || Windows, Mac || &amp;nbsp; || &amp;nbsp;
|-
| [http://audacity.sourceforge.net/ Audacity] || Audacity developers || open-source sound editor || (multiple) || &amp;nbsp; || &amp;nbsp;
|-
!colspan=6 style="background-color:#ccc"|Sound Encoders
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| [https://github.com/freem/adpcma ADPCM-A encoder] || freem || Command-line ADPCM-A encoder || (multiple) || Provided as source code and binary (Windows) || &amp;nbsp;
|-
| [http://www.smspower.org/forums/11965-VGMLoggingWithOtherEmulators?start=200#66597 ADPCM-B encoder] || ValleyBell and Fred/FRONT || Command-line ADPCM-B encoder || (multiple) || Provided as source code and binary (Windows) || [[File:ADPCM_Encode.zip]]
|-
| [[Neo Sound Builder]] || Jeff Kurtz/Neobitz || GUI V ROM/PCM file creator || Windows || ADPCM-A only || [https://www.facebook.com/Neobitz/photos/a.462349983789893.110879.221161891242038/1093044660720419/?type=3 announcement post]
|}

==Graphics==
{|class="wikitable"
|-
!colspan=6 style="background-color:#ccc"|Graphics Viewers and Editors
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| [[YY-CHR]] || YY || multi-format tile editor || Windows || FIX files require plugin (YY-CHR.NET only, see below); Sprites need conversion (see tools below) || [http://www.romhacking.net/utils/119/ YY-CHR 0.99]
|-
| NGFX || blastar || Fix, Sprite, TITLE_*.SYS viewer/editor; LOGO_*.SYS viewer || Windows || WIP; not yet released. || [https://www.romhacking.net/download/utilities/1175/]
|-
| neospriteviewer || Matt Greer || S and C ROM tile viewer || Web || &amp;nbsp; || [https://neospriteviewer.mattgreer.dev site]
|-
!colspan=6 style="background-color:#ccc"|Graphics Converters and Tools
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| [[DATLib]] graphics tools || HPMAN || Tools used to process and display graphics on Neo-Geo. || Windows || Animator, BuildChar, CharSplit, Framer || [https://www.dropbox.com/s/wqviye5xxzktr6y/DATlib_0.3.rar?dl=0 download]
|-
| [[NGGTool|NeoGeo Graphics ToolSuite]] || evo || Tool to convert between SNES/SFC and Neo-Geo graphics. || Windows  || Fix conversion is botched (see page for details) || [http://furrtek.free.fr/noclass/neogeo/nggts.zip NGGTS]
|-
| Sprite graphics converter || IQ || Converts MVS graphics (.c*) to CD graphics (.SPR). || Windows || &amp;nbsp; || [http://furrtek.free.fr/noclass/neogeo/gfxmvstocd.zip MVS to CD sprite converter]
|-
| [https://github.com/freem/NeoSpriteConv Neo-Geo Sprite Converter] || freem || Convert 4BPP SMS/GG/WSC graphics to Neo-Geo format. || (multiple) || Provided as source code and binary (Windows)&lt;br/>&lt;small>Further work required for converting to Cart (split files by words (2 bytes)) and CD (byteswap file)-usable files.&lt;/small> || [http://ajworld.net/neogeodev/utils/neosprconv.zip main download]
|-
| [https://github.com/Kannagi/Neoconvert Neoconvert] || Kannagi || Convert PNG to rom Cx with map, palette and HiColor. || Windows,Linux ||  || [https://github.com/Kannagi/Neoconvert download]
|-
| [https://github.com/Kannagi/Neoextract Neoextract] || Kannagi || extract rom Cx or s1 to bmp. || Windows,Linux ||  || [https://github.com/Kannagi/Neoextract download]
|
|-
| [https://github.com/city41/sromcrom sromcrom] || Matt Greer || Generate S and C ROMs from images, generates corresponding source code as well || cross platform ||  || [https://github.com/city41/sromcrom download]
|
|-
| [https://neo-source.com/index.php?topic=4180.msg37936 buildobj] || iq_132 || Compress / Decompress NeoGeo CD OBJ files || Windows || || [https://neo-source.com/index.php?topic=4180.msg37936 buildobj]
|}

==Other Tools==
{|class="wikitable"
|-
!Name !! Author(s) !! Description !! Platform(s) !! Notes !! Download
|-
| MemCardTool || Fabrice Martinez || Memory card manager || Windows || &amp;nbsp; || [[File:memcardtool.zip]]
|-
| [https://github.com/freem/romwak ROMwak] || Jeff Kurtz, ported by freem || Binary image manipulation tool || (multiple) || Provided as source code and binary (Windows) || &amp;nbsp;
|}

[[Category:Code]]

A homebrew BIOS used to test various parts of cartridge systems. It includes improved/fixed versions of the tests found in the SNK BIOS along with many new ones to help indentify faults faster. A Z80 ROM, which is meant to be used in place of a game [[M1 ROM]], can optionally be used to test the digital part of the sound system.

==Sample images==
&lt;gallery>
Image:diag1.png|Example of RAM error (data error in chip for lower byte)
Image:diag2.png|Example of Z80 error (lower address line problem from Z80 to RAM)
Image:diag0.png|Displayed at end of successful testing
Image:diag3.png|Interactive calendar test
Image:diag4.png|Controller test
&lt;/gallery>

==Homepage==
http://smkdan.eludevisibility.org/neo/diag/

[[Category:Repairs]]

[[Image:Screencap_diff.png|thumb|Screenshot]]
[[Diff]] is a Neo-Geo CD demo by citavia, released at Revision 2016.

It cleverly uses 2 groups of 40 sprites spaced 8 pixels apart as a double-buffered canvas, where each tile is assigned to a different palette. Drawing to the canvas is done at 30 FPS only by updating the [[palette RAM]].

==Links==
* [http://blastar.citavia.de/index.php?controller=post&amp;action=view&amp;id_post=24 Release post]
* [http://www.pouet.net/prod.php?which=67110 Pouet entry]
* [http://www.yaronet.com/topics/185841-chunky-mode-explanation-and-example-source "Chunky-mode: explanation and example"], a thread explaining the technique used in this demo, along with source code.

[[Category:Demos]]

{{GameInfo|right
|en_title=Digger Man (prototype)
|jp_title=Digger Man (prototype)
|developer=Kyle Hodgetts
|ngh_id=dig
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=diggerma
|mvs_date=2000
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA42G-3
}}

[[Category:Games]]

=Pixel dimensions=

* NTSC: 384 * 264 pixels.
* PAL: 384 * 312 pixels.

See [[frame size]] for the '''active''' display size.

=Sync=

'''mclk''' refers to the 24MHz master [[clock]]. A pixel lasts 4 mclk.

Notes: After /RESET goes high, SYNC goes high after 1399 mclk.

[[File:Sync_timing.png|1024px]]

{{Sig|CHBL|CHBL}} is the horizontal blanking signal, it tells {{Chipname|NEO-B1}} to output color 0 of [[palettes|palette]] 0, which is the [[palettes|reference color]].

{{Sig|BNKB|BNKB}} is the vertical blanking signal, it forces the [[video DAC]] inputs to 0.

==Horizontal==

[[File:Timing_video_lines.png]]
[[File:Timing_video_hblank.png]]

* 112 mclks (28px) horizontal sync pulse
* 112 mclks (28px) back porch
* 1280 mclks (320px) active display
* 32 mclks (8px) front porch

* 32 + 112 + 112 = 256 mclks (64px) horizontal blanking
* 32 + 112 + 112 + 1280 = 1536 mclks (384px) total per scanline

[[File:Timing_video_vblank.png]]

BNKB (blanking to 0V) changes state 14px after H-sync (middle of the back porch)

==Vertical==

Corrected from and added on from mvstech.txt (by Charles MacDonald).

There are 264 scanlines per frame:
* 8 scanlines vertical sync pulse
* 16 scanlines top border (active in PAL, blanked in NTSC)
* 224 scanlines active display
* 16 scanlines bottom border (active in PAL, blanked in NTSC)

Upper 9 bits of register {{Reg|REG_LSPCMODE}}:
* $0F8~$0FF : Vertical sync (8px)
* $100~$10F : Top border (16px)
* $110~$1EF : Active display (224px)
* $1F0~$1FF : Bottom border (16px)

=Frame timing=

See [[framerate]].

[[Category:Video system]]

The [[system ROM]] takes care of displaying the credits on the LED displays itself (see [[MV-LED]] board).

It's up to the game to display the counts on the screen when needed. SNK recommends using a 8x8 [[fix layer]] font.

The credit count for each player is stored in BCD in $D00034 for player 1, and $D00035 for player 2. These locations are in the [[backup RAM]], to keep the credit counts in case of a power failure during play.

'''Note''': [[SYSTEM_IO]] must be called each v-blank to update those locations.

&lt;syntaxhighlight>
moveq.l #0,d0
move.b  $D00034,d0             ; Read P1 credits (hex)
move.w  #$7088,REG_VRAMADDR    ; Set position in fix map, top left
move.w  d0,d1                  ; Make a copy of the BCD value
move.w  #$20,REG_VRAMMOD       ; Auto-inc fix column
lsr.b   #4,d1                  ; Get tens
andi.w  #$000F,d1              ; Mask off eventual garbage
ori.w   #$5030,d1              ; Set palette 5 and tile offset $30 (ASCII "0")
move.w  d1,REG_VRAMRW          ; Write tens to VRAM
andi.w  #$000F,d0              ; Get units
ori.w   #$5030,d0              ; Same
move.w  d0,REG_VRAMRW          ; Write units to VRAM
&lt;/syntaxhighlight>

[[Category:Code]]

How to display a 64*80 (4*5 tiles) [[sprites|sprite]] block at x=88, y=36.

==Loading palette==
At least one palette needs to be loaded. Here SpritePalette is loaded as palette 0 and the backdrop color is set to black.

&lt;syntaxhighlight>
    lea     SpritePalette,a0
    lea     PALETTES,a1
    moveq.l #16-1,d7
.ldpal
    move.w  (a0)+,(a1)+
    dbra    d7,.ldpal

    move.w  #BLACK,BACKDROP
&lt;/syntaxhighlight>

==Setting the map==
The sprite's map is an array of tile numbers and attributes. Here the 4 sprites are made of tiles 0~4 with no special attributes.

&lt;syntaxhighlight>
    move.w  #64,d2          ;SCB1, sprite 1
    move.w  #1,REG_VRAMMOD
    moveq.l #4-1,d6
.sprites:
    move.w  d2,REG_VRAMADDR
    clr.w   d1              ;First tile is #0
    moveq.l #5-1,d7
.tiles:
    move.w  d1,REG_VRAMRW      ;Tile number
    move.w  #0,REG_VRAMRW      ;No attributes
    addq.b  #1,d1
    dbra    d7,.tiles
    addi.w  #64,d2          ;Next sprite
    dbra    d6,.sprites
&lt;/syntaxhighlight>

==Setting the shrinking==
No shrinking at all (full size).

&lt;syntaxhighlight>
    move.w  #SCB2+1,REG_VRAMADDR
    moveq.l #4-1,d7
.zset:
    move.w  #$0FFF,REG_VRAMRW
    dbra    d7,.zset
&lt;/syntaxhighlight>

==Setting the size and vertical position==
First sprite is the driving one, next are driven.

&lt;syntaxhighlight>
    move.w  #SCB3+1,REG_VRAMADDR
    move.w  #((496-36)&lt;&lt;7)+5,VRAM_RW ;Y position and size for the first sprite
    moveq.l #5-1-1,d7
.yset:
    move.w  #64,REG_VRAMRW   ;Sticky bit only for the 3 others
    dbra    d7,.yset
&lt;/syntaxhighlight>

==Setting the horizontal position==
&lt;syntaxhighlight>
    move.w  #SCB4+1,REG_VRAMADDR
    move.w  #88&lt;&lt;7,REG_VRAMRW
&lt;/syntaxhighlight>

[[Category:Code]]
[[Category:Graphics Code]]

ASM routine for displaying text with a 8x8 pixel font on the [[fix layer]]:

&lt;syntaxhighlight>
;Displays text pointed by A0 at the VRAM address in D1. $FF:Next line, $00:End of text.
;Uses A0, D0 and REG_VRAMMOD. ASCIISTART is the character 0 fix tile.
Write8Text:
    move.w  d1,REG_VRAMADDR
    move.w  #$20,REG_VRAMMOD
.textmaplp:
    clr.w   d0
    move.b  (a0)+,d0
    tst.b   d0
    beq     .textmapend
    cmp.b   #$FF,d0
    bne     .nolinejump
    addq.w  #1,d1
    move.w  d1,REG_VRAMADDR
    bra     .textmaplp
.nolinejump:
    addq.w  ASCIISTART,d0
    move.w  d0,REG_VRAMRW
    bra     .textmaplp
.textmapend:
    rts
&lt;/syntaxhighlight>

"ASCIISTART" should be the fix tile number corresponding to ASCII value 0. This depends on what tileset you are using. Usually, onboard fix tilesets have a full 8x8 font starting at tile #0.

The VRAM address is calculated from the desired text position: D1=#FIXMAP+(Y+2+((X+1)*32)), [[68k ASM defines|"FIXMAP"]] being #$7000.

[[Category:Code]]
[[Category:Graphics Code]]

{{GameInfo|right
|en_title=Double Dragon
|jp_title=Double Dragon
|jp_title2=ダブルドラゴン
|developer=Technos Japan
|ngh_id=082
|megcount=178
|tcrf=https://tcrf.net/Double_Dragon_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=doubledr
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=doubledr
|aes_date=31/03/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=02/06/95
}}

==Worth noting==

Displays a short, cropped video clip in attract mode. Not really a technological achievement since it only eats up [[C ROM]] space.

[[Category:Games]]

#REDIRECT [[Double Dragon]]

#REDIRECT [[Street Hoop]]

[[Category:Games]]

{{GameInfo|right
|en_title=Eight Man
|jp_title=Eight Man
|jp_title2=エイトマン
|developer=Pallas
|ngh_id=025
|megcount=46
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=eightman
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=eightman
|aes_date=10/11/91
}}

[[Category:Games]]

#REDIRECT [[Eight Man]]

[[Image:Screencap eira.png|thumb|Screenshot of Eira]]
'''Eira''' is a small one-screen Neo-Geo CD intro by the demo group Resistance.

==Links==
* [http://www.pouet.net/prod.php?which=66723 Pouet entry]
* [https://github.com/David-Vandensteen/Eira Source code] on Github

[[Category:Demos]]

{| align="center" class="regdef"
|
|'''Platform'''
|'''MVS/AES'''
|'''CD/CDZ'''
|'''Raster line rendering'''
|'''Debugger'''
|'''[[Shot factory]]'''
|'''[[Universe BIOS|UniBIOS]] support'''
|'''[[Debug DIPs]]'''
|'''Source available'''
|-
|[https://github.com/finalburnneo/FBNeo/releases/tag/latest '''FinalBurn Neo''']
|Windows/Various
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes (Enabled per game)
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|-
|[http://gngeo.berlios.de/?page=download '''GnGeo''']
|GP2X Linux
|bgcolor="#8F8"|Yes
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes (needs to be activated)
|bgcolor="#DDD"|?
|bgcolor="#DDD"|?
|bgcolor="#8F8"|Yes
|bgcolor="#DDD"|?
|bgcolor="#8F8"|Yes
|-
| [https://github.com/dciabrin/gngeo '''GnGeo''' (ngdevkit fork)]
| Linux
|bgcolor="#8F8"|Yes
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes? (needs to be activated?)
|bgcolor="#8F8"|Yes (gdb)
|bgcolor="#DDD"|?
|bgcolor="#8F8"|Yes
|bgcolor="#DDD"|?
|bgcolor="#8F8"|Yes
|-
|[http://cps2shock.emu-france.info/download.html '''Kawaks''']
|Windows
|bgcolor="#8F8"|Yes
|bgcolor="#F88"|No
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#F88"|No
|-
|[http://mamedev.org/release.html '''MAME''']
|Linux, Windows
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes
|-
|[http://pacifi3d.retrogames.com/neocdsdl/ '''NeoCD''']
|BeOS, Dreamcast, Linux, PS2, Windows
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes
|bgcolor="#DDD"|?
|bgcolor="#F88"|No
|bgcolor="#F88"|No
|/
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes
|-
|[http://nebula.emulatronia.com/descargas.php '''Nebula''']
|Windows
|bgcolor="#DDD"|No ?
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Conditional
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes
|/
|bgcolor="#8F8"|Yes (uneffective ?)
|bgcolor="#F88"|No
|-
|[http://caesar.logiqx.com/php/emulator.php?id=neoragex '''NeoRage X''']
|Windows
|bgcolor="#8F8"|Yes
|bgcolor="#F88"|No
|bgcolor="#DDD"|No ?
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes
|bgcolor="#DDD"|?
|bgcolor="#DDD"|No?
|bgcolor="#DDD"|No?
|-
|[http://raine.1emulation.com/download/latest.html '''NeoRaine''']
|Mac, Windows
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes, command line
|bgcolor="#F88"|No
|/
|bgcolor="#F88"|No
|bgcolor="#8F8"|Yes
|-
|[http://www.xe-emulator.com/index.php?m=download '''XE''']
|Linux, Windows
|bgcolor="#8F8"|Yes
|bgcolor="#8F8"|Yes
|bgcolor="#DDD"|Yes ?
|bgcolor="#DDD"|No ?
|bgcolor="#DDD"|?
|bgcolor="#DDD"|Yes ?
|bgcolor="#DDD"|?
|bgcolor="#F88"|No
|}

[[Category:Tools]]

See [[system self-test]].

*"WARNING BANK ERROR": [[Cartridge self-checking]]. Cartridge edge dirty, bad 74LS74 for [[bankswitching]].
*"WARNING COPYRIGHT MESSAGE": [[Slot check security]]. Clear backup RAM. Bad [[uPD4990]]. Bad [[system ROM]].

[[Category:Repairs]]

* 4-player [[NEO-FTC1B board]]
* Trackball [[SIT board]]
[[Category:cartridge systems]]

[[File:Eyecatcher.gif|frame|Original eye-catcher animation.]]

[[File:Eyecatcher_giga.gif|frame|"Giga shock" animation.]]

[[File:Gigapowervliner.gif|frame|Imitated, wonky animation in[[V-Liner]].]]
"Eye-catcher" is the name officially given by SNK to the bootup animation.

=Original animation=

The [[system ROM]] takes care of the animation, but the graphics data for both [[sprites]] and [[fix layer]] must be provided by the game in its {{Chipname|C ROM}}s and {{Chipname|S ROM}}.

==NEO-GEO logo==
The revolving NEO.GEO graphic consists of sprites (the bank of tiles is specified by the byte in the [[68k program header]] at address $115).

58 tiles make up the main logo image. They are laid out row by row. The logo starts out mirrored horizontally, but once the animation completes the final layout is 

[[File:EyecatcherLogoTilesLayout.png|eyecatcher logo tile layout]]

Tile 256 (the 0xff index in the CROM) is also used as a blank tile. It pads out the sides of the logo as well as files in the blank areas when the logo is scaling down and then back up. Using a CROM where each tile is a number, one can see the full layout of the main logo once it has completed animating 

[[File:DebugEyecatcherTiles.png|eyecatcher logo tile layout]]

The palette is updated on the fly from data stored in the system ROM ($01F03E in {{Chipname|SP-S2}}) to implement the fading effect.

==MAX 330 MEGA==
The "MAX 330 MEGA" &amp; "PRO-GEAR SPEC" text as seen on small or early cartridges (eg. [[Puzzle De Pon!]]) is drawn on the fix layer with tiles from banks 0 and 1. The tilemap is stored in the system ROM ($01F34A in SP-S2). Each line of text is 2 fix tiles in height, and is animated using a 'wipe in' effect from left-to-right.

The tiles used to display each line of text are:

&lt;syntaxhighlight>
static const uint16_t max_330_mega[2][15] =
{
  { 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x15, 0x17, 0x19, 0x1B, 0x1D, 0x1F, 0x5E, 0x60, 0x7D },
  { 0x06, 0x08, 0x0A, 0x0C, 0x0E, 0x14, 0x16, 0x18, 0x1A, 0x1C, 0x1E, 0x40, 0x5F, 0x7C, 0x7E }
};
			
static const uint16_t pro_gear_spec[2][17] =
{
  { 0x7F, 0x9A, 0x9C, 0x9E, 0xFF, 0xBB, 0xBD, 0xBF, 0xDA, 0xDC, 0xDE, 0xFA, 0xFC, 0x100, 0x102, 0x104, 0x106 },
  { 0x99, 0x9B, 0x9D, 0x9F, 0xBA, 0xBC, 0xBE, 0xD9, 0xDB, 0xDD, 0xDF, 0xFB, 0xFD, 0x101, 0x103, 0x105, 0x107 }
};
&lt;/syntaxhighlight>

This can be useful to customize the text in a S ROM.

==SNK logo==
The SNK logo is also drawn on the fix layer, with tiles of bank 2. It is always drawn but actually made visible at the end of the animation by switching its palette.

&lt;syntaxhighlight>
static const uint16_t SNK[3][10] = 
{
  { 0x200, 0x201, 0x202, 0x203, 0x204, 0x205, 0x206, 0x207, 0x208, 0x209 },
  { 0x20A, 0x20B, 0x20C, 0x20D, 0x20E, 0x20F, 0x214, 0x215, 0x216, 0x217 },
  { 0x218, 0x219, 0x21A, 0x21B, 0x21C, 0x21D, 0x21E, 0x21F, 0x240, 0x25E }
};
&lt;/syntaxhighlight>

The copyright "©" symbol is a single tile ($7B) written to [[VRAM]] adress $7469.

The tiles are set to [[palettes|palette]] 15. The colour 5 is initially black ($0000) and then faded-in through a cycle of progressively brighter blues to a final value of $306E.

==Palettes==
Both the revolving logo and the fix layer text use palette 15.

Here is the *final* data written to palette 15:

&lt;syntaxhighlight>
static const uint16_t eye_catcher_pal[] = 
{
  0x0000, 0x0fff, 0x0ddd, 0x0aaa, 0x7555, 0x306E, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000
};
&lt;/syntaxhighlight>

==Customization==
By replacing the tile data for the above tile numbers with alternate text or graphics, it is possible to somewhat customize the eye-catcher screen without requiring a custom eye-catcher routine in the game cartridge itself.

When replacing the graphics, the tiles for the logo and wording should use colors 1-4 in the palette, the SNK logo replacement should use color 5, and like all palettes, color 0 will be treated as transparent.

Also, the tiles at $FF in both CROM and SROM must be blank. Tile $FF in SROM is used in the "PRO-GEAR SPEC" display (see array data above) and is also used as the blank/space character for the entire screen. Thus this tile cannot be changed without replicating it over the entire fix layer.

Tile $FF in CROM is used during the main logo animation, both when it is scaling the logo down and back up again during the animation, as well as on the left and right sides of the logo. So it too should be blank.

[[Category:Code]]
[[Category:Video system]]

== FIX_CLEAR ($C004C2): Clear fix layer ==

'''Warning:''' register contents aren't preserved ! (Uses D0, D1, and A0)

Clears all the [[fix layer]] with tile # $FF, palette 0. The leftmost and rightmost columns are cleared with tile # $20, palette 0.

In the [[SFIX ROM|default fix tilesets]], tile # $FF is filled with color 0 (transparent). Tile # $20 is opaque (used for masking).

[[Category:BIOS calls]]

FIX files contain the [[fix layer]] tileset (equivalent to the [[S ROM]]s in [[:Category:cartridge systems|cartridge systems]].

Offset adresses used for loading FIX files are divided by 2 (they're on a 8bit bus). 

* Maximum file size: 128KiB
* Type code: 1
* Loadable in: Fix layer [[PSRAM]]
* Banks: 1

==Format==

See [[fix graphics format]].

[[Category:CD systems]]

The FM ('''F'''requency '''M'''odulation) is part of the {{Chipname|YM2610}} sound chip. It provides '''4 channels''', each having their own set of 4 operators, panning and amplitude values. It's the most used way of producing music in games.

=Common registers=

{|class="wikitable"
!Address (Z80 port 4)
!Data (Z80 port 5)
|
|-
|$21
|{{8BitRegister|?|8}}
| Test register. Ignore or set to $00 for normal operation.
|-
|$22
|{{8BitRegister|-|4|On|1|Control|3}}
| LFO control and frequency (see below).
|-
|$28
|{{8BitRegister|Slot (OP4/OP3/OP2/OP1)|4|-|1|Channel|3|}}
| Key On/Off for each channel, with operators control.
|}

LFO frequency values are as follows:
*0 &amp;ndash; 3.98Hz
*1 &amp;ndash; 5.56Hz
*2 &amp;ndash; 6.02Hz
*3 &amp;ndash; 6.37Hz
*4 &amp;ndash; 6.88Hz
*5 &amp;ndash; 9.63Hz
*6 &amp;ndash; 48.1Hz
*7 &amp;ndash; 72.2Hz


Channel numbering:
{|class="wikitable"
 !FM Channel
 !Binary Code
|-
  | CH1
  | 001
|-
  | CH2
  | 010
|-
  | CH3
  | 101
|-
  | CH4
  | 110
|}
This strange numbering seems to be due to the fact YM2610 is a YM2610B with 2 removed FM channels (000 and 100).



=Channel registers=

Depending on which channel you want to write to, the {{Chipname|Z80}} ports used are different:
* Channels 1 &amp; 2: Ports 4/5
* Channels 3 &amp; 4: Ports 6/7

{|class="wikitable"
!colspan=4|Address||colspan=4|Data||rowspan=3|
|-
|CH1||CH2||CH3||CH4||CH1||CH2||CH3||CH4
|-
|colspan=2|Port 4||colspan=2|Port 6||colspan=2|Port 5||colspan=2|Port 7
|-
|$A1||$A2||$A1||$A2
|colspan=4|{{8BitRegister|F-Num 1|8}}
|F-Numbers and Block (1/2)
|-
|$A5||$A6||$A5||$A6
|colspan=4|{{8BitRegister|-|2|Block|3|F-Num 2|3}}
|F-Numbers and Block (2/2)&lt;br/>(must set this first)
|-
|$B1||$B2||$B1||$B2
|colspan=4|{{8BitRegister|-|2|FB|3|ALGO|3}}
|Feedback (FB) and Algorithm (ALGO)
|-
|$B5||$B6||$B5||$B6
|colspan=4|{{8BitRegister|L|1|R|1|AMS|2|-|1|PMS|3}}
|Left (L)/Right (R) output, AM Sense (AMS), and PM Sense (PMS)
|}

2CH mode additional operator frequencies:
* OP1 frequency is stored in the usual CH2 frequency registers ($A2/$A6)
* write to Z80 ports 4/5

{|class="wikitable"
!colspan=3|Address||colspan=4|Data||rowspan=2|
|-
|OP2||OP3||OP4||colspan="4"|
|-
|$A8||$A9||$AA
|colspan=4|{{8BitRegister|2CH * F-Num 1|8}}
|2CH mode F-Num LSB
|-
|$AC||$AD||$AE
|colspan=4|{{8BitRegister|-|2|2CH * Block|3|2CH * F-Num 2|3}}
|2CH mode F-Num MSB &amp; Block&lt;br/>(must set this first)
|}

=Operator registers=
The ranges given for the address represent all of the parameter values. Each channel's operators are laid out as follows:

{|class="wikitable"
! Operator || 1 || 3 || 2 || 4
|-
! Channels 1, 3
| $x1 || $x5 || $x9 || $xD
|-
! Channels 2, 4
| $x2 || $x6 || $xA || $xE
|}

{|class="wikitable"
!colspan=4|Address||colspan=4|Data||rowspan=3|
|-
|CH1||CH2||CH3||CH4||CH1||CH2||CH3||CH4
|-
|colspan=2|Port 4||colspan=2|Port 6||colspan=2|Port 5||colspan=2|Port 7
|-
|colspan=4|$31-$3E
|colspan=4|{{8BitRegister|-|1|DT|3|MUL|4}}
|Detune (DT) and Multiple (MUL)
|-
|colspan=4|$41-$4E
|colspan=4|{{8BitRegister|-|1|Total Level|7|}}
|Total Level (Volume)
|-
|colspan=4|$51-$5E
|colspan=4|{{8BitRegister|KS|2|-|1|AR|5}}
|Key Scale (KS) and Attack Rate (AR)
|-
|colspan=4|$61-$6E
|colspan=4|{{8BitRegister|AM|1|-|2|DR|5}}
|AM On (AM) and Decay Rate (DR)
|-
|colspan=4|$71-$7E
|colspan=4|{{8BitRegister|-|3|SR|5}}
|Sustain Rate (SR)
|-
|colspan=4|$81-$8E
|colspan=4|{{8BitRegister|SL|4|RR|4}}
|Sustain Level (SL) and Release Rate (RR)
|-
|colspan=4|$91-$9E
|colspan=4|{{8BitRegister|-|4|SSG-EG|4}}
|Envelope generator (not to be confused with the [[SSG]] one)
|}

[[Category:Audio system]]

=Palette fade=

==Real-time==
[[Palettes]] can be faded to white or black by respectively incrementing or decrementing each color component of each color individually.
Of course, care has to be taken so that each value stops at 31 or 0.

Fading to a specific color can also be done this way, by comparing each color components with the target ones and incrementing/decrementing them accordingly (see example code).

==Pre-computed==
Real time fading is very flexible but also very CPU intensive. Another way to fade palettes is to pre-compute all the steps and store them into ROM for simple lookup. This method requires very little CPU but uses more ROM space.

=Simulated fade=

[[File:Sengoku3fade.png|frame|Fix fade to white in [[Sengoku 3]]'s intro]]

[[File:0003.png|frame|Fix wipe in Metal Slug 3]]

Since it has the highest priority on the screen, the [[fix layer]] can be used as a mask to fade the underlaying display by using dithered tiles.
This can only be done if the fix doesn't have to show important information during fading.

[[Metal Slug 3]] clears the HUD then does this for wiping transitions between level sections.

=Real-time fading code=

&lt;syntaxhighlight>
; D0.w: NG palette word -> D2.b, D3.b, D4.b: RGB555 (ignores common bit)
NG2RGB:
    ;Red
    move.w  d0,d2                ;CrgbRRRRGGGGBBBB
    lsr.w   #8,d2                ;________CrgbRRRR
    andi.b  #$0F,d2              ;____________RRRR
    move.w  d0,d1                ;CrgbRRRRGGGGBBBB
    lsl.w   #2,d1                ;gbRRRRGGGGBBBBCr
    asl.b   #1,d2                ;___________RRRRr

    ;Green
    move.b  d0,d3                ;________GGGGBBBB
    lsr.b   #4,d3                ;____________GGGG
    lsl.w   #1,d1                ;bRRRRGGGGBBBBCrg
    asl.b   #1,d3                ;___________GGGGg

    ;Blue
    move.b  d0,d4                ;________GGGGBBBB
    andi.b  #$0F,d4              ;____________BBBB
    lsl.w   #1,d1                ;RRRRGGGGBBBBCrgb
    asl.b   #1,d4                ;___________BBBBb
    rts
&lt;/syntaxhighlight>

&lt;syntaxhighlight>
; D2.b, D3.b, D4.b: RGB555 -> D0.w: NG palette word (ignores common bit)
RGB2NG:
    moveq.l #0,d0
    lsr.b   #1,d2                ;____________RRRR
    asl.b   #1,d0                ;_______________r
    lsr.b   #1,d3                ;____________GGGG
    asl.b   #1,d0                ;______________rg
    lsr.b   #1,d4                ;____________BBBB
    asl.b   #1,d0                ;_____________rgb

    lsl.b   #4,d0                ;_________rgb____
    or.b    d2,d0                ;_________rgbRRRR
    lsl.w   #4,d0                ;_____rgbRRRR____
    or.b    d3,d0                ;_____rgbRRRRGGGG
    lsl.w   #4,d0                ;_rgbRRRRGGGG____
    or.b    d4,d0                ;_rgbRRRRGGGGBBBB
    rts
&lt;/syntaxhighlight>

RGB components can then be compared with a target palette in RAM and adjusted until they match, for example:

&lt;syntaxhighlight>
; Compares red in D0 with D2, inc/dec depending on result
    cmp.b   d2,d0
    blo     .lower
    bhi     .higher
    bra     .same
.lower:
    addq.b  #1,d0
    bra     .same
.higher:
    subq.b  #1,d0
.same:
&lt;/syntaxhighlight>

Note that with such a constant increment/decrement value, some components will reach their target before others. Doing a correct proportional fade would involve fixed point math, which probably isn't worth the trouble.

[[Category:Code]]
[[Category:Graphics Code]]

{{GameInfo|right
|en_title=Far East of Eden - Kabuki Klash 
|jp_title=Tengai Makyou - Shin Den
|jp_title2=天外魔境 真伝
|developer=Hudson
|ngh_id=092
|megcount=202
|tcrf=https://tcrf.net/Far_East_of_Eden:_Kabuki_Klash
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kabukikl
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_romset=kabukikl
|aes_date=02/07/95
|cd_release=y
|cd_release_jp=y
|cd_date=24/11/95
}}

[[Category:Games]]

See [[Particle streamer 1.0]].

[[Category:Games]]

{{GameInfo|right
|en_title=Fatal Fury - King of Fighters 
|jp_title=Garou Densetsu - shukumei no tatakai
|jp_title2=餓狼伝説
|developer=SNK
|ngh_id=033
|megcount=55
|tcrf=https://tcrf.net/Fatal_Fury_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=fatfury1
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=fatfury1
|aes_date=20/12/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Fatal Fury 2 
|jp_title=Garou Densetsu 2 - arata-naru tatakai
|jp_title2=餓狼伝説 2
|developer=SNK
|ngh_id=047
|megcount=106
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=fatfury2
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG-G2
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=fatfury2
|aes_date=05/03/93
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}



&lt;center>
&lt;gallery widths="320" heights="240">
File:FF2build.png|Fatal Fury 2 build date.
&lt;/gallery>
&lt;/center>

==Protection==

Uses {{Chipname|PRO-CT0}} as a protection chip.

If one of the multiple protection checks fail, a flag is silently set. The game runs correctly during the first match, but the opponent in the second match will not be able to get hit, and the timer in next matches will be set to 2 seconds.

If this happens on a real system, the cartridge might be a [[bootleg]] or simply defective.


==Protection code==

Uses lots of bogus addresses to confuse hackers.

&lt;syntaxhighlight>
00296A:
	move	#$5555,$255552		;LOAD
	move.b	$255551,$10AC2E		;Read GAD/GBD: $FF
	move.b	d0,$255551		;Clock
	move.b	$2FFFF1,$10AC2F		;Read GAD/GBD: $00
	move.b	d0,$2FFFF1		;Clock
	move.b	$200001,$10AC30		;Read GAD/GBD: $FF
	move.b	d0,$2FF001		;Clock
	move.b	$2FF001,$10AC31		;Read GAD/GBD: $00
	cmpi.l	#$FF00FF00,$10AC2E	;Compare reads
	beq	+
	move	#$3328,24580(a5)	;Lock up flag ?
+:
	rts
&lt;/syntaxhighlight>

&lt;pre>
Load C: 00110011001100110011001100110011 ($33333333)

PRO-CT0 serialize:
00110011 3
00110011 2
00110011 1
00110011 0

GAD/GBD to D7~D0 remap (no effect): 

00110011 1
00110011 0
00110011 3
00110011 2
||||||||
00FF00FF ->
&lt;/pre>



&lt;syntaxhighlight>
012530:
	move	#$1234,$256782		;LOAD C $366A061A (00110110 01101010 00000110 00011010)
	move.b	$236001,18642(a5)	;Read GAD/GBD
	move.b	#$20,$236001		;Clock
	move.b	$236001,18643(a5)	;Read GAD/GBD
	move.b	#$20,$236001		;Clock
	move.b	$236001,18644(a5)	;Read GAD/GBD
	move.b	#$20,$236001		;Clock
	move.b	$236001,18645(a5)	;Read GAD/GBD
	move.b	#$20,$236001		;Clock
	move.l	18642(a5),d0
	subi.l	#$F05A3601,d0		;Compare reads
	rts
&lt;/syntaxhighlight>

&lt;pre>
Load C: 00110110011010100000011000011010 ($366A061A)

PRO-CT0 serialize:
00110110 3
01101010 2
00000110 1
00011010 0

GAD/GBD to D7~D0 remap: 

00000110 1
00011010 0
00110110 3
01101010 2
||||||||
01365AF0 ->

&lt;/pre>



&lt;syntaxhighlight>
	move	#$1824,$242812		;LOAD C
	move.b	$236009,18642(a5)	;Read GAD/GBD with H (reverse)
	move.b	#$20,$236009		;Clock
	move.b	$236009,18643(a5)	;Read GAD/GBD with H (reverse)
	move.b	#$20,$236009		;Clock
	move.b	$236009,18644(a5)	;Read GAD/GBD with H (reverse)
	move.b	#$20,$236009		;Clock
	move.b	$236009,18645(a5)	;Read GAD/GBD with H (reverse)
	move.b	#$20,$236009		;Clock
	move.l	18642(a5),d0
	subi.l	#$81422418,d0		;Compare reads
	rts
&lt;/syntaxhighlight>

&lt;pre>
Load C: 00100100100000010100001000011000 ($24814218)

PRO-CT0 serialize:
00100100 3
10000001 2
01000010 1
00011000 0

GAD/GBD to D7~D0 remap: 

01000010 1
00011000 0
00100100 3
10000001 2
||||||||
18244281 &lt;-

&lt;/pre>



&lt;syntaxhighlight>
	move	#$1234,$256782		;LOAD C
	move.b	$236005,18642(a5)	;Read GAD/GBD with EVEN (nibble swap)
	move.b	#$20,$236005		;Clock
	move.b	$236005,18643(a5)	;Read GAD/GBD with EVEN (nibble swap)
	move.b	#$20,$236005		;Clock
	move.b	$236005,18644(a5)	;Read GAD/GBD with EVEN (nibble swap)
	move.b	#$20,$236005		;Clock
	move.b	$236005,18645(a5)	;Read GAD/GBD with EVEN (nibble swap)
	move.b	#$20,$236005		;Clock
	move.l	18642(a5),d0
	subi.l	#$0FA56310,d0		;Compare reads
	rts
&lt;/syntaxhighlight>

&lt;pre>
Load C: 00110110011010100000011000011010 ($366A061A)

PRO-CT0 serialize:
00110110 3
01101010 2
00000110 1
00011010 0

GAD/GBD to D7~D0 remap: 

00000110 1
00011010 0
00110110 3
01101010 2
||||||||
01365AF0 nibble swap: 1063A50F ->

&lt;/pre>



&lt;syntaxhighlight>
	move	#$1824,$242812		;LOAD C
	move.b	$23600D,18642(a5)	;Read GAD/GBD with H and EVEN
	move.b	#$20,$23600D		;Clock
	move.b	$23600D,18643(a5)	;Read GAD/GBD with H and EVEN
	move.b	#$20,$23600D		;Clock
	move.b	$23600D,18644(a5)	;Read GAD/GBD with H and EVEN
	move.b	#$20,$23600D		;Clock
	move.b	$23600D,18645(a5)	;Read GAD/GBD with H and EVEN
	move.b	#$20,$23600D		;Clock
	move.l	18642(a5),d0
	subi.l	#$18244281,d0		;Compare reads
	rts
&lt;/syntaxhighlight>

&lt;pre>
Load C: 00100100100000010100001000011000 ($24814218)

PRO-CT0 serialize:
00100100 3
10000001 2
01000010 1
00011000 0

GAD/GBD to D7~D0 remap: 

01000010 1
00011000 0
00100100 3
10000001 2
||||||||
18244281 nibble swap: &lt;- 81422418

&lt;/pre>

[[Category:Games]]

{{GameInfo|right
|en_title=Fatal Fury 3 - Road to the Final Victory 
|jp_title=Garou Densetsu 3 - haruka-naru tatakai
|jp_title2=餓狼伝説 3
|developer=SNK
|ngh_id=069
|megcount=266
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=fatfury3
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=fatfury3
|aes_date=21/04/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=28/04/95
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Fatal Fury Special 
|jp_title=Garou Densetsu Special
|jp_title2=餓狼伝説 スペシャル
|developer=SNK
|ngh_id=058
|megcount=150
|tcrf=https://tcrf.net/Fatal_Fury_Special_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=fatfursp
|mvs_date=1993
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA42G-3B
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=fatfursp
|aes_date=22/12/93
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

#REDIRECT [[Fatal Fury Special]]

#REDIRECT [[Fatal Fury - King of Fighters]]

#REDIRECT [[Fatal Fury 2]]

#REDIRECT [[Fatal Fury 3 - Road to the Final Victory]]

#REDIRECT [[Football Frenzy]]

{{GameInfo|right
|en_title=Fight Fever
|jp_title=Fight Fever
|jp_title2=ファイトフィーバー
|developer=Viccom
|ngh_id=060
|megcount=98
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=fightfev
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256B
}}

YOU WANT TAEKWONDO CHAMP OF THE WORLD ?

[[Category:Games]]

#REDIRECT [[Karnov's Revenge]]

[[Category:Games]]

== Summary ==
8AM board. Picture by NeoGeoProtos.com (billy Pitt)
== Licensing ==
{{Non-free Some website}}

== Summary ==
pinout for the 27c101

== Summary ==
pinout for the 27c160

== Summary ==
pinout for the 27c301

== Summary ==
pinout for the 27c322

== Summary ==
4558D opamp chip

== Summary ==
4558 schematic

== Summary ==
upc4741 opamp

== Summary ==
74ls244 schematic

== Summary ==
74AS04 chip

== Summary ==
74AS04 schematic

== Summary ==
74hc04 dip14 logic chip
== Licensing ==
{{cc-zero}}

== Summary ==
clear 74hc04 schematic

== Summary ==
logic chip 74hc32 dip 
== Licensing ==
{{cc-zero}}

== Summary ==
Schematic of the 74hc32 logic chip

== Summary ==
74ls05 logic chip
== Licensing ==
{{cc-zero}}

== Summary ==
74ls05 schematic more clear

== Summary ==
74ls06 logic chip
== Licensing ==
{{cc-zero}}

== Summary ==
74ls06 schematic

== Summary ==
74ls244 buffer chip

== Summary ==
74ls273 dip package
== Licensing ==
{{cc-zero}}

== Summary ==
74LS273 schematic

== Summary ==
Dev board

ADPCM-B sample encoder by Fred/FRONT and ValleyBell ([http://www.smspower.org/forums/11965-VGMLoggingWithOtherEmulators?start=200#66597 original source])

== Licensing ==
{{cc-by-3.0}}

Straightened out picture from GadgetUK164, used with permission.



== Licensing ==
{{cc-by-nc-3.0}}



== Licensing ==
{{cc-by-nc-3.0}}

== Summary ==
SAFT Battery
== Licensing ==
{{cc-by-nc-3.0}}



== Licensing ==
{{cc-by-nc-3.0}}

== Summary ==
Toshiba battery
== Licensing ==
{{cc-by-nc-3.0}}

== Summary ==
CDROM-1 - prototype main board for Neo Geo CD front loader
== Licensing ==
{{Non-free NeoGeoDev Wiki only}}

== Summary ==
cut trace on CMBL signal between Neo-B1 and LSPC2-A2

== Summary ==
CR10-A photo
== Licensing ==
{{cc-zero}}

== Summary ==
Panasonic CR2016 3V lithium battery with solder tabs found on the printed circuit board C10075-X2-2 inside an original SNK memory card NEO-IC8.

== Summary ==
CX23065 chip

== Summary ==
CX23065 schematic

== Summary ==
CXA1145 schematic

== Licensing ==
{{cc-by-3.0}}

== Licensing ==
{{cc-by-3.0}}

#REDIRECT [[File:CXK5814P-35L.jpg]]

== Licensing ==
{{cc-zero}}

== Licensing ==
{{cc-zero}}

== Licensing ==
{{cc-zero}}

== Licensing ==
{{cc-zero}}

== Licensing ==
{{cc-zero}}

== Licensing ==
{{cc-zero}}

== Licensing ==
{{cc-zero}}

MVS comm circuit

Comm setup for MVS, page 1

Comm setup for MVS, page 2

== Summary ==
Thx ArcadeTV !

CT0 logic

== Summary ==
32K word x 8 Static RAM Chip
== Licensing ==
{{cc-by-3.0}}

DASM Z80 disassembler by Charles Doty

== Summary ==
The eyecatcher's main logo, when created with CROM tiles where each tile is a number of its index.
== Licensing ==
{{cc-zero}}

Screenshot of ADPCM decoder tool

FF2 build date

By maikoldrumer from arcades.mx

Importing image file

== Summary ==
Programmatically created grid of the Fix layout for easy reference.
== Licensing ==
{{cc-zero}}

Importing image file

== Summary ==
Image for monk profile
== Licensing ==
{{Non-free game screenshot}}

ADPCM-A codec test

== Summary ==
Mahjong Minasan no Okagesamadesu prototype. Photo by NeoGeoCollector.
== Licensing ==
{{Non-free Some website}}

HD6301 comm microcontroller dump

== Summary ==
the Howtoplay screen rendered with a hacked fix rom, to showcase the tilemap.  A simple palette reference has been added to the lower text-box.

== Summary ==
SAFT Battery

Warning screen that is displayed in Metal Slug X when protection check fails (from fremen of neo-geo.com)

:''JAS/LD/Maccer 68000 assembler package by Charles Doty, with components by Paul Lee and Michael Hope.''

== Summary ==
pinout for the KM23C32000

== Summary ==
Crop from a picture by @DragonsHoardMod

== Summary ==
SHARP LH5116NA-10 SRAM IC

== Summary ==
LM2576

== Summary ==
LM2576 schematic

== Summary ==
Service manual for MV-1F

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4F Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
MV4 Schematics shared by lithy (first on Arcade Project : https://www.arcade-projects.com/threads/mv-4-and-mv-4f-schematics-available.32066/ )

== Summary ==
View of MV1FS with NEO-MVH SLOT1F attached.
== Licensing ==
{{cc-zero}}

== Summary ==
MV1FS_Back
== Licensing ==
{{cc-zero}}

== Summary ==
MV1FS_Front
== Licensing ==
{{cc-zero}}

== Licensing ==
{{cc-by-3.0}}

== Licensing ==
{{cc-by-3.0}}

== Licensing ==
{{cc-by-3.0}}

== Licensing ==
{{cc-by-3.0}}

== Licensing ==
{{cc-by-3.0}}

== Summary ==
Example of the [[MVSTracker]] main interface.
== Licensing ==
{{cc-zero}}

== Licensing ==
{{cc-by-3.0}}



== Licensing ==
{{Non-free Some website}}

Mahjong controller IO test

Mahjong controller photo

Mahjong controller schematic

MemCardTool by Fabrice Martinez.

Originally hosted at [http://www.illusion-city.com/zip/memcardtool.zip illusion-city]

Picture taken by Mauricio on neo-geo.com

Rotate, trim, scale

== Summary ==
Redraw of stickers used on MVS multicart slots
== Licensing ==
{{cc-by-nc-3.0}}

Scan by mvs-scans.com

Importing image file

Importing image file

Importing image file

Importing image file



== Licensing ==
{{cc-by-nc-nd-3.0}}

== Summary ==
COPYRIGHT HOLDER : NeoGeoFreak / NGF-USA
== Licensing ==
{{Non-free NeoGeoDev Wiki only}}

White background

== Summary ==
Back of original SNK Memory Card NEO-IC8 (Version 1).


=== Text on the cover ===

ご注意
*高温・直射日光はさけて下さい。 
*曲げたり、強いショックを与えないで下さい。 
*水に濡らさないで下さい。 
*コネクター部に手など触れないで下さい。 
*火中への投入は、絶対にしないで下さい。
株式会社エス・エヌ・ケイ&lt;br>
MADE IN JAPAN


=== Translation ===

Please Note
*Avoid high temperatures and direct sunlight.
*Do not bend or give a strong shock.
*Do not wet in water.
*Do not touch the connector with your hands.
*Never throw it into fire.
SNK Corporation&lt;br>
MADE IN JAPAN

== Licensing ==
{{Non-free game cover}}

== Summary ==
Front of original SNK Memory Card NEO-IC8 (Version 1)
== Licensing ==
{{Non-free game cover}}



== Licensing ==
{{Non-free game cover}}

== Licensing ==
{{cc-zero}}

== Licensing ==
{{cc-zero}}



== Licensing ==
{{cc-by-nc-nd-3.0}}

== Licensing ==
{{cc-zero}}

== Summary ==
Official development system
== Licensing ==
{{cc-by-nc-nd-3.0}}

== Summary ==
Pin list by HPMAN

== Summary ==
Initial boot screen of [[NGEM2K]].
== Licensing ==
{{Non-free game screenshot}}

Screenshot of the [[NGFX]] interface.

== Summary ==
NJM2066 CHIP

== Summary ==
NJM2066 schematic

NeoBitz dev tools archive.

== Summary ==
NeoFixFormat v1.0 plugin for [[YY-CHR|YY-CHR.NET]]; allows editing of [[fix layer]] tiles. 

(The archive has no license information/document, but as the author of the plugin, I release it into the public domain because life is too short to reinvent this wheel.)
== Licensing ==
{{cc-zero}}

== Summary ==
Re-draw of the NEO-D0 (page 5) schematic.
== Licensing ==
{{cc-zero}}

== Summary ==
[[Neo Sound Builder]] main interface shot.
== Licensing ==
{{cc-zero}}

== Summary ==
Steering Wheel Schematic for Thrash Rally designed by Nightmare Tony (Antonio Gonzalez Jr.), while working for SNK.
== Licensing ==
{{Non-free Non commercial or educational}}

Picture 1 for the new version of Neogeo Convertor with scalling fixed bu NeoFlash Team

Picture 2 for the new version of Neogeo Convertor with scalling fixed bu NeoFlash Team

Thanks to Wolfsoft and ArcadeTV

Thanks to Wolfsoft and ArcadeTV

Thanks to Wolfsoft and ArcadeTV

Thanks to Wolfsoft and ArcadeTV

Thanks to Wolfsoft and ArcadeTV

Thanks to Wolfsoft and ArcadeTV

Thanks to Wolfsoft and ArcadeTV

Thanks to Wolfsoft and ArcadeTV

Thanks to Wolfsoft and ArcadeTV

Thanks to Wolfsoft and ArcadeTV

== Summary ==
Flash cart. Guess who took this picture...
== Licensing ==
{{Non-free Some website}}



== Licensing ==
{{cc-zero}}

== Summary ==
LS08 part from AES PROGGSC
== Licensing ==
{{cc-zero}}

== Summary ==
PROGSMA board

Importing image file

== Summary ==
https://web.archive.org/web/20081225064420/http://pcmcia.org/pccard.htm
== Licensing ==
{{Non-free Non commercial or educational}}

Local mirror of [[ADPCM-A and ADPCM-B example program]] by [[User:freem|freem]].

Full license text:
"WTFPL/CC0/Unlicense/Public Domain/whatever. Use any part of this project in your commercial or non-commercial productions. I don't really care."

Welp...

== Summary ==
Prototype paper labels. Picture from NeoTurfMasta?
== Licensing ==
{{Non-free Some website}}

== Summary ==
Please don't trash them, recycle them !
== Licensing ==
{{cc-zero}}

JEDEC file for "SNK1A" PAL

JEDEC file for "SNK1B" PAL

Screenshot of 4-Player Input Test.

== Summary ==
Screenshot of "Codename Blut Engel" by Blastar.
== Licensing ==
{{Non-free game screenshot}}

Screenshot of the Chaos demo for Neo-Geo by Raster (Charles Doty).

== Summary ==
Screenshot of Chip 'n Dale (Intro demo), provided by Fred/FRONT.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of the port of Columns to the Neo-Geo.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of Darkwing Duck (Intro demo), provided by Fred/FRONT. 
== Licensing ==
{{Non-free game screenshot}}

Screenshot of [[Diff]] by citavia (default screen mode).

== Summary ==
Screenshot of Ducktales (Intro demo), provided by Fred/FRONT.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot from [[Eira]] demo by Resistance.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of [[Frog Feast]], provided by Fred/FRONT.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of Ghostbusters (Intro demo), provided by Fred/FRONT.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of "Jonas Indiana and the Lost Temple of Ra" by Blastar.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of [[Neo 2048]] by Nicole Express.

Screenshot of Blastar's "Neo 2500" multi-color image demo.

Screenshot of Neo-Geo 3D demo by Leonard of Oxygene.

Screenshot of Neo Castlevania demo by BarfHappy.

== Summary ==
Screenshot of "Neo no Panepon" by Blastar.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of [[Neo Puzzle League]], provided by Fred/FRONT.
== Licensing ==
{{Non-free game screenshot}}

Screeenshot of Primo demo by Bey.

== Summary ==
Screenshot of [[NeoGeo 2 Player Tetris]] by Crim.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of [[Neo Thunder]] by Sebastian Mihai.
== Licensing ==
{{Non-free game screenshot}}

Screenshot of Neo Geo WW2 Demo by Charles Doty.

== Summary ==
Screenshot of [[NGD::ARK]]
== Licensing ==
{{Non-free game screenshot}}

Screenshot from NGF Transparency Demo (window scene) by CeL, et al.

== Summary ==
Screenshot of ADPCM-A and ADPCM-B Example Program by [[User:freem|freem]].
== Licensing ==
{{cc-zero}}

== Summary ==
Screenshot of "Poker Night" by Jeff Kurtz.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of Robocop (Intro demo), provided by Fred/FRONT.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of Spiderman (Intro demo), provided by Fred/FRONT.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of [[blastar]]'s "Subspecies unfinished" demo.

Screenshot of NeoSystemCheck.

== Summary ==
Screenshot of Teenage Mutant Ninja Turtles (Intro demo), provided by Fred/FRONT.
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Screenshot of blastar's [[Twister in a Mirror]] demo
== Licensing ==
{{Non-free game screenshot}}

Screenshot of the [[Visual Novel]] Neo-Geo CDZ demo by trilobit.

Screenshot of We ♥ Alice demo by blastar.

== Summary ==
Example print of redraw of stickers used on MVS multicart slots 
== Licensing ==
{{cc-by-nc-3.0}}

== Summary ==
pinout for the TC531000

== Summary ==
pinout for the TC531001

== Summary ==
pinout for the TC5316200AP

== Summary ==
TC5716200D pinout

== Summary ==
Show GFX problem when signal GAD3 is missing

Picture taken by l_oliveira

== Summary ==
Main debug menu of Twinkle Star Sprites
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
Another debug menu from Twinkle Star Sprites
== Licensing ==
{{Non-free game screenshot}}

== Summary ==
UPD4990AC schematic

== Summary ==
English sample cart. Picture by NeoTurfMasta.
== Licensing ==
{{Non-free Some website}}

Importing image file

== Summary ==
WH2J build dates
== Licensing ==
{{Non-free game screenshot}}



== Licensing ==
{{Non-free Some website}}

== Summary ==
X3002 development board. Picture by NeoTurfMasta
== Licensing ==
{{Non-free Some website}}

== Summary ==
X3007 dev board.
== Licensing ==
{{Non-free Some website}}

Decoder tool

YM3016 JP datasheet



== Licensing ==
{{cc-zero}}

== Summary ==
ZBF253D photo
== Licensing ==
{{cc-zero}}

Re-host here on the off chance that [http://z80.info/] goes down

#REDIRECT [[3_Count_Bout]]

[[Category:Games]]

In some late games, the [[S ROM]] 128KiB size limit was expanded with the use of {{Chipname|NEO-CMC}} chips.

This was devised as some sort of hack, taking advantage of the video controller continuing to render the [[fix layer]] outside of the visible screen area. This allows the use of the normally unused $7500~$75FF [[VRAM]] region to add bits to the tile numbers.

The chips use latches to store the additional bits at the beginning of a line, and "distributes" them during render. Synchronization might just be free running, started by /RESET and clocked with 6MB ?

Games marked [*] do hold 512KB fix data, however they ultimately only use a 128KB section, making the banking mechanism pointless.

NEO-CMC 042 has been observed using type 1 only. NEO-CMC 050 has been observed using both type 1 and type 2.

==Type 1 (per line banking)==

Infos from Mr K (MAME).

Used by:
* [[Garou - Mark of the Wolves]] (NEO-CMC 042)
* [[Metal Slug 3]] (NEO-CMC 042) [*]
* [[Metal Slug 4]] (NEO-CMC 050) [*] (parental advisory screen glitched due to wrong banking)

Type 1 allows fix data up to 512KiB (16384 tiles instead of 4096), by changing the bank (4 maximum) for each tile row. For this, the $7500~$75BF area in VRAM is used.

* The $7500~$753F area even words (32 total) contain a flag to indicate if the bank has to be changed for the corresponding tile line.
* The $7580~$75BF area even words (32 total) contain bank numbers for each of the tile lines.

If for a given line, the flag is set to $0200 (group size ?), the bank is read, changed, and will remain the same until it's changed again (it doesn't go back to 0 if the next line doesn't have the flag set).

Bank number:
{{16BitRegister|Has to be $FF ($0F works?)|8|Unused ?|6|Bank number|2}}

Bank bits are inverted (00 = bank 3, 11 = bank 0).

'''This needs further research, see MAME video/neogeo.c'''

==Type 2 (per tile banking)==

[[File:Cmc50bs.png|400px|right]]

Used by:
* [[The King of Fighters 2000]] (NEO-CMC 050)
* [[Matrimelee]] (NEO-CMC 050) [*]
* [[SNK vs. Capcom - SVC Chaos]] (NEO-CMC 050)
* [[The King of Fighters 2003]] (NEO-CMC 050)

Type 2 allows to add 2 bits to all the fix tile indexes individually, also allowing to use 16384 tiles at most but in a simpler manner and with no restrictions. For this, the $7500~$75DF area of VRAM is used.

Each word in this area gives the bank number for 6 horizontally consecutive fix tiles corresponding to the line:
{{16BitRegister|Unused ?|4|a|2|b|2|c|2|d|2|e|2|f|2}}

Those bank bits are inverted (00 = bank 3, 11 = bank 0).

The words are organized as in the fix map for a PAL screen (first and last lines aren't used): from top to bottom and left to right. The "e" and "f" group of bits are unused in the last column ($75C0+).

Examples:
*Tile at X=0, Y=1 has its bank number in bits a of $7500
*Tile at X=0, Y=5 has its bank number in bits a of $7504
*Tile at X=3, Y=2 has its bank number in bits d of $7501
*Tile at X=7, Y=9 has its bank number in bits b of $7528

[[Category:Video system]]

The [[fix layer]] uses 8x8 pixels tiles. They're coded in a 4 bits per pixel, linear format with oddly mixed columns. Pixels are coded by pairs as bytes, in columns from top to bottom.

Note that the pixel positions are swapped in each byte (the left pixel goes in bits 0~3, the right pixel goes in bits 4~7), and that the first stored column is column A.

[[File:fixgfx.png|center]]

=Size=

One tile is 8 * 8 pixels * 4 bits per pixel = 256 bits = '''32 bytes'''.

=ROM addressing=

&lt;pre>
Bit # ...543210
      ...nHCLLL

n: Tile number (multiple bits)
H: Half, 0 = right, 1 = left
C: Column in half, 0 = left, 1 = right
L: Line number (0~7)
&lt;/pre>

{{Sig|2H1|2H1}} is "C".

[[Category:Video system]]

The fix layer is a non-scrollable, tile-based layer with transparency which has the highest priority on the display (it always overlaps [[sprites]]). It is most often used to display text or HUDs like scores and health bars.

It is somewhat limited compared to sprites:
* Tilesets can only contain a maximum of 4096 tiles (128KiB) without using bankswitching (see below).
* Only the first 16 palettes can be used.

=Graphics format=

Fix tiles are 8*8 pixels, they're stored in the [[S ROM]], or in [[FIX file]]s before getting loaded to [[PSRAM]] in CD systems.
In some MVS systems, there is an embedded fix tileset stored in the [[SFIX ROM]] which can be swapped with the cartridge's one.

The tiles graphics are 4BPP like sprites tiles (15 colors, index 0 is transparent), each can be individually mapped to one of the first 16 [[palettes]] (4bit palette index).

See [[Fix graphics format]] for more details.

=Fix map=

[[File:Fixlayout.png|frame|Fix layout. The grey area is part of the display but only the area in the red rectangle should be used.]]

[[File:Fixlayout-tmpl.png|frame|Complete Fix layout map for reference.]]

The map is in [[VRAM]] starting at address $7000. The area used for display is 40*32 = 1280 words in size, but only 40x28 tiles are drawn in NTSC mode (2 hidden lines on the top and bottom).

Most games don't use the leftmost and rightmost columns, as some CRT screens can cut them off. SNK recomends only using a centered 38x28 safe zone.

Each map entry in VRAM uses a 16 bit word:

{{16BitRegister|Palette number|4|Tile number|12}}

Tiles are mapped from '''top to bottom, and left to right''' (see layout). The {{Reg|VRAM_MOD ($3C0004)}} register can be set to 32 if tiles need to be updated in lines. See [[Displaying text]].

=Bankswitching=

Games using the [[NEO-CMC]] chips are able to use more than 4096 fix tiles by using VRAM space $7500+. See [[Fix bankswitching]].

[[Category:Video system]]

#REDIRECT [[Battle Flip Shot]]

#REDIRECT [[Windjammers]]

[[Category:Games]]

{{GameInfo|right
|en_title=Football Frenzy
|jp_title=Football Frenzy
|jp_title2=フットボールフレンジー
|developer=SNK
|ngh_id=034
|megcount=48
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=fbfrenzy
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=fbfrenzy
|aes_date=21/02/92
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

Active video NTSC: 320 x 224 pixels. Ratio: 1.428:1 (10/7), close to IMAX.

Active video PAL: 320 x 256 pixels (16 pixels more on top and bottom). Ratio: 1.25:1 (5/4).

[[Category:Video system]]

This needs scope measurements.

See [[Display timing]] for details.

=NTSC AES=

# 24.167829MHz main [[clock]] / 4 = 6.041957MHz pixel clock
# 6.041957MHz / 384 pixels per line = '''15.734kHz horizontal rate'''
# 15.734kHz / 264 lines = '''59.599 frames/second'''

=PAL AES=

# 24.167829MHz main [[clock]] / 4 = 6.041957MHz pixel clock
# 6.041957MHz / 384 pixels per line = '''15.734kHz horizontal rate'''
# 15.734kHz / 312 lines = '''50.429 frames/second'''

=MVS=

# 24.000000MHz main clock / 4 = 6.000000MHz pixel clock
# 6MHz / 384 pixels per line = '''15.625kHz horizontal rate'''
# 15.625kHz / 264 lines = '''59.1856 frames/second'''

=CD=

59.52Hz ?

[[Category:Video system]]

[[Image:Screencap_frogfeast.png|thumb|Screenshot]]
'''Frog Feast''' is a game created by RasterSoft for the Neo-Geo and Neo-Geo CD.

==Links==
* [http://frogfeast.rastersoft.net/ Official Frog Feast homepage]
** [http://frogfeast.rastersoft.net/NeoGeoSrc.html Source Code] (cart version)
** [http://frogfeast.rastersoft.net/NeoGeoCDSrc.html Source Code] (CD version)

[[Category:Games]]

#REDIRECT [[Savage Reign]]

[[Category:Games]]

#REDIRECT [[Kizuna Encounter - Super Tag Battle]]

[[Category:Games]]

[[File:Ohconvirl.jpg|thumb|512px]]

The Fusion converter is a low-cost, open hardware [[MVS to AES adapter]] by [[User:furrtek]] using some logic definitions by [[user:kyuusaku]].

=First revision issues=

It has been reported that Metal Slug X does not start on some consoles. It has since been fixed by pulling the /RESET line to 5V via a 1k resistor.

=Project files=

See https://github.com/neogeodev/FusionConverter

[[Category:Chips]]
[[Category:Cartridge systems]]

#REDIRECT [[Pleasure Goal]]

[[Category:Games]]

{{GameInfo|right
|en_title=Galaxy Fight - Universal Warriors
|jp_title=Galaxy Fight - Universal Warriors
|jp_title2=ギャラクシーファイト
|developer=Sunsoft
|ngh_id=078
|megcount=169
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=galaxyfg
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=galaxyfg
|aes_date=25/02/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=21/04/95
}}

[[Category:Games]]

#REDIRECT [[Galaxy Fight - Universal Warriors]]

It seems that the NeoGeo CD wants at least a PRG, FIX, SPR, Z80 and PCM loaded in IPL.TXT, or else it will simply reset after loading.

There must be no more than 512 files on the whole CD.

==Recognized files==

From table in [[System ROM]] dumps:
*[[IPL file]] (no type)
*[[PRG file]]s (type 0)
*[[FIX file]]s (type 1) 
*[[SPR file]]s (type 2)
*[[Z80 file]]s (type 3)
*[[PCM file]]s (type 4)
*[[PAT file]]s (type 5)
*[[TXT file]]s (no type)
*[[OBJ file]]s (type 7)
*A** files, (type 8) ?
*[[SYS file]]s (type ?)
*others ?

[[Category:CD systems]]

{{GameInfo|right
|en_title=Ganryu 
|jp_title=Musashi Ganryuki
|jp_title2=武蔵厳流記
|developer=Visco
|ngh_id=252
|megcount=178
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ganryu
|mvs_date=1999
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

#REDIRECT [[Pop 'n Bounce]]

[[Category:Games]]

#REDIRECT [[Garou - Mark of the Wolves]]

{{GameInfo|right
|en_title=Garou - Mark of the Wolves
|jp_title=Garou - Mark of the Wolves
|jp_title2=餓狼 MARK OF THE WOLVES
|developer=SNK
|ngh_id=253
|megcount=688
|tcrf=https://tcrf.net/Garou:_Mark_of_the_Wolves_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=garou
|mvs_date=1999
|mvs_pchip=NEO-SMA
|mvs_pboard=PROGLBA
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=25/02/2000
}}

[[Category:Games]]

#REDIRECT [[Fatal Fury - King of Fighters]]

[[Category:Games]]

#REDIRECT [[Fatal Fury 2]]

[[Category:Games]]

#REDIRECT [[Fatal Fury 3 - Road to the Final Victory]]

[[Category:Games]]

#REDIRECT [[Fatal Fury Special]]

[[Category:Games]]

*CPU: '''68HC000''' at 12 MHz and '''Z80A''' at 4 MHz
*System ROM: '''128 KiB''' (on cartridge systems)
*Max code ROM: '''2 MiB''' (without bankswitching)
*Work RAM: '''64 KiB'''
*Max FIX tileset: '''128 KiB''' (without bankswitching)
*Max ADPCM-A ROM: '''16 MiB'''
*Max ADPCM-B ROM: '''16 MiB'''
*Max usable Z80 ROM: '''62 KiB''' (without bankswitching)
*Max sprite tileset: '''128 MiB'''
*Max sprites: '''380'''
*Max sprites per line: '''96'''
*VRAM: '''64 KiB + 4 KiB'''
*Colors: '''Max 3840 simultaneous''' colors out of '''65536''' (15 colors * 256 palettes)
*Sound: 14 channels: '''4 FM, 7 ADPCM, 3 PSG'''

Also see [[Comparison with other systems]].

[[Category:Base system]]

{{GameInfo|right
|en_title=Ghost Pilots
|jp_title=Ghost Pilots
|jp_title2=ゴーストパイロット
|developer=SNK
|ngh_id=020
|megcount=55
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=gpilots
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG8M42
|mvs_cboard=CHA-8M
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=17/03/95
}}

[[Category:Games]]

#REDIRECT [[Ghostlop (prototype)]]

{{GameInfo|right
|en_title=Ghostlop (prototype)
|jp_title=ゴーストロップ (プロトタイプ)
|developer=Data East Corporation
|ngh_id=228
|megcount=78
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=ghostlop
|mvs_date=1996 and 2001 (location test only)
|mvs_pchip=None
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
}}

[[Category:Games]]

The location test version uses socketed EPROMs on the PROG board, flash chips on adapter boards for the C ROMs and EPROMs for M1 and S1 on the CHA. It has a piece of cardboard between the 2 boards to avoid shorts because the socketed flash adapter boards are a bit too high and could get shorted with traces on the PROG board.

[[File:Ghostlop.jpg|800px]]

{{GameInfo|right
|en_title=Goal! Goal! Goal!
|jp_title=Goal! Goal! Goal!
|jp_title2=ゴール! ゴール! ゴール!
|developer=Visco
|ngh_id=209
|megcount=110
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=goalx3
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
}}

[[Category:Games]]

#REDIRECT [[Goal! Goal! Goal!]]

#REDIRECT [[Voltage Fighter - Gowcaizer]]

#REDIRECT [[Ghost Pilots]]

This is supposed to be a repair guide that doesn't need much technical knowledge on the graphics hardware to understand. Only cart systems are covered here. Pics are provided for all glitches described and can be used to compare with what shows up on faulty hardware.

=Color problems=

See [[palette RAM]], [[video DAC]], DAC latches, palette address output from NEO-B1 or palette access decode...

=LO ROM=

A dead [[LO ROM]] or its associated buffer can cause sprite rows to be replicated along their height. The [[fix layer]] (most text) isn't affected.

&lt;gallery heights=224px widths=320px>
File:Aof2_bad_lo1.png|How the [[eyecatcher]] might look like (simulated).
File:Aof2_bad_lo2.png|Art of Fighting 2's character select screen (simulated).
File:Bad_lo3.jpg|Actual output of a system with the defect.
&lt;/gallery>

Thanks to GadgetUK164 for the info.

=C ROM=

All sprites come from the [[C ROM]]s. Most graphics on screen are [[sprites]] as the Neo has no dedicated scrolling background layers like other systems. If it moves, scales or appears to be part of a background then assume it's a sprite.

==C ROM address==

[[File:aof2normal.png|thumb|right|Reference pic used in samples]]

C ROM address lines follow this path:

* LSPC2/LSPC-A0 to CHA slot (on multislots it will go through some buffers in between, [[NEO-257]]s or others)
* CHA slot to 74273 or similar(on oldest games)/NEO-273(on most games)/NEO-CMC(on newest games)
* 273/CMC to C ROM address lines

See [[pinouts]] for the slot pin numbers of the P0~23/CA4 signals listed in the table.

The two kind of glitches caused by the first 5 address lines and the upper ones is because of the way the [[sprite graphics format|sprites are drawn]].

===Lower address lines===

A stuck lower address line for C ROMs causes certain patterns with display glitches. The graphics appear to be selected correctly but are glitched in various ways. A bad trace in the path of pins listed in the table can cause the glitch shown in the sample pic.

{| class="wikitable"
|-
! scope="col" | Sample
! scope="col" | Address
! scope="col" | LSPC2-A2&amp;nbsp;out
! scope="col" | LSPC-A0&amp;nbsp;out
! scope="col" | NEO&amp;#8209;273&amp;nbsp;in
! scope="col" | NEO&amp;#8209;273&amp;nbsp;out
! scope="col" | C&amp;nbsp;ROMs&amp;nbsp;in
! scope="col" | Notes
|-
|[[File:C_A0.png|none|thumb|60px]]
|A0
|P16(134)
|P16(98)
|P16(57)
|C_A0(64)
|A0(10)
|1 row of pixels mirrored. Sprites appear "pixelated" as if it's lower res.
|-
|[[File:C_A1.png|none|thumb|60px]]
|A1
|P17(135)
|P17(102)
|P17(59)
|C_A1(1)
|A1(9)
|Sets of 2 rows are mirrored.
|-
|[[File:C_A2.png|none|thumb|60px]]
|A2
|P18(136)
|P18(103)
|P18(25)
|C_A2(32)
|A2(8)
|Sets of 4 rows are mirrored.
|-
|[[File:C_A3.png|none|thumb|60px]]
|A3
|P19(137)
|P19(104)
|P19(27)
|C_A3(33)
|A3(7)
|Sets of 8 rows are mirrored.
|-
|[[File:C_A4.png|none|thumb|60px]]
|A4
|CA4(102)
|CA4(125)
|N/A
|N/A
|A4(6)
|Sets of 8 columns are mirrored. Note [[NEO-273]] isn't used and CA4 on CHA connector goes straight to C ROM A4.
|}

===Higher address lines===

[[File:C_A12.png|thumb|A12 stuck high. Ryo in the bottom right is fine but everything else has the wrong sprites displayed.]]

Higher address lines can cause the 16x16 blocks of sprite graphics to appear without glitches but in completely wrong places.

C ROM address A5 upwards can cause this. The patterns aren't obvious like they are for lower address lines so it's not as easy to diagnose. Graphics from different stages, characters etc. can show up correctly but are misplaced.

&lt;br clear=all>

==C ROM data==

Cut or stuck C ROM data lines create vertical lines '''which move with sprites'''. Health bars and text (S ROM graphics) are fine.

[[File:Kof2k_cglitch.gif]]

=S ROM=

Graphics from the S ROM are used for stationary life bars, credit counters, on screen text and other graphics that don't need to move around. In the reference image, S ROM graphics are used for:
* "SELECT ENEMY"
* "TIME" and "5"
* "COM"
* "LEVEL-4" and "CREDIT 00"

They can't scroll or scale and they always appear on top of all sprites. This can cause S ROM issues to completely cover the screen.

==S ROM address==

S ROM address lines follow the same path as [[Graphic_glitches#C ROM address|C ROM address lines]]. 16 lines are shared with sprites and a single bad trace can affect both depending on what part of the path is affected. The NEO-273 (or whatever else is used) outputs separate S ROM/C ROM addresses from the shared address bus.

===Lower address lines===

Certain patterns appear for bad lower address lines like they do for C ROMs.

{| class="wikitable"
|-
! scope="col" | Sample
! scope="col" | Address
! scope="col" | LSPC2-A2&amp;nbsp;out
! scope="col" | LSPC-A0&amp;nbsp;out
! scope="col" | NEO&amp;#8209;273&amp;nbsp;in
! scope="col" | NEO&amp;#8209;273&amp;nbsp;out
! scope="col" | S&amp;nbsp;ROM&amp;nbsp;in
! scope="col" | Notes
|-
|[[File:S_A0.png|none|thumb|60px]]
|A0
|P12(126)
|P12(52)
|S_A0(48)
|A0(12)
|1 row of pixels mirrored. Appears "pixelated".
|-
|[[File:S_A1.png|none|thumb|60px]]
|A1
|P13(128)
|P13(95)
|P13(53)
|S_A1(49)
|A1(11)
|Sets of 2 rows mirrored.
|-
|[[File:S_A2.png|none|thumb|60px]]
|A2
|P14(129)
|P14(96)
|P14(54)
|S_A2(50)
|A2(10)
|Sets of 4 rows mirrored.
|-
|[[File:S_A3.png|none|thumb|60px]]
|A3
|2H1(107)
|2H1(124)
|N/A
|N/A
|A3(9)
|Sets of 2 columns mirrored. CHA 2H1 goes straight to A3 on S ROM.
|-
|[[File:S_A4.png|none|thumb|60px]]
|A4
|P15(130)
|P15(97)
|P15(55)
|S_A4(51)
|A4(8)
|Sets of 4 columns mirrored.
|}

==S ROM data==

[[File:S_D_0.png|thumb|right|S ROM D0 (FIXD0) stuck high which creates jailbars covering the whole screen]]

Data outputs from the [[S ROM]] go through [[Signals|FIXD0~FIXD7]] on the [[Pinouts|cart slot]].

If any one of these traces is bad then it can cause glitches that cover the entire screen. A single bad output can cause every odd (or even) column of pixels on screen to be obscured.

Sprites below can appear fine correctly if some columns aren't affected.

&lt;br clear=all>

=Internal bus problems=

Glitches which:
* Produce the same color pixel in 2x2 pixel blocks (dotted pattern)
* Horizontally distort or misplace the sprites
Are caused by bad connections between video chips (LSPC2/B1...), not between the console and the cart.

&lt;gallery heights=224px widths=320px>
File:Aof2_dots.png|Cut traces between LSPC2 and NEO-B1, or between LSPC and PRO-B0/PRO-C0 can produce this dotted pattern. Check the four WE lines. (simulated)
File:Glitch_linebuffer.jpg|If the dotted pattern doesn't cover the whole screen, either PRO-B0 or PRO-C0 may be dead. Picture by HPMAN.
File:Terry B1.jpeg|show cut trace on NEO-B1 pin 47 GAD3, connected to cartridge Port Front SLOT 35B. Picture ILLUSIONRIP
File:CMBL SIGNAL.jpeg|cut trace on NEO-B1 pin 85 CMBL, connected to LSPC2-A2 Pin 152. Picture ILLUSIONRIP
&lt;/gallery>

Todo: fix isn't buffered so it shouldn't be affected by WE or CK lines cuts.

[[Category:Repairs]]

=First gen PRO chipset=
*[[LSPC-A0]]
*[[PRO-B0]]
*[[PRO-CT0]]
*[[PRO-C0]]

=Second gen chipset=
*[[LSPC2-A2]], [[NEO-B1]] (most common)
==MVS==
[[File:Gpu2mvs.png]]
==AES==
[[File:Gpu2aes.png]]

=CD gen chipset=
*[[NEO-GRC]]
*[[NEO-OFC]] (CD systems)
*[[NEO-SFT]] new ZMC2 ?

The sprite and fix DRAM bus can be switched between from NEO-OFC and the 68k bus for upload of graphics, thus allowing [[software rendering]].

=Last gen chipset=
*[[NEO-GRZ]]



[[Category:Video system]]

{{GameInfo|right
|en_title=Gururin
|jp_title=Gururin
|jp_title2=ぐるりん
|developer=Face
|ngh_id=067
|megcount=40
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=gururin
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROG16
|mvs_cboard=CHA256
}}

[[Category:Games]]

#REDIRECT [[HD6301V1]]

[[File:crt_hd6301.jpg|right|thumb|HD6301 chip. Picture courtesy of [[http://www.mvs-scans.com MVS-Scans]].]]

8bit Hitachi microcontroller used for [[multiplayer]] communication in [[cartridges]] like [[League Bowling]].

Compatible with the Motorola 6803 but has additionnal instructions.

Clocked at 1MHz using the {{Sig|4MB|4MB}} signal (divided by 4 internally).

==Datasheet==

Official datasheet: [[http://www.datasheetcatalog.org/datasheets2/15/1588588_1.pdf]]

==Code==

The HD6301 has an internal 4KB ROM section holding program data.

A dump is available, coming from a prototype Riding Hero cart: [[File:HD6301.zip]] (2x overdump) - Credits to NeoTurfMasta

Commented source code (still some work left...): https://github.com/neogeodev/COM-HD6301

Another take on it:

&lt;syntaxhighlight>
;Memory map (mode 7 operation):
;
;0000-001F: internal registers
;00 - Port 1 data direction *
;01 - Port 2 data direction *
;02 - Port 1 data
;03 - Port 2 data
;04 - Port 3 data direction *
;05 - Port 4 data direction *
;06 - Port 3 data
;07 - Port 4 data
;08 - Timer control and status
;09 - Counter (MSB)
;0a - Counter (LSB)
;0b - Output compare (MSB)
;0c - Output compare (LSB)
;0d - Input capture (MSB)
;0e - Input capture (LSB)
;0f - Port 3 control and status
;		{/IS3 flag|/IS3 /IRQ1 enable|-|OSS|latch enable|-|-|-}
;10 - Rate and mode control
;		{-|-|-|-|CC1|CC0|SS1|SS0}
;			SSx: SCI bit times &amp; transfer rate
;			CCx: SCI format  &amp; clock source
;11 - Transmit/receive control and status
;		{RDRF|ORFE|TDRE|RIE|RE|TIE|TE|WU}
;			WU: wake up
;			TE: transmit enable
;			TIE: transmit interrupt enable
;			RE: receive enable
;			RIE: receive interrupt enable
;			TDRE: transmit data register empty
;			ORFE: over run framing error
;			RDRF: receive data register full
;12 - Receive data
;13 - Transmit data
;14 - RAM control
;		{Standby|RAME|-|-|-|-|-|-}
;15-1F: reserved
;	* 1=output 0=input
;-------------------------
;0080-00FF: RAM (128B)
;-------------------------
;F000-FFFF: ROM (4KB)

;RAM map:

;$80-$8c: 13 bytes buffer
;$8d-$99: 13 bytes buffer
;$9a-$a6: 13 bytes buffer
;$a7-$b3: 13 bytes buffer
;storage buffers

;$b4-$c1: 1+13 bytes SCI data transmit buffer	
;$c2-$cf: 1+13 bytes SCI data receive buffer
;data is moved from/to storage buffers, 1st byte holds storage buffer #

;$d0-$dd: 14 bytes 68k comm buffer
;writes are done $d0 to $de, reads $d1 to $df

;$de: buffer #0 status	//0xff=free
;$df: buffer #1 status
;$e0: buffer #2 status
;$e1: buffer #3 status

;$e2: error count? (increased by framing error or TRAP)
;$e3: buffers table index (0-3). next buffer #?
;$e4: buffers in use bitflag (bit0-3) [0x01 / 0x02 / 0x04 / 0x08 ]
;$e5:	receipt buffer ($c2) index
;$e6: store port3 lower 2 bits in cmd#5, seemingly unused?
;$e7: current buffer #? (0-3, 0xff init)
;$e8: 68k comm buffer index?
;$e9: port3 written data
;$ea: transmit buffer ($b4) index
;$eb: bitflags
;		#0: IS3# occured (data written on port3)
;		#1: RDRF/ORFE occured (data received / framing error)
;		#2: ? (tr related) byte added in buffer for trasmission flag?
;$ec: SCI transmit/receive status ($11 copy)
;$ed :SCI received data ($12 copy)
;$ee(word) : current buffer address? (0x0080 / 0x008d / 0x009a / 0x00a7)
;$f0: main loop counter (SCI irq cleared)
;$f1: port1 data, bitflags
;		#0: 75176 DE pin
;		#4: general error report
;		#5: ? 68k comm buffer processing related
;		#6: framing error report
;		#7: 68k acknowledge bit (toggled after each processed write to port 3)
;$f2: port3 related flags. data is a cmd when 0x00 / 0xff=write buffer? / 0xfe=read buffer?
;$f3: port 3 related - read/write data count
;$f4-$f7: buffer indexes? SCI receive related?
;$f8-$ff: stack

;entry point
F000: 0F         sei				;disable interrupts
F001: 8E 00 FF   lds     #$00FF		;stack pointer = 0x00ff

;clear ram
F004: CE 00 80   ldx     #$0080		;x=0x0080
F007: 6F 7F      clr     (x+$7F)	;$(x+0x7f)=0x00
F009: 09         dex				;x--
F00A: 26 FB      bne     $F007		;loop if x>0

;init stage (timer regs 08 09 0a 0b 0c 0d 0e unused)
F00C: 86 40      lda     #$40
F00E: 97 14      sta     $14		;$14=0x40				//enable RAM (after clearing it, lolz)
F010: 86 04      lda     #$04
F012: 97 10      sta     $10		;$10=0x04				//rate/mode settings: 62.500 bauds?, NRZ format, internal clock, P22 unused, P23=serial input, P24=serial output
F014: 86 1A      lda     #$1A
F016: 97 11      sta     $11		;$11=0x1a				//transmit/receive settings: receive enable, receive interrupt enable, transmit enable, transmit interrupt disable
F018: 86 48      lda     #$48
F01A: 97 0F      sta     $0F		;$0f=0x48				//port3 settings: enable /IS3, output strobe on port3 read, latch enable
F01C: 96 11      lda     $11		;a=$11
F01E: 96 12      lda     $12		;a=$12 					//read t/r status register &amp; data to clear flags
F020: 86 F1      lda     #$F1
F022: 97 00      sta     $00		;$00=0xf1				//port1 bits 76540 as output, 321 as input
F024: 86 00      lda     #$00
F026: 97 02      sta     $02		;$02=0x00				//port1 = 0x00
F028: 86 00      lda     #$00
F02A: 97 04      sta     $04		;$04=0x00				//port3 as input
F02C: 86 FF      lda     #$FF
F02E: 97 05      sta     $05		;$05=0xff				//port4 as output
F030: 96 06      lda     $06		;a=$06 					//read port3 to release latch
F032: 86 FF      lda     #$FF
F034: B7 00 E9   sta     $00E9		;$e9=0xff
F037: B7 00 DE   sta     $00DE		;$de=0xff
F03A: B7 00 DF   sta     $00DF		;$df=0xff
F03D: B7 00 E0   sta     $00E0		;$e0=0xff
F040: B7 00 E1   sta     $00E1		;$e1=0xff
F043: B7 00 B4   sta     $00B4		;$b4=0xff
F046: B7 00 C2   sta     $00C2		;$c2=0xff
F049: B7 00 E9   sta     $00E9		;$e9=0xff
F04C: B7 00 E7   sta     $00E7		;$e7=0xff
F04F: CC 00 80   ldd     #$0080
F052: FD 00 EE   std     $00EE		;(word)$ee=0x0080
F055: 0E         cli				;enable interrupts

;main loop
F056: 96 02      lda     $02		;a=port1 data
F058: 85 02      bita    #$02		;bit#1 set?
F05A: 27 33      beq     $F08F		;not set? =>branch $f08f

;resets+idle microcontroller while P11 is high (SLOTCS on MVS, grounded on NEOGEO)
F05C: 4F         clra
F05D: 97 02      sta     $02
F05F: B7 00 E2   sta     $00E2		;$e2=0x02
F062: B7 00 E5   sta     $00E5		;$e5=0x02
F065: B7 00 E8   sta     $00E8		;$e8=0x02
F068: B7 00 EA   sta     $00EA		;$ea=0x02
F06B: B7 00 EB   sta     $00EB		;$eb=0x02
F06E: B7 00 F1   sta     $00F1		;$f1=0x02
F071: B7 00 F2   sta     $00F2		;$f2=0x02
F074: B7 00 F3   sta     $00F3		;$f3=0x02
F077: 4A         deca
F078: B7 00 B4   sta     $00B4		;$b4=0x01
F07B: B7 00 C2   sta     $00C2		;$b2=0x01
F07E: B7 00 DE   sta     $00DE		;$de=0x01
F081: B7 00 DF   sta     $00DF		;$df=0x01
F084: B7 00 E0   sta     $00E0		;$e0=0x01
F087: B7 00 E1   sta     $00E1		;$e1=0x01
F08A: B7 00 E9   sta     $00E9		;$e9=0x01
F08D: 20 C7      bra     $F056		;loop to main

;bit #1 not set
F08F: 7C 00 F0   inc     $00F0		;$f0++
F092: B6 00 EB   lda     $00EB		;a=$eb
F095: 85 01      bita    #$01		;bit #0 set?		(port3 received data?)
F097: 26 03      bne     $F09C		;yes? =>branch $f09c
F099: 7E F1 93   jmp     $F193


;*******************************************************************
;****************** 68k comm processing (port 3) *******************
;*******************************************************************
;data has been written to port 3
F09C: 71 FE EB   aim     #$FE,$EB	;$eb &amp;= 0xfe			//clear data_in flag
F09F: 75 80 F1   eim     #$80,$F1	;$f1 ^= 0x80			//toggle bit#7 to ack
F0A2: B6 00 F2   lda     $00F2		;a=$f2
F0A5: 26 10      bne     $F0B7		;not 0? => branch $f0b7

;************ received byte is a command **************
F0A7: F6 00 E9   ldb     $00E9		;b=$e9					//byte that has been written to port3
F0AA: C4 F0      andb    #$F0		;b &amp;= 0xf0
F0AC: CE F4 DA   ldx     #$F4DA		;x=pointers table
F0AF: 54         lsrb
F0B0: 54         lsrb
F0B1: 54         lsrb				;b>>=3					//not >>=4 because word table
F0B2: 3A         abx				;x+=b
F0B3: EE 00      ldx     (x+$00)	;x=pointer data
F0B5: 6E 00      jmp     (x+$00)	;jump to ptr value		//jump fo funcs[port3 data upper nibble]

;************ received byte isn't a command ($f2!=0x00) **************
;(a holds $f2)
F0B7: 85 01      bita    #$01		;a bit#0?
F0B9: 27 23      beq     $F0DE		;not set? => branch $f0de

;$f2 bit#0 set (0xff) - buffer write ops
F0BB: F6 00 E8   ldb     $00E8		;b=$e8
F0BE: F1 00 F3   cmpb    $00F3		;b==$f3?
F0C1: 27 54      beq     $F117		;yes? => branch $f117
;$f2bit#0 set (0xff), $e8!=$f3
F0C3: CE 00 D0   ldx     #$00D0		;x=0x00d0
F0C6: 3A         abx				;x+=b					//x=0x00d0+$e8 (0xd0[$e8])
F0C7: B6 00 E9   lda     $00E9		;a=$e9 (port3 data)
F0CA: A7 00      sta     (x+$00)	;$x=a					//0xd0[$e8]=port3 data
F0CC: A6 01      lda     (x+$01)	;a=$x+1
F0CE: 97 07      sta     $07		;port4=a				//outputs 0xd0[$e8+1] to 68k
F0D0: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F0D3: B6 00 F1   lda     $00F1		;a=$f1
F0D6: 97 02      sta     $02		;port1=a				//update status
F0D8: 7C 00 E8   inc     $00E8		;$e8++					//index++
F0DB: 7E F1 93   jmp     $F193		;branch $f193

;----------
;$f2 bit#0 not set (0xfe) - buffer read ops
F0DE: F6 00 E8   ldb     $00E8		;b=$e8
F0E1: F1 00 F3   cmpb    $00F3		;b==$f3?
F0E4: 27 16      beq     $F0FC		;yes? => branch $f0fc
;$f2 bit#0 not set (0xfe), $e8!=$f3
F0E6: CE 00 D0   ldx     #$00D0		;x=0x00d0
F0E9: 3A         abx				;x+=b					//x=0x00d0+$e8  (0xd0[$e8])
F0EA: A6 01      lda     (x+$01)	;a=$x+1
F0EC: 97 07      sta     $07		;port4=a				//outputs 0xd0[$e8+1] to 68k
F0EE: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F0F1: B6 00 F1   lda     $00F1		;a=$f1
F0F4: 97 02      sta     $02		;port1=a				//status update
F0F6: 7C 00 E8   inc     $00E8		;$e8++					//increase index
F0F9: 7E F1 93   jmp     $F193		;branch $f193
;$f2 bit#0 not set (0xfe), $e8==$f3 (last read)
F0FC: CE 00 D0   ldx     #$00D0		;x=0x00d0
F0FF: 3A         abx				;x+=b					//x=0x00d0+$e8  (0xd0[$e8])
F100: A6 00      lda     (x+$00)	;a=$x			
F102: 43         coma				;a=~a
F103: 97 07      sta     $07		;port4=a				//outputs ~(0xd0[$e8]) to 68k
F105: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F108: B6 00 F1   lda     $00F1		;a=$f1
F10B: 97 02      sta     $02		;port1=a				//status update
F10D: 4F         clra				;a=0x00
F10E: B7 00 E8   sta     $00E8		;$e8=0x00				//index=0
F111: B7 00 F2   sta     $00F2		;$f2=0x00				//next port3 write is a command
F114: 7E F1 93   jmp     $F193		;branch $f193
;----------

;$f2 bit#0 set (0xff), $e8==$f3 (last write)
F117: 4F         clra				;a=0x00
F118: B7 00 F2   sta     $00F2		;$f2=0x00				//next port3 write is a command
F11B: CE 00 CF   ldx     #$00CF		;x=0x00cf
F11E: 3A         abx				;x+=b					//x+=$e8 content  0xcf[$e8]
F11F: A6 00      lda     (x+$00)	;a=(x)					//a=0xcf[$e8]
F121: 43         coma				;a=~a
F122: B1 00 E9   cmpa    $00E9		;a==$e9?				//port3 written data==~a ?
F125: 27 16      beq     $F13D		;yes? => branch $f13d
	;port3 written data!=~a
F127: A6 01      lda     (x+$01)	;a=(x+1)				//a=0xcf[$e8+1]
F129: 43         coma				;a=~a
F12A: 97 07      sta     $07		;$07=a					//port4=a   outputs ~(0xcf[$e8+1]) to 68k
F12C: 72 20 F1   oim     #$20,$F1	;$f1|=0x20				//set bit#5
F12F: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xf1				//clear bit#123
F132: B6 00 F1   lda     $00F1		;a=$f1
F135: 97 02      sta     $02		;port1=a				//status update
F137: 7F 00 E8   clr     $00E8		;$e8=0x00				//index=0
F13A: 7E F1 93   jmp     $F193		;branch $f193			//SCI block

;data==~a
F13D: F6 00 E7   ldb     $00E7		;b=$e7
F140: C1 FF      cmpb    #$FF		;b==0xff?
F142: 26 15      bne     $F159		;nope? => branch $f159
;need to pick a buffer
F144: A6 01      lda     (x+$01)	;a=$x+1
F146: 97 07      sta     $07		;port4=a				//output data
F148: 72 20 F1   oim     #$20,$F1	;$f1|=0x20				//set bit#5
F14B: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F14E: B6 00 F1   lda     $00F1		;a=$f1
F151: 97 02      sta     $02		;port1=a				//update status port
F153: 7F 00 E8   clr     $00E8		;$e8=0
F156: 7E F1 93   jmp     $F193		;branch $f193
;$e7!=0xff
F159: A6 01      lda     (x+$01)	;a=$x+1
F15B: 43         coma				;a=~a
F15C: 97 07      sta     $07		;port4=a				//output data
F15E: 4F         clra				;a=0x00
F15F: 18         xgdx				;d&lt;->x
F160: 6F DE      clr     (x+$DE)	;$x+0xde=0x00
F162: 71 CF F1   aim     #$CF,$F1	;$f1&amp;=0xcf				//clear bit#4 &amp; bit #5
F165: B6 00 F1   lda     $00F1		;a=$f1
F168: 97 02      sta     $02		;port1=a				//update status port
F16A: 7F 00 E8   clr     $00E8		;$e8=0x00				//index=0
F16D: FE 00 EE   ldx     $00EE		;x=$ee

F170: FC 00 D0   ldd     $00D0		;d=$d0
F173: ED 00      std     (x+$00)	;$x=d
F175: FC 00 D2   ldd     $00D2		;d=$d2
F178: ED 02      std     (x+$02)	;$x+2=d
F17A: FC 00 D4   ldd     $00D4		;d=$d4
F17D: ED 04      std     (x+$04)	;$x+4=d
F17F: FC 00 D6   ldd     $00D6		;d=$d6
F182: ED 06      std     (x+$06)	;$x+6=d
F184: FC 00 D8   ldd     $00D8		;d=$d8
F187: ED 08      std     (x+$08)	;$x+8=d
F189: FC 00 DA   ldd     $00DA		;d=$da
F18C: ED 0A      std     (x+$0A)	;$x+0x0a=d
F18E: B6 00 DC   lda     $00DC		;a=$dc
F191: A7 0C      sta     (x+$0C)	;$x+0x0c=a				//copy 13 bytes


;*******************************************************************
;************************* SCI processing **************************
;*******************************************************************

F193: B6 00 EB   lda     $00EB		;a=$eb
F196: 85 02      bita    #$02		;a bit#1 set?  (RDRF/ORFE occured)
F198: 26 03      bne     $F19D		;set? => branch $f19d
F19A: 7E F2 57   jmp     $F257

;RDRF/ORFE occured ($eb bit#1 set)
F19D: 71 FD EB   aim     #$FD,$EB	;$eb&amp;=0xfd				//clear bit#1
F1A0: F6 00 EC   ldb     $00EC		;b=$ec					//load status byte
F1A3: C5 40      bitb    #$40		;b bit#6?				//ORFE ?
F1A5: 26 07      bne     $F1AE		;set? => branch $f1ae
F1A7: C5 80      bitb    #$80		;b bit#7?				//RDRF ?
F1A9: 26 23      bne     $F1CE		;set? => branch $f1ce
F1AB: 7E F2 57   jmp     $F257		;branch $f257			//something else occured, skipping

;ORFE processing (framing error)			//resets SCI transmit and receive buffers
F1AE: 4F         clra				;a=0x00
F1AF: B7 00 E5   sta     $00E5		;$e5=a					//$e5=0x00
F1B2: B7 00 EA   sta     $00EA		;$ea=a					//$ea=0x00		T/R indexes=0
F1B5: 4A         deca				;a=0xff
F1B6: B7 00 C2   sta     $00C2		;$c2=a					//$c2=0xff
F1B9: B7 00 B4   sta     $00B4		;$b4=a					//$b4=0xff		clear buffer links
F1BC: 7C 00 E2   inc     $00E2		;$e2++					//error count++
F1BF: B6 00 F1   lda     $00F1		;a=$f1
F1C2: 8A 40      ora     #$40		;a|=0x40				//set bit#6
F1C4: 84 FE      anda    #$FE		;a&amp;=0xfe				//clear bit#0
F1C6: B7 00 F1   sta     $00F1		;$f1=a
F1C9: 97 02      sta     $02		;port1=a				//update status (clear 75176 DE pin, report framing error)
F1CB: 7E F2 57   jmp     $F257		;branch $f257

;RDRF processing (receive register full)
F1CE: F6 00 E5   ldb     $00E5		;b=$e5					//receive buffer index
F1D1: C1 0D      cmpb    #$0D		;b==0x0d?				//going to fill last buffer space?
F1D3: 27 10      beq     $F1E5		;yes? => branch $f1e5

F1D5: 4F         clra				;a=0x00
F1D6: 18         xgdx				; d&lt;->x					//x=buffer index
F1D7: B6 00 ED   lda     $00ED		;a=$ed					//SCI received data
F1DA: A7 C2      sta     (x+$C2)	;$x+0xc2=a				//receive buffer[index]=received data
F1DC: 7C 00 E5   inc     $00E5		;$e5++					//increase index
F1DF: 72 04 EB   oim     #$04,$EB	;$eb|=0x04				//set bit#2
F1E2: 7E F2 57   jmp     $F257		;branch $f257

;receive register full and receive buffer full
F1E5: 71 FE F1   aim     #$FE,$F1	;$f1&amp;=0xfe				//clear bit#0
F1E8: B6 00 F1   lda     $00F1		;a=$f1
F1EB: 97 02      sta     $02		;port1=a				//update status (clear 75176 DE pin)
F1ED: 4F         clra				;a=0x00
F1EE: 18         xgdx				;d&lt;->x					//x=0x000d
F1EF: B6 00 ED   lda     $00ED		;a=$ed					//SCI received data
F1F2: A7 C2      sta     (x+$C2)	;$x+0xc2=a				//$cf=received data (buffer now full)
F1F4: 4F         clra				;a=0x00
F1F5: B7 00 EA   sta     $00EA		;$ea=a					//$ea=0x00
F1F8: B7 00 E5   sta     $00E5		;$e5=a					//$e5=0x00
F1FB: 4A         deca				;a=0xff
F1FC: B7 00 B4   sta     $00B4		;$b4=a					//$b4=0xff, reset transmit buffer
F1FF: B6 00 C2   lda     $00C2		;a=$c2					//a=receive buffer status

F202: 84 03      anda    #$03		;a&amp;=0x03
F204: 4C         inca				;a++					//a=($c2&amp;0x03)+1
F205: C6 01      ldb     #$01		;b=0x01

F207: 58         aslb				;b&lt;&lt;=1
F208: 4A         deca				;a--
F209: 26 FC      bne     $F207		;loop 4 times			//b&lt;&lt;=4
F20B: 54         lsrb				;b>>=1					//b>>=1
F20C: FA 00 E4   orb     $00E4		;b|=$e4
F20F: F7 00 E4   stb     $00E4		;$e4=b					//$e4|=b		update buffer usage bit set
F212: F6 00 C2   ldb     $00C2		;b=$c2
F215: C4 03      andb    #$03		;b&amp;=0x03				//b=$c2&amp;0x03
F217: CE 00 F4   ldx     #$00F4		;x=0x00f4
F21A: 3A         abx				;x+=b
F21B: 6F 00      clr     (x+$00)	;$x=0x00				//$f4[b]=0x00
F21D: F1 00 E7   cmpb    $00E7		;b==$e7?
F220: 27 30      beq     $F252		;yes? => branch $f252

F222: CE F4 FA   ldx     #$F4FA		;x=data table
F225: 3A         abx				;x+=b
F226: 3A         abx				;x+=b
F227: 5C         incb				;b++
F228: C4 03      andb    #$03		;b&amp;=0x03
F22A: F7 00 E3   stb     $00E3		;$e3=b					//store updated buffer#
F22D: EE 00      ldx     (x+$00)	;x=(word)data[b]		//x=buffer addr
F22F: FC 00 C3   ldd     $00C3		;d=$c3
F232: ED 00      std     (x+$00)	;(word)buffer[0]=d
F234: FC 00 C5   ldd     $00C5		;d=$c5
F237: ED 02      std     (x+$02)	;(word)buffer[1]=d
F239: FC 00 C7   ldd     $00C7		;d=$c7
F23C: ED 04      std     (x+$04)	;(word)buffer[2]=d
F23E: FC 00 C9   ldd     $00C9		;d=$c9
F241: ED 06      std     (x+$06)	;(word)buffer[3]=d
F243: FC 00 CB   ldd     $00CB		;d=$cb
F246: ED 08      std     (x+$08)	;(word)buffer[4]=d
F248: FC 00 CD   ldd     $00CD		;d=$cd
F24B: ED 0A      std     (x+$0A)	;(word)buffer[5]=d
F24D: B6 00 CF   lda     $00CF		;a=$cf
F250: A7 0C      sta     (x+$0C)	;(byte)buffer[0xc]=a	//copy receive buffer to storage buffer (13 bytes)
F252: 86 FF      lda     #$FF		;a=0xff
F254: B7 00 C2   sta     $00C2		;$c2=a					//$c2=0xff  (untie storage buffer)

;RDRF/ORFE didn't occur ($eb bit#1 not set) / after processing it
F257: B6 00 F0   lda     $00F0		;a=$f0
F25A: 81 28      cmpa    #$28		;a-0x28 (40)
F25C: 25 38      bcs     $F296		;a&lt;0x28 ? => branch $f296

;main looped more than 40 times (after last RDRF/ORFE interrupt)
F25E: CE 00 F4   ldx     #$00F4		;x=0x00f4
F261: F6 00 E3   ldb     $00E3		;b=$e3
F264: 3A         abx				;x+=b					//x=0x00f4 + buffer table index (f4-f7)
F265: A6 00      lda     (x+$00)	;a=(x)
F267: 4C         inca				;a++
F268: 81 0A      cmpa    #$0A		;a==0x0a?				//index == 0x0a ?
F26A: 26 10      bne     $F27C		;nope? => branch $f27c

F26C: 86 01      lda     #$01		;a=0x01
F26E: 5C         incb				;b++
F26F: 48         asla				;a&lt;&lt;=1
F270: 5A         decb				;b--
F271: 26 FC      bne     $F26F		;!=0? => branch $f26f
F273: 44         lsra				;a>>=1					//a=buffer bitflag (0x08 / 0x04 / 0x02 / 0x01)
F274: 43         coma				;a=~a
F275: B4 00 E4   anda    $00E4		;a&amp;=$e4
F278: B7 00 E4   sta     $00E4		;$e4=a					//clear buffer usage bit
F27B: 4F         clra				;a=0x00

F27C: A7 00      sta     (x+$00)	;(x)=a					//update index
F27E: 7C 00 E3   inc     $00E3		;$e3++					//next buffer#
F281: 71 03 E3   aim     #$03,$E3	;$e3&amp;=0x03				//crop buffer#
F284: 4F         clra				;a=0x00
F285: B7 00 E5   sta     $00E5		;$e5=0x00				//$e5=0
F288: B7 00 EA   sta     $00EA		;$ea=0x00				//$ea=0
F28B: B7 00 F0   sta     $00F0		;$f0=0x00				//reset counter
F28E: 71 FE F1   aim     #$FE,$F1	;$f1&amp;=0xfe				//clear bit#0	(75176 DE pin)
F291: B6 00 F1   lda     $00F1		;a=$f1
F294: 97 02      sta     $02		;port1=a				//update status

;$f0&lt;=0x28
;main looped less than 40 times / continue
F296: 96 11      lda     $11		;t/r control &amp; status
F298: 85 20      bita    #$20		;TDRE?
F29A: 27 6D      beq     $F309		;nope? => branch $f309	//transmit register not empty, exit
;transmit data register is empty, check for next byte to transmit
F29C: B6 00 B4   lda     $00B4		;a=$b4
F29F: 81 FF      cmpa    #$FF		;a==0xff?
F2A1: 26 66      bne     $F309		;no? => branch $f309	//transmit buffer not ready, exit

F2A3: 4F         clra				;a=0
F2A4: F6 00 E7   ldb     $00E7		;b=$e7					//current buffer#
F2A7: C1 FF      cmpb    #$FF		;b==$ff?
F2A9: 27 5E      beq     $F309		;yes? => branch $f309	//no current buffer selected, exit

F2AB: 18         xgdx				;d&lt;->x
F2AC: E6 DE      ldb     (x+$DE)	;b=(x+0xde)				//b=$de[current buffer] (current buffer status)
F2AE: 26 59      bne     $F309		;!=0? branch $f309		//buffer status!=0, exit

F2B0: FA 00 EA   orb     $00EA		;b|=$ea
F2B3: FA 00 E5   orb     $00E5		;b|=$e5
F2B6: 26 51      bne     $F309		;!=0? branch $f309		//transmit/receive buffers index!=0, exit

F2B8: 18         xgdx				;d&lt;->x
F2B9: F8 00 E3   eorb    $00E3		;b|=$e3					//b=$e7|$e3
F2BC: 26 4B      bne     $F309		;!=0? branch $f309		//not both 0, exit

F2BE: FE 00 EE   ldx     $00EE		;x=$00ee				//buffer addr
F2C1: EC 00      ldd     (x+$00)	;d=(word)buffer[0]
F2C3: FD 00 B5   std     $00B5		;$b5=d
F2C6: EC 02      ldd     (x+$02)	;d=(word)buffer[1]
F2C8: FD 00 B7   std     $00B7		;$b7=d
F2CB: EC 04      ldd     (x+$04)	;d=(word)buffer[2]
F2CD: FD 00 B9   std     $00B9		;$b9=d
F2D0: EC 06      ldd     (x+$06)	;d=(word)buffer[3]
F2D2: FD 00 BB   std     $00BB		;$bb=d
F2D5: EC 08      ldd     (x+$08)	;d=(word)buffer[4]
F2D7: FD 00 BD   std     $00BD		;$bd=d
F2DA: EC 0A      ldd     (x+$0A)	;d=(word)buffer[5]
F2DC: FD 00 BF   std     $00BF		;$bf=d
F2DF: A6 0C      lda     (x+$0C)	;a=(byte)buffer[0xc]
F2E1: B7 00 C1   sta     $00C1		;$c1=a					//copy work buffer into transmit buffer (13bytes)
F2E4: B6 00 E7   lda     $00E7		;a=$e7
F2E7: B7 00 B4   sta     $00B4		;$b4=a					//store buffer # we are holding

F2EA: 72 01 F1   oim     #$01,$F1	;$f1|=0x01				//set bit#0
F2ED: F6 00 F1   ldb     $00F1		;b=$f1
F2F0: D7 02      stb     $02		;port1=b				//update status (enable 75176 DE)

F2F2: 97 13      sta     $13		;transmit data=a		//transmit buffer #?
F2F4: 71 FB EB   aim     #$FB,$EB	;$eb&amp;=0xfb				//clear bit#2
F2F7: 7C 00 EA   inc     $00EA		;$ea++					//inc index
F2FA: 7C 00 E3   inc     $00E3		;$e3++					//inc buffer#
F2FD: 71 03 E3   aim     #$03,$E3	;$e3&amp;=0x03				//trim buffer#
F300: 4F         clra				;a=0x00
F301: F6 00 E7   ldb     $00E7		;$e7=b
F304: 18         xgdx				;d&lt;->x
F305: 86 FF      lda     #$FF		;a=0xff
F307: A7 DE      sta     (x+$DE)	;(x+0xde)=0xff			//buffer status[buffer that was copied]=0xff

;transmits a byte if available then loop
F309: B6 00 EB   lda     $00EB		;a=$eb
F30C: 85 04      bita    #$04		;bit#2 set?				//new byte received?
F30E: 27 2F      beq     $F33F		;not set? => f33f		//loop back to main

F310: B6 00 F0   lda     $00F0		;a=$f0
F313: 81 0F      cmpa    #$0F		;a-0x0f					//main looped > 15 times without SCI irq?
F315: 25 28      bcs     $F33F		;a&lt;0x0f? =>branch $f33f	//loop back to main

F317: B6 00 B4   lda     $00B4		;a=$b4
F31A: 81 FF      cmpa    #$FF		;a==0xff?				//nothing to transmit?
F31C: 27 21      beq     $F33F		;yes? => branch $f33f	//loop back to main

F31E: 96 11      lda     $11		;a= t/r status
F320: 85 20      bita    #$20		;TDRE set?				//transmit register available?
F322: 27 1B      beq     $F33F		;nope? => branch $f33f	//loop back to main

F324: F6 00 EA   ldb     $00EA		;b=$ea
F327: C1 0E      cmpb    #$0E		;b==0x0e?				//buffer fully transmitted?
F329: 27 14      beq     $F33F		;yes? => branch $f33f	//loop back to main

F32B: 71 FB EB   aim     #$FB,$EB	;$eb&amp;=0xfb				//clear bit#2
F32E: 4F         clra				;a=0
F32F: 18         xgdx				;d&lt;->x
F330: A6 B4      lda     (x+$B4)	;a=$x+0xb4				//a=transmit buffer[$ea]
F332: 7C 00 EA   inc     $00EA		;$ea++					//inc transmit buffer index
F335: 72 01 F1   oim     #$01,$F1	;$f1|=0x01				//set bit#0
F338: F6 00 F1   ldb     $00F1		;b=$f1
F33B: D7 02      stb     $02		;port1=b				//update status (enable 75176 DE)
F33D: 97 13      sta     $13		;transmit=a				//transmit a
F33F: 7E F0 56   jmp     $F056		;branch $f056			//loop back to main


;*******************************************************************
;**************************** commands *****************************
;*******************************************************************
;lbowl: 00 00 00.. 20 51
;command 0x9* - reset microcontroller
F342: 0F         sei				;disable interrupts
F343: CE 00 80   ldx     #$0080		;x=0x80
F346: 6F 7F      clr     (x+$7F)	;(x+0x7f)=0x00
F348: 09         dex				;x--
F349: 26 FB      bne     $F346		;loop of x>0			//clear RAM
F34B: 7E F0 00   jmp     $F000		;restart

;command 0x0* - dummy / clear error flag
F34E: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F351: B6 00 F1   lda     $00F1		;a=$f1
F354: 97 02      sta     $02		;port1=a
F356: 7E F1 93   jmp     $F193		;branch $f193

;command 0x2* - write $e7 to port4 (buffer# currently in use?)
F359: B6 00 E7   lda     $00E7		;a=$e7
F35C: 97 07      sta     $07		;port4=a
F35E: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F361: B6 00 F1   lda     $00F1		;a=$f1
F364: 97 02      sta     $02		;port1=a
F366: 7E F1 93   jmp     $F193		;branch $f193

;command 0x1* - select buffer[lower 2 bits] ?
F369: B6 00 E9   lda     $00E9		;a=$e9					//port3 data
F36C: 16         tab				;b=a
F36D: 84 0C      anda    #$0C		;a&amp;=0x0c				//keep bit#3 &amp; bit#2
F36F: 26 65      bne     $F3D6		;!=0? => branch $f3d6	//error if buffer#>3
F371: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F374: B6 00 F1   lda     $00F1		;a=$f1
F377: 97 02      sta     $02		;port1=a				//update status port

F379: C4 03      andb    #$03		;b&amp;=0x03				//beep bit#1 &amp; bit#0
F37B: F7 00 E7   stb     $00E7		;$e7=b					//store buffer# in use?
F37E: CE F4 FA   ldx     #$F4FA		;x=data table
F381: 3A         abx				;x+=b
F382: 3A         abx				;x+=b
F383: EC 00      ldd     (x+$00)	;d=(word)data[b]		//x=buffer[lower 2 bits]
F385: FD 00 EE   std     $00EE		;(word)$ee=d			//store current buffer addr
F388: C6 01      ldb     #$01		;b=0x01
F38A: B6 00 E9   lda     $00E9		;a=$e9					//port3 data
F38D: 84 03      anda    #$03		;a&amp;=0x03				//keep bit#1 &amp; bit#0
F38F: 4A         deca				;a--
F390: 2B 04      bmi     $F396		;&lt;0? => branch $f396
F392: 58         aslb				;b&lt;&lt;=1
F393: 7E F3 8F   jmp     $F38F		;loop
F396: FA 00 E4   orb     $00E4		;b|=$e4
F399: F7 00 E4   stb     $00E4		;$e4=b					//$e4|=(0x01&lt;&lt;buffer#)	flag as in use
F39C: 7E F1 93   jmp     $F193		;branch $f193

;command 0x4* - $f3=lower nibble, $f2=0xfe
;sets up a read of x (lower nibble) values?
F39F: B6 00 E9   lda     $00E9		;a=$e9					//port 3 data
F3A2: 84 0F      anda    #$0F		;a&amp;=0x0f
F3A4: B7 00 F3   sta     $00F3		;$f3=a					//store lower nibble
F3A7: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F3AA: B6 00 F1   lda     $00F1		;a=$f1
F3AD: 97 02      sta     $02		;port1=a				//update status port
F3AF: 86 FE      lda     #$FE		;a=0xfe
F3B1: B7 00 F2   sta     $00F2		;$f2=a					//$f2=0xfe
F3B4: 7E F1 93   jmp     $F193		;branch $f193

;command 0x3*, 0xa* - if($e7!=0xff) $f3=lower nibble, $f2=0xff
;sets up a write of x (lower nibble) values?
F3B7: B6 00 E7   lda     $00E7		;a=$e7
F3BA: 81 FF      cmpa    #$FF		;==0xff?
F3BC: 27 18      beq     $F3D6		;yes? => branch $f3d6	//branch to error if $e7==0xff (no buffer selected)
F3BE: B6 00 E9   lda     $00E9		;a=$e9					//port3 data
F3C1: 84 0F      anda    #$0F		;a&amp;=0x0f
F3C3: B7 00 F3   sta     $00F3		;$f3=a					//store lower nibble
F3C6: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F3C9: B6 00 F1   lda     $00F1		;a=$f1
F3CC: 97 02      sta     $02		;port1=a				//update status port
F3CE: 86 FF      lda     #$FF		;a=0xff
F3D0: B7 00 F2   sta     $00F2		;$f2=a					//$f2=0xff
F3D3: 7E F1 93   jmp     $F193		;branch $f193

;command 0xd*, 0xe*, 0xf* - issue error
F3D6: 72 10 F1   oim     #$10,$F1	;$f1|=0x10				//sets bit#4
F3D9: B6 00 F1   lda     $00F1		;a=$f1
F3DC: 97 02      sta     $02		;port1=a
F3DE: 7E F1 93   jmp     $F193		;branch $f193

;command 0x5* - copy storage buffer[lower 2 bits] to 68k comm buffer
F3E1: B6 00 E9   lda     $00E9		;a=$e9					//port 3 data
F3E4: 16         tab				;b=a
F3E5: 84 0C      anda    #$0C		;a&amp;=0x0c				//keep bit#3 &amp; bit#2
F3E7: 26 ED      bne     $F3D6		;!=0? => branch $f3d6	//error

F3E9: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F3EC: B6 00 F1   lda     $00F1		;a=$f1
F3EF: 97 02      sta     $02		;port1=a				//update status port

F3F1: C4 03      andb    #$03		;b&amp;=0x03				//keep bit#1 &amp; bit#0
F3F3: F7 00 E6   stb     $00E6		;$e6=b
F3F6: CE F4 FA   ldx     #$F4FA		;x=data table
F3F9: 3A         abx				;x+=b
F3FA: 3A         abx				;x+=b
F3FB: EE 00      ldx     (x+$00)	;x=(word)data[b]		//buffer addr

F3FD: EC 00      ldd     (x+$00)	;d=(word)buffer[0]
F3FF: FD 00 D1   std     $00D1		;$d1=d
F402: EC 02      ldd     (x+$02)	;d=(word)buffer[1]
F404: FD 00 D3   std     $00D3		;$d3=d
F407: EC 04      ldd     (x+$04)	;d=(word)buffer[2]
F409: FD 00 D5   std     $00D5		;$d5=d
F40C: EC 06      ldd     (x+$06)	;d=(word)buffer[3]
F40E: FD 00 D7   std     $00D7		;$d7=d
F411: EC 08      ldd     (x+$08)	;d=(word)buffer[4]
F413: FD 00 D9   std     $00D9		;$d9=d
F416: EC 0A      ldd     (x+$0A)	;d=(word)buffer[5]
F418: FD 00 DB   std     $00DB		;$db=d
F41B: A6 0C      lda     (x+$0C)	;a=(byte)buffer[0xc]
F41D: B7 00 DD   sta     $00DD		;$dd=a					//copy 13 bytes data do $d1
F420: 7F 00 E8   clr     $00E8		;$e8=0x00				//index=0
F423: 7E F1 93   jmp     $F193		;branch $f193

;command 0xc* - copy storage buffer[lower 2 bits] to 68k comm buffer, plus sets up for 0x0d data write
F426: B6 00 E7   lda     $00E7		;a=$e7
F429: 81 FF      cmpa    #$FF		;a==0xff?
F42B: 27 A9      beq     $F3D6		;yes? => branch f3d6	//error

F42D: B6 00 E9   lda     $00E9		;a=$e9					//port3 data
F430: 16         tab				;b=a
F431: 84 0C      anda    #$0C		;a&amp;=0x0c				//keep bit#3 &amp; bit#2
F433: 26 A1      bne     $F3D6		;!=0? => branch $f3d6	//error

F435: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F438: B6 00 F1   lda     $00F1		;$a=f1
F43B: 97 02      sta     $02		;port1=a				//update status port

F43D: C4 03      andb    #$03		;b&amp;=0x03				//keep bit#1 &amp; bit#0
F43F: CE F4 FA   ldx     #$F4FA		;x=data table
F442: 3A         abx				;x+=b
F443: 3A         abx				;x+=b
F444: EE 00      ldx     (x+$00)	;x=(word)data[b]		//buffer addr

F446: EC 00      ldd     (x+$00)	;d=(word)buffer[0]
F448: FD 00 D1   std     $00D1		;$d1=d
F44B: EC 02      ldd     (x+$02)	;d=(word)buffer[1]
F44D: FD 00 D3   std     $00D3		;$d3=d
F450: EC 04      ldd     (x+$04)	;d=(word)buffer[2]
F452: FD 00 D5   std     $00D5		;$d5=d
F455: EC 06      ldd     (x+$06)	;d=(word)buffer[3]
F457: FD 00 D7   std     $00D7		;$d7=d
F45A: EC 08      ldd     (x+$08)	;d=(word)buffer[4]
F45C: FD 00 D9   std     $00D9		;$d9=d
F45F: EC 0A      ldd     (x+$0A)	;d=(word)buffer[5]
F461: FD 00 DB   std     $00DB		;$db=d
F464: A6 0C      lda     (x+$0C)	;a=(byte)buffer[0xc]
F466: B7 00 DD   sta     $00DD		;$dd=a					//copy 13 bytes data do $d1
F469: 4F         clra				;a=0x00
F46A: B7 00 E8   sta     $00E8		;$e8=a					//index=0
F46D: 4A         deca				;a=0xff
F46E: B7 00 F2   sta     $00F2		;$f2=a					//$f2=0xff
F471: 86 0D      lda     #$0D		;a=0x0d
F473: B7 00 F3   sta     $00F3		;f3=a					//$f3=0x0d  sets up a write of 0x0d bytes
F476: 7E F1 93   jmp     $F193		;branch $f193

;command 0x6* - move port3 data to $e8
F479: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F47C: B6 00 F1   lda     $00F1		;a=$f1
F47F: 97 02      sta     $02		;port1=a				//update status port
F481: B6 00 E9   lda     $00E9		;a=$e9					//port3 data
F484: B7 00 E8   sta     $00E8		;$e8=a					//buffer index=port3 data (0x6?), quite an overflow, supposed to be lower nibble only?
F487: 7E F1 93   jmp     $F193		;branch $f193

;command 0x7* - write $e4 to port4 (buffers usage bitflags)
F48A: B6 00 E4   lda     $00E4		;a=$e4
F48D: 97 07      sta     $07		;port4=a
F48F: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F492: B6 00 F1   lda     $00F1		;a=$f1
F495: 97 02      sta     $02		;port1=a
F497: 7E F1 93   jmp     $F193		;branch $f193

;command 0x8* - write $e2 to port4 (error count)
F49A: B6 00 E2   lda     $00E2		;a=$e2
F49D: 97 07      sta     $07		;port4=a
F49F: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//clear bit#4
F4A2: B6 00 F1   lda     $00F1		;a=$f1
F4A5: 97 02      sta     $02		;port1=a
F4A7: 7E F1 93   jmp     $F193		;branch $f193

;command 0xb* - clear status bit#6 (framing error flag)
F4AA: B6 00 F1   lda     $00F1		;a=$f1
F4AD: 84 BF      anda    #$BF		;a&amp;=0xbf				//clear bit#6
F4AF: 71 EF F1   aim     #$EF,$F1	;$f1&amp;=0xef				//useless - value overwritten on next instruction
F4B2: B7 00 F1   sta     $00F1		;$f1=a
F4B5: 97 02      sta     $02		;port1=a
F4B7: 7E F1 93   jmp     $F193		;branch $f193

;*******************************************************************
;**************************** IRQ subs *****************************
;*******************************************************************

;SCI (RDRF + ORFE + TDRE) interrupt
;in this program configuration, RDRF (8bit receive register is full) &amp; ORFE (framing error) only
F4BA: 96 11      lda     $11		;a=transmit/receive status (also clears flag)
F4BC: B7 00 EC   sta     $00EC		;$ec=a					//$ec=SCI status
F4BF: 96 12      lda     $12		;a=received data
F4C1: B7 00 ED   sta     $00ED		;$ed=a					//$ed=SCI data
F4C4: 7F 00 F0   clr     $00F0		;$f0=0x00
F4C7: 72 02 EB   oim     #$02,$EB	;$eb|=0x02				//flag event
F4CA: 3B         rti				;return

;/IRQ1 (or /IS3) interrupt
;/PORTWEL wired, basically triggers on 68000 data write to microcontroller (odd address)
F4CB: 96 0F      lda     $0F		;a=port3 status (read to clear flag)
F4CD: 96 06      lda     $06		;a=port3 data
F4CF: B7 00 E9   sta     $00E9		;$00e9=a				//store written value
F4D2: 72 01 EB   oim     #$01,$EB	;$eb|=0x01				//flag event
F4D5: 3B         rti				;return

;/NMI / TRAP / TOF (timer overflow) / OCF (timer output compare) / ICF (timer interrupt capture) / Software interrupt (SW1)  interrupt
;TRAP only in this configuration?
F4D6: 7C 00 E2   inc     $00E2		;$e2++
F4D9: 3B         rti				;return

;*******************************************************************
;****************************** Data *******************************
;*******************************************************************

;data, commands pointers (*16)
F4DA: F3 4E
F4DC: F3 69
F4DE: F3 59
F4E0: F3 B7
F4E2: F3 9F
F4E4: F3 E1
F4E6: F4 79
F4E8: F4 8A
F4EA: F4 9A
F4EC: F3 42
F4EE: F3 B7
F4F0: F4 AA
F4F2: F4 26
F4F4: F3 D6
F4F6: F3 D6
F4F8: F3 D6

;data, ram pointers
F4FA: 00 80
F4FC: 00 8D
F4FE: 00 9A
F500: 00 A7
F502: 00 B4
F504: 00 C2

;F506 - FFED:  FF fill

;*******************************************************************
;**************************** Vectors  *****************************
;*******************************************************************

FFEE: F4 D6		;TRAP (opcode error)
FFF0: F4 BA		;SCI (RDRF + ORFE + TDRE)
FFF2: F4 D6		;TOF (timer overflow)
FFF4: F4 D6		;OCF (timer output compare)
FFF6: F4 D6		;ICF (timer interrupt capture)
FFF8: F4 CB		;/IRQ1 (or /IS3) 
FFFA: F4 D6		;Software interrupt (SW1)
FFFC: F4 D6		;/NMI
FFFE: F0 00		;/RES

&lt;/syntaxhighlight>

[[Category:Chips]]
[[Category:Cartridge systems]]

[[File:howtoplay_nam.png|thumb|A "scripted" how-to-play screen.]]

The HOW_TO_PLAY ($C00474) [[system ROM]] call builds and animates an "how to play" screen from a command list. Only a few games use this call.

The graphics are set up using the [[fix layer]] with hardcoded tile numbers.

=Command list=

The command list must be loaded at $10F300 (how many bytes reserved ?).

Each command is a longword (4 bytes):

* The rightmost byte is the command parameter
* The next byte is the command type (0~3)
* If the command type isn't recognized, the longword is processed as being a pointer to a [[MESS OUT]] data buffer
* The end command is $00000000

&lt;pre>
00000000 00000000 000000TT PPPPPPPP
&lt;/pre>

==Type 0: Loop control==

* If the parameter byte is less than $FF: Set a loop counter to that value
* If the parameter byte is equal to $FF: Decrement the loop counter and loop back to the previous setup command until it reaches 0

==Type 1: Joystick state==

Sets the color of each joystick direction arrow.

* 1 is light blue (pressed)
* 0 is dark blue (released)

{{8BitRegister
|Up-Right
|1
|Right
|1
|Down-Right
|1
|Down
|1
|Down-Left
|1
|Left
|1
|Up-Left
|1
|Up
|1
}}

If followed by a null command ($0.l) the next 16-bit word specifies a number of frames to wait before executing the next command.

==Type 2: Buttons state==

Sets the state of each button.

* 1 is pressed
* 0 is released

{{8BitRegister
| -
|4
|D
|1
|C
|1
|B
|1
|A
|1
}}

If followed by a null command ($0.l) the next 16-bit word specifies a number of frames to wait before executing the next command.

==Any other type: Text update==

The longword value is a pointer to a [[MESS_OUT]] data buffer.

This command is '''always''' followed by a 16-bit word value which specifies a number of frames to wait before executing the next command.

=Example=

[[NAM-1975]] sets up the following command list:

&lt;pre>
0000 0200    All buttons released
0000 01FF    All arrows highlighted
0010 F3E2    MESS_OUT write "NAM 1975" "CONTROL HERO AND CURSOR"
0004         Wait 4 frames
0000 000C    Init loop counter to 12
0000 0100    All arrows cleared       &lt;--------------,
0000 0000    Wait...                                 |
0008         ...8 frames                             |
0000 01FF    All arrows highlighted                  |
0000 0000    Wait...                                 |
0008         ...8 frames                             |
0000 00FF    Loop back (blink all arrows 12 times) --'
0000 0201    A button is pressed
0000 0100    All arrows cleared
0010 F418    MESS_OUT write "MACHINE GUN"
0004         Wait 4 frames
0000 000C    Init loop counter to 12
0000 0200    All buttons released     &lt;--------------,
0000 0000    Wait...                                 |
0008         ...8 frames                             |
0000 0201    A button is pressed                     |
0000 0000    Wait...                                 |
0008         ...8 frames                             |
0000 00FF    Loop back (blink A button 12 times) ----'
...
&lt;/pre>

=List of games known to use HOW_TO_PLAY=

* [[NAM-1975]]
* [[Baseball Stars Professional]]
* [[Mahjong Kyo Retsuden]]
* ...

=Tilemap=
[[File:howtoplay_tilemap.png|thumb|how-to-play tilemap, with each 8x16 block turned into the low-byte of it's hex address]]
The tiles that make up the HOW_TO_PLAY screen are found in pages 7 and 8 of the Fix rom. Much like how MESS OUT handles 8x16 text, each tile in page 7 has a counterpart at the same position on page 8, which gets displayed immediately below. (The exception to this is the black tiles around the edges, which are all 0x07FF.)&lt;br \>
Given this unifom layout of adjacent rows, the below table combines each pair and lists only the low byte.

The interior of the lower text area is initialized with rows of 0x9920 and 0x9A20; the 8x16 spaces from fontset 9, in palette 9.
{|class="wikitable"
|+Overall Layout
|-
|FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF||FF
|-
|FF||00||01||04||05||05||05||05||05||05||05||05||05||05||05||05||05||05||05||06||07||07||07||07||07||07||07||07||07||07||07||07||07||07||07||07||07||07
|-
|FF||02||03||08||09||09||09||09||09||09||09||09||09||09||09||09||09||09||09||0A||0B||0B||0B||0B||0B||0B||0B||0B||0B||0B||0B||0B||0B||0B||0B||0B||0B||0B
|-
|FF||03||03||0C||0D||0E||0F||10||11||12||13||14||15||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||0F||63||64||65
|-
|FF||03||03||0C||5C||5D||5D||16||17||18||19||1A||1B||5D||5D||5D||5D||5D||5D||5D||5D||2C||2D||2E||2F||30||31||32||33||34||35||36||37||5D||5D||5D||5D||5D
|-
|FF||03||03||0C||5D||5D||5D||1C||1D||1E||1F||20||21||5D||5D||5D||5D||5D||38||39||3A||3B||3C||3D||3E||3F||40||41||42||43||44||45||46||5D||5D||5D||5D||5D
|-
|FF||03||03||0C||5E||5D||5D||22||23||24||25||26||27||5D||5D||5D||5D||5D||47||48||49||4A||4B||4C||4D||4E||4F||50||51||52||53||54||55||5D||5D||5D||5D||5D
|-
|FF||03||03||0C||5F||5D||5D||5D||28||29||2A||2B||5D||5D||5D||5D||5D||5D||56||57||58||59||59||59||59||59||59||59||59||59||59||5A||5B||5D||5D||5D||5D||5D
|-
|FF||68||69||0C||60||61||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||62||66||67
|-
|FF||6A||6B||6C||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||6D||76||77||77||77
|-
|FF||03||03||6F||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||78||79||79||79
|-
|FF||6E||03||70||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||7A||7B||7B||7B
|-
|FF||72||73||71||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||20||7C||7D||7D||7D
|-
|FF||FF||FF||74||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||75||7E||FF||FF||FF
|}

* The joystick (10-2B) uses palette 0x0, which changes to highlight the directions.
** Within palette 0x0, colors 5-C map to the joystick directions, starting at Up and rotating anticlockwise.
** Note: the top-halves of tiles 10-15 are in palette 0xD instead.
* The buttons (2C-5B) use palette 0xA when dim, and 0xB when illuminated.
** A tiles: 38-3B, 47-4B, 56-58
** B tiles: 2C-2F, 3C-3E, 4C-4D
** C tiles: 30-33, 3F-42, 4E-51
** D tiles: 34-37, 43-46, 52-55
** tiles 59-5B are drawn in the dim palette and never turn bright
* The text-boxes frames (04-06, 08-0A, 6C-6D, 6F-71, 74-76, 78, 7A, 7C, 7E) have palette 0xC.
* The rest of the control panel uses palette 0xD.

[[Category:Code]]
[[Category:BIOS calls]]

[[File:mvs_dip.jpg|right|thumb|Hard DIPs on MV1F MVS board.]]
[[File:harddips.png|right|thumb|DIP switches state '''viewer''' in the [[system ROM]].]]

Physical DIP switches on MVS boards used to configure various options like the number of coin chutes and the multiplayer link. The switches states are read through register {{Reg|REG_DIPSW}} as a byte (0 is on).

* Switch 8: Freeze - pauses the game (done by software in a [[system ROM]] call)
* Switch 7: Enable freeplay (player start doesn't require credits)
* Switch 6: Enable communication
* Switches 4~5: [[Multiplayer]] link cab number (in binary: 1, 2, 3, 4)
* Switch 3: Enable [[mahjong controller]]
* Switch 2: Number of [[coin switch|coin chutes]] (1 or 2 Euro &amp; Japan, 2 or 4 on USA)
* Switch 1: Bring up the system ROM menu at boot

There are no such switches on home and CD systems.

The {{PCB|MV4}} has an unused footprint for a second set of DIP switches "DSW2" which could have been read through register {{Reg|REG_SYSTYPE}}.

[[Category:Cartridge systems]]

#REDIRECT [[Main architecture]]

=Before=

The NeoGeo hardware as it is known is an upgrade of Alpha Denshi's Alpha68k design from 1986. Simply put, it seems that Alpha Denshi (ADK) were the hardware guys, while SNK took care of the games (and money for a while).

[[File:Eijisig.jpg|thumb|ADK employee Eiji Fukatsu is believed to have designed Alpha68k-based boards and the NeoGeo. [http://gdri.smspower.org/wiki/index.php/ADK More infos on GDRI].]]

The main upgrades were:
* Increased horizontal resolution (256 to 320 pixels)
* [[Sprites|Sprite]] shrink capability
* Better soundchip (YM2203 or YM2413 to {{Chipname|YM2610}}
* Faster [[68k|CPU]] [[clock]] (8MHz to 12MHz)
* Board size reduction by using custom chips

The Alpha68k mainly used off-the-shelf logic chips which reveals lots of the NeoGeo's [[GPU]] design. The only custom chips used were an early version of {{Chipname|PRO-CT0}} and SNK-CLK, which provided video timing signals. The graphics data formats used on both systems are exactly the same.

=After=

South-Korean company [http://www.andamiro.com/ Andamiro] produced the gambling-oriented Midas 2D system around 1999, which uses the same video logic as the NeoGeo but with a higher color resolution. See MAME's midas.cpp.

It is unknown if the design was sold or if it was "inspired from".

[[Category:Base system]]

[[System ROM]] functionality. Navigate through screens by pressing '''start'''. Quit by resetting the system.

=Crosshatch=

See [[Crosshatch]].

=Color test=

Can help diagnose [[color issues]].

=I/O test=

Allows to check [[joypad]] inputs, [[hardware DIPs]], [[test button|test]] and [[service button|service]] buttons, the [[marquee]] and [[MV-LED|credits display]]s.

Warning: the inputs are active low. Ground = "1" = pressed.

=Sound test=

Plays an intermittent 524Hz tone on the left, right or both speakers. Recording: [[File:Testbeep.zip]]

=Memory card test=

...

=Backup clear=

Press the A, B and C buttons at once to erase and format the [[backup RAM]].

=Calendar setup=

See [[RTC]].

[[Category:Repairs]]
[[Category:Cartridge systems]]

[[File:Tut teaser.png|thumb|The result.]]

This tutorial will guide you through all the necessary steps to produce a burnable NeoGeo romset which displays the text "Hello world !" (or something close). It is written for Windows but all the necessary tools have equivalents for MacOS and Linux.

The programming language used is [[68k]] assembly. Good knowledge of it is not needed as all instructions will be detailed.

The source files can be downloaded here: [[File:Helloworld.zip]].

=Setting up a minimal development environment=

* Download the latest [[emulators|MAME]] binaries from [[http://mamedev.org/release.html mamedev.org]]. Extract the zip contents to a folder such as "C:/MAME/".
* To run NeoGeo software with MAME, you will need the dumps of the various embedded ROMs which are part of the system. You can find them as a pack called neogeo.zip (various forms, more or less complete). The files needed are '''000-lo.lo''' (64KiB, the [[LO ROM]]), '''sm1.sm1''' (128KiB, the [[M1 ROM]] for sound), '''sp-s2.sp1''' (128KiB, the [[system ROM]]) and '''sfix.sfix''' (128KiB, the [[SFIX ROM]]). Copy those 4 files to the "C:/MAME/roms/neogeo/" folder (create roms/ and neogeo/ if needed). Like original games these ROMs are copyrighted, so you won't find them here.
[[File:Tut ssideki.png|thumb|All Super Sidekicks ROM files.]]
* As a base, find and download a [[Super Sidekicks]] romset (ssideki.zip) and extract it to "C:/MAME/roms/ssideki/". Make sure that the following files are present and that they are named correctly (MAME is picky about file names and extensions):
** 052-c1.c1 and 052-c2.c2 ([[C ROM]] pair, sprite graphics)
** 052-m1.m1 (Z80 code, we won't mess with that)
** 052-p1.p1 (68k code, that's what we'll replace)
** 052-s1.s1 ([[S ROM]]: fix graphics, we'll use it)
** 052-v1.v1 ([[V ROM]]: sound, won't touch that either)
* Write a short batch file to start MAME easily with the right parameters. Create a new text file and add these lines:

&lt;pre>
mame -debug -nofilter -window ssideki
pause
&lt;/pre>

[[File:Tut mame.png|thumb|Super Sidekicks running in MAME with debugger enabled.]]
Save it with as runmvs.bat in "C:/MAME/" and run it. MAME should open the emulation window and its debugger. Don't be scared, just highlight the debugger window and press F5 (run) to see if Super Sidekicks starts in the main window. If the romset is bad, the missing and/or invalid files will be shown in the command line prompt. When the game runs correctly, close the debugger and the emulation window.

* Download [[http://john.ccac.rwth-aachen.de:8000/ftp/as/precompiled/i386-unknown-win32/aswcurr.zip the macro assembler AS (ASW)]] and [[File:Flip_pad.zip]]. There is no installation required, just extract the files to a folder like "C:/neogeo/asw/".
* For the purpose of this tutorial, Notepad can be used as a code editor. Make a folder for this project such as "C:/neogeo/helloworld/".
* Write a batch file in this folder to make ASW assemble your code and generate the [[P ROM]]. Create a new text file with the following contents:

&lt;pre>
@echo off
c:\neogeo\asw\bin\asw main -L -quiet
c:\neogeo\asw\bin\p2bin main -r $000000-$01FFFF
c:\neogeo\asw\flip main.bin 052-p1.p1
c:\neogeo\asw\pad 052-p1.p1 524288 255
copy 052-p1.p1 c:\mame\roms\ssideki\052-p1.p1
pause
&lt;/pre>

And save it as "make.bat" in the "C:/neogeo/helloworld/" folder. Don't run it for now.

Here's what happens: '''ASW''' assembles your source file, '''p2bin''' makes the [[P ROM]] with the right size ($1FFFF = 128KiB), '''flip.exe''' flips bytes in pairs (byteswapping) because P ROMs have to be that way, '''pad.exe''' fills up the P ROM with "$FF" bytes up to 512KiB to match the original ssideki P ROM size to make MAME happy, and it's finally copied in place of the original P ROM in MAME's directory.

Be aware that in this example, only the P ROM is replaced. All graphics, musics and sounds will still be those from Super Sidekicks.

Now that you have everything to assemble and run the ROM, you can start coding.

=The code=

* Go to the [[68k ASM defines]] page, copy everything, paste it in a new text file and save it as "regdefs.asm" in "c:/neogeo/helloworld/". This allows you to use register names in place of their addresses (easier to remember). For example, instead of writing '''$300001''' in your code, you'll be able to write '''REG_DIPSW''' instead and ASW will take care of translating that to $300001 thanks to this new file.
* Create a new text file and add the following lines:
&lt;pre>
    cpu 68000
    supmode on
    INCLUDE "regdefs.asm"
&lt;/pre>
These aren't assembly instructions but '''directives''' that only ASW will understand. '''cpu 68000''' indicates what CPU we're writing code for ([[68k|Motorola 68000]]), '''supmode on''' indicates that the code will run in '''supervisor''' mode (allows us to use special instructions, the NeoGeo always runs in supervisor mode), and '''INCLUDE''' tells ASW to take a look in our previous "regdefs.asm" file. Save this file as "main.asm" in "c:/neogeo/helloworld/".

==Formalities==

For the "cartridge" to be recognized by the system ROM and launched, header data must be present. Copy the [[68k_program_header|minimal header]] to a new "header.asm" file.

Add the following line to main.asm:

&lt;pre>
    INCLUDE "header.asm"
&lt;/pre>

This will also set up the [[68k interrupts|v-blank interrupt]] vector to a label called '''VBLANK'''.

==A bit of thinking==

To display the "Hello world !" text, there are basically two methods:
* Use [[sprites]] (one sprite for each letter, for example)
* Use the [[fix layer]] (one tile per letter)

To avoid the need to edit the sprite ROMs and draw a font, we will use the fix font that is already stored in ssideki's S ROM (052-s1.bin).

If you look at the contents of a typical S ROM (like on [[SFIX_ROM|this page]]), you will see that the first bank of tiles (256 tiles) contains a 8x8 pixels character set, which is often customized for each game. The Super Sidekicks one is stylized with color gradients, so we will use the 8x16 pixels alphabet instead, which is simpler (2 colors). It is found in the next two tile banks (tiles $100 to $2FF).

As shown in the SFIX tileset reference, bank 1 (tiles $100 to $1FF) contains the upper tiles (the top of the letters), and bank 2 (tiles $200 to $2FF) contains the lower tiles (the bottom of the letters).

By mapping those tiles correctly on the '''fix map''', text can be displayed.

Note that there is a [[Category:BIOS_calls|system ROM call]] named [[MESS_OUT]] which purpose is to simplify text writing to the fix layer. For the purpose of this tutorial we'll do it the hard way, without using this call.

==V-blank handler==

First of all, we need to define a v-blank interrupt handler. The header file indicates that a label called VBLANK must be used.

In main.asm, add the following lines:

&lt;syntaxhighlight>
    ORG $300
VBLANK:                             ; Label defined in header.asm
    btst    #7,BIOS_SYSTEM_MODE     ; Check if the system ROM wants to take care of the interrupt
    bne     .getvbl                 ; No: jump to .getvbl
    jmp     SYS_INT1                ; Yes: jump to system ROM
.getvbl:
    move.w  #4,REG_IRQACK           ; Acknowledge v-blank interrupt
    move.b  d0,REG_DIPSW            ; Kick watchdog
    rte                             ; Return from interrupt
&lt;/syntaxhighlight>

The '''ORG $300'' line is also an ASW directive. It tells ASW to put the following code at address $300 in our ROM. This avoids overwriting the header (which is between $0 and $200).

SNK required games to check the '''BIOS_SYSTEM_MODE''' variable to see if control has to be given to the system ROM, or if the game itself can use it.
* '''btst   #7,BIOS_SYSTEM_MODE''' (Bit TeST) checks bit 7 of the BIOS_SYSTEM_MODE variable.
* '''bne    .getvbl''' (Branch if Not Equal) jumps to .getvbl if the previously checked bit wasn't 0.
* '''jmp    BIOSF_SYSTEM_INT1''' (JuMP) can be guessed quite easily.
* '''move.w #4,REG_IRQACK''' writes 4 as a word (16 bits) in REG_IRQACK.
* '''move.b d0,REG_DIPSW''' writes the D0 register's value as a byte in REG_DIPSW. This prevents the [[watchdog]] reset.

Our v-blank handler is the simplest there could be. Don't forget that interrupts can happen at any time during normal program flow, if registers have to be used in the handler routine, care must be taken to save and restore them (see the MOVEM instruction). We're only reading D0 in our case, so we don't need to preserve anything.

==Initialization==

The system ROM doesn't just jump to the game's code once and for all. It jumps to code at $122, which is also defined in the header.asm file.

At $122, there is just enough room for a jump (see header.asm). So we need to define the [[USER subroutine]].

In main.asm, add the following lines:

&lt;syntaxhighlight>
JT_USER:
    dc.l    StartupInit             ; Jump table for the different things the system ROM can ask for
    dc.l    EyeCatcher
    dc.l    Game
    dc.l    Title

USER:
    move.b  d0,REG_DIPSW            ; Kick watchdog
    clr.l   d0                      ; Clear register D0
    move.b  BIOS_USER_REQUEST,d0    ; Put BIOS_USER_REQUEST (byte) in D0
    lsl.b   #2,d0                   ; D0 &lt;&lt;= 2
    lea     JT_USER,a0              ; Put the address of JT_USER in A0
    movea.l (a0,d0),a0              ; Read from jump table
    jsr     (a0)                    ; Jump to label
    jmp     SYS_RETURN              ; Tell the system ROM that we're done
&lt;/syntaxhighlight>

When the system ROM calls the USER subroutine, it indicates what needs to be done with the BIOS_USER_REQUEST variable. There are 4 possible values, so we specify 4 labels as longword (32 bits) addresses (dc.l is yet another ASW directive).

The code for the USER subroutine starts after the USER label. First, the watchdog is kicked, just in case.
* '''clr.l   d0''' (CLeaR) clears the whole D0 register (32 bits).
* '''move.b  BIOS_USER_REQUEST,d0''' loads the byte variable BIOS_USER_REQUEST in D0. Since D0 was cleared, we made sure that D0 is now 000000XX.
* '''lsl.b   #2,d0''' (Logical Shift Left) shifts D0 left 2 bits, multiplying D0 by 4 (our jump table entries are 32 bits = 4 bytes long).
* '''lea     JT_User,a0''' (Load Effective Address) simply puts the JT_USER label's address in A0.
* '''movea.l (a0,d0),a0''' loads the longword value at (A0+D0) in A0, effectively reading the jump table at the index specified in BIOS_USER_REQUEST.
* '''jsr     (a0)''' jumps to the freshly loaded label address.

We now have our USER subroutine defined... And 4 new labels to define. Luckily for us, since we're not making a real game, we can only use one to simply run our code. We'll say that '''StartupInit''', '''EyeCatcher''' and '''Title''' don't do anything:

&lt;syntaxhighlight>
StartupInit:
EyeCatcher:
Title:
    rts
&lt;/syntaxhighlight>

This way, all 3 labels will resolve to the same address and point to a single RTS instruction (ReTurn from Subroutine). Normally, these subroutines are used to initialize [[backup RAM]] and to allow the system ROM to control the attract mode. We don't need that in our case.

The 4th label '''Game''' is the one we'll use to run our code.

&lt;syntaxhighlight>
Game:                               ; Label defined in the jump table
    lea     $10F300,sp              ; Init stack pointer
    move.b  d0,REG_DIPSW            ; Kick watchdog
    move.w  #$0000,REG_LSPCMODE     ; Make sur the pixel timer is disabled

    move.w  #7,REG_IRQACK           ; Clear all interrupts
    move.w  #$2000,sr               ; Enable interrupts
&lt;/syntaxhighlight>

'''SP''' is a special 68k register (Stack Pointer). It should already be set to $10F300 by the system ROM, but we make sure it is. $10F300 is right at the end of user RAM. The stack will grow downwards.
'''SR''' is also a special 68k register (System Register). Writing $2000 to it enables all interrupt levels.

Now that interrupts are ready to run, let's clear the user RAM, just for good measure.

&lt;syntaxhighlight>
    move.l  #($F300/32)-1,d7        ; We'll clear $F300 bytes of user RAM by writing 8 longwords (32 bytes) at a time
    lea     RAMSTART,a0             ; Start at the beginning of user RAM
    moveq.l #0,d0                   ; Clear it with 0's
.clear_ram:
    move.l  d0,(a0)+                ; Write the 8 longwords, incrementing A0 each time
    move.l  d0,(a0)+
    move.l  d0,(a0)+
    move.l  d0,(a0)+
    move.l  d0,(a0)+
    move.l  d0,(a0)+
    move.l  d0,(a0)+
    move.l  d0,(a0)+
    dbra    d7,.clear_ram           ; Are we done ? No: jump back to .clear_ram
&lt;/syntaxhighlight>

User RAM (work RAM available for the game) starts at RAMSTART and is $F300 bytes long. The clearing loop could just write a 0 byte at each address, but why not use the concept of "unrolled loop", for speed ? Instead of writing one byte at a time, we can write 32 bytes for example. This makes clearing faster since there will be 32 times less iterations of the loop (that DBRA instruction takes some time).
* '''move.l  #($F300/32)-1,d7''' sets the iterations count. ASW is able to evaluate "($F300/32)-1" to $797.
* '''move.l  d0,(a0)+''' writes D0 as a longword at the address pointed to by A0. A0 is then incremented by 4 (longword = 4 bytes).
* '''dbra    d7,.clear_ram''' decrements D7 and jumps to .clear_ram if it isn't zero. The count must be 1 less because DBRA branches one last time when D7 = 0.

Using D7 for the iteration count isn't required, it's just a habit.

==Cleaning up the display==

Before writing tile numbers to the fix map, we want to make sure the display is cleared. There are system ROM calls which clear the fix map and sprites, but again, for this tutorial we'll do it the hard way.

Clearing [[sprites]] can simply be done by setting all the sprites height attributes to 0. That way, they will be ignored for rendering.

&lt;syntaxhighlight>
    move.w   #SCB3,REG_VRAMADDR     ; Height attributes are in VRAM at Sprite Control Bank 3
    clr.w    d0
    move.w   #1,REG_VRAMMOD         ; Set the VRAM address auto-increment value
    move.l   #512-1,d7              ; Clear all 512 sprites
    nop
.clearspr:
    move.w   d0,REG_VRAMRW          ; Write to VRAM
    nop                             ; Wait a bit...
    nop
    dbra     d7,.clearspr           ; Are we done ? No: jump back to .clearspr
&lt;/syntaxhighlight>

The NeoGeo should only be able to "see" the first 381 possible sprites, but clearing everything up to 512 isn't harmful.
The NOP instructions are required because [[VRAM]] access can't be done at full speed. This is '''very important'''.

Then, the fix map is cleared:

&lt;syntaxhighlight>
    move.l   #(40*32)-1,d7          ; Clear the whole map
    move.w   #FIXMAP,REG_VRAMADDR
    move.w   #$0120,d0              ; Use tile $FF
.clearfix:
    move.w   d0,REG_VRAMRW          ; Write to VRAM
    nop                             ; Wait a bit...
    nop
    dbra     d7,.clearfix           ; Are we done ? No: jump back to .clearfix 
&lt;/syntaxhighlight>

Keep in mind that the VRAM is accessed '''only by words''', and that the fix map also holds the '''palette number''' for each tile. So we need to write $0120 (palette 0, tile $120).

The tile $120 in Super Sidekicks is filled with color 2.

==Setting up colors==

Now that the display is cleared, the colors need to be set up. We'll only use the first 3 color entries of palette 0.
Color 0 is always transparent, color 1 is the text, color 2 is the background.

&lt;syntaxhighlight>
    move.w   #BLACK,PALETTES        ; Transparency, color 0 of palette 0 must always be black anyways
    move.w   #WHITE,PALETTES+2      ; Text color
    move.w   #BLUE,PALETTES+4       ; Background
&lt;/syntaxhighlight>

Each color entry is a word, so +2 each time.

Note that palette access can be done at any time, but short glitches can appear if done during active display. It's a good idea to only access the palette RAM during blanking.

==Writing the text==

The text can finally be written to the fix map.

Like palette access, VRAM access doesn't have to be done in the v-blank interval. We don't have to wait for it.

&lt;syntaxhighlight>
    lea      Text,a0                ; Load the text's address in A0
    move.w   #FIXMAP+(15*32)+13,REG_VRAMADDR   ; Set the text position (address in fix map)
    move.w   #$0100,d0              ; Upper tiles are in S ROM bank 1
    nop
    move.w   #32,REG_VRAMMOD        ; Set the VRAM address auto-increment value
.writeupper:
    move.b   (a0)+,d0               ; Load D0's lower byte
    tst.b    d0                     ; See if that was a 00 byte
    beq      .doneupper             ; It was: end of text, jump to .doneupper
    move.w   d0,REG_VRAMRW          ; Write to VRAM
    nop                             ; Wait a bit...
    bra      .writeupper            ; Jump back to .writeupper
.doneupper:
&lt;/syntaxhighlight>

[[File:Tut_oneline.png|thumb|When only one line of tiles is written.]]

* '''move.w   #FIXMAP+(10*32)+8,REG_VRAMADDR''' uses ASW's expression evaluator again to make things simpler. FIXMAP is the start of the fix map, (15*32) specifies the column since the fix map is 32 tiles high, and +13 specified the line. Don't forget that the fix map is "scanned" top to bottom, and left to right.
* '''move.w   #32,REG_VRAMMOD''' tells LSPC to increment the VRAM address by 32 each time we write to it. This allows us to write the text column by column.
* '''move.w   #$0100,d0''' sets D0 to $0100. The upper byte is $01 (upper tiles) and won't change.
* '''tst.b    d0''' checks if D0 is zero. If so, the end of the text is reached and the next BEQ instruction will jump out of the loop.

Note that there's only one NOP in the writing loop. Since there are more instructions between two writes, there's no need to wait that much now.

The top row of tiles is written, now let's do the bottom one:

&lt;syntaxhighlight>
    lea      Text,a0                ; Load the text's address in A0
    move.w   #FIXMAP+(15*32)+14,REG_VRAMADDR   ; Set the text position (address in fix map)
    move.w   #$0200,d0              ; Lower tiles are in S ROM bank 2
    nop
    move.w   #32,REG_VRAMMOD        ; Set the VRAM address auto-increment value
.writelower:
    move.b   (a0)+,d0               ; Load D0's lower byte
    tst.b    d0                     ; See if that was a 00 byte
    beq      .donelower             ; It was: end of text, jump to .doneupper
    move.w   d0,REG_VRAMRW          ; Write to VRAM
    nop                             ; Wait a bit...
    bra      .writelower            ; Jump back to .writeupper
.donelower:
&lt;/syntaxhighlight>

What's the difference ? Pay attention to the initial VRAM address and the value of D0. We're now starting to write one line below (+14 instead of +13), and we're now using S ROM bank 2 (lower tiles).

Note that setting REG_VRAMMOD again isn't required. The value didn't change since last time it was set.

Also note that due to the similarity of both loops, they could be made as a single subroutine with the VRAM address and tile bank as parameters.

Note that the last 0 byte '''must''' be specified. ASW doesn't add it automatically after a quoted string.

Our program is almost complete, it just needs to halt in an infinite loop:

&lt;syntaxhighlight>
.loop:
    bra .loop
&lt;/syntaxhighlight>

Or else the program counter will continue out of space and bad things will happen.

And the text needs to be defined:

&lt;syntaxhighlight>
Text:
    dc.b "ARUZE SUXX !!", 0
&lt;/syntaxhighlight>

=Run it !=

[[File:Tut_final.png|thumb|And there you go :)]]

Run make.bat, then runmvs.bat .

Have fun playing with values, colors, VRAM addresses, different font sets...

[[Category:Code]]

See [[The wiki]].



==Games==
{|class="wikitable" width=100%
! Name || Author || Release Date || Notes || Screenshot
|-
|[[Codename - Blut Engel]] || Blastar || 2006/01/19 || &amp;nbsp; || [[Image:Screencap blutengel.png|160px]]
|-
|[[Columns]] || Jeff Kurtz || 200x || Ported from Sega System C2? || [[Image:Screencap columns.png|160px]]
|-
|[[Frog Feast]] || Rastersoft || 2006 || Source code available for cart and CD versions. || [[Image:Screencap frogfeast.png|160px]]
|-
|[[Jonas Indiana and the Lost Temple of Ra]] || Blastar || 2005/07/17 || &amp;nbsp; || [[Image:Screencap ltorb.png|160px]]
|-
|[[Neo 2048]] || Nicole Express || 2021/01/07 || &amp;nbsp; || [[Image:Screencap neo2048.png|160px]]
|-
|[[Neo no Panepon]] || Blastar || 2002 || &amp;nbsp; || [[Image:Screencap neonopon.png|160px]]
|-
|[[Neo Pang]] || CeL || 2010 || &amp;nbsp; || [[Image:Screencap neopang.png|160px]]
|-
|[[Neo Pong]] || NeoDev Corporation || 2002 || &amp;nbsp; || [[Image:Screencap neopong.png|160px]]
|-
|[[Neo Thunder]] || Sebastian Mihai || 2012 || &amp;nbsp; || [[Image:Screencap neothunder.png|160px]]
|-
|[[Neo Puzzle League]] || Blastar || 2005 || &amp;nbsp; || [[Image:Screencap neopleague.png|160px]]
|-
|[[NeoGeo 2 Player Tetris]] || Crim || 2008 || &amp;nbsp; || [[Image:Screencap neotet.png|160px]]
|-
|[[NGD::ARK]] || NG::DEV::Group || 2011 || &amp;nbsp; || [[Image:Screencap_ngdark.png|160px]]
|-
|[[NGEM2K]] || Blastar || 2006/01/18 || &amp;nbsp; || [[Image:NGEM2K-gameover.png|160px]]
|-
|[[Poker Night]] || Jeff Kurtz || 2003 || &amp;nbsp; || [[Image:Screencap pokernight.png|160px]]
|-
|[[Xevious]] || tcdev || 2023 || Arcade port || [[Image:Screencap xevious.png|160px]]
|}

==Demos==
{|class="wikitable" width=100%
! Name || Author || Release Date || Notes || Screenshot
|-
|[[ADPCM-A and ADPCM-B example program]] || [[User:freem|freem]] || November 2015 || Program for testing ADPCM-A and ADPCM-B playback and looping. || [[Image:Screencap pcma_pcmb.png|160px]]
|-
|Chaos Demo (Neo-Geo Edition) || Charles Doty (Raster) || June 2000 || Demo exists on various arcade hardware. || [[Image:Screencap chaosdemo.png|160px]]
|-
|Chip 'n Dale (Intro demo) || Sergi/raregame || 2009 || "Only works with Universe BIOS set to Japan" -FBA || [[Image:Screencap chipdale intro.png|160px]]
|-
|Darkwing Duck (Intro demo) || Sergi/raregame || 2009 || "Only works with Universe BIOS set to Japan" -FBA || [[Image:Screencap darkwing intro.png|160px]]
|-
| [[Diff]] || citavia || 2016/03/26 || Neo-Geo CD demo || [[Image:Screencap diff.png|160px]]
|-
|DuckTales (Intro demo) || Sergi/raregame || 2009 || "Only works with Universe BIOS set to Japan" -FBA || [[Image:Screencap ducktales intro.png|160px]]
|-
| [[Eira]] || Resistance || 2015/12/23 || Neo-Geo CD demo || [[Image:Screencap eira.png|160px]]
|-
|Galaga Demo || Bey || 2013 || &amp;nbsp; || [[Image:Screencap neogalaga.png|160px]]
|-
|Ghostbusters (Intro demo) || Sergi/raregame || 2009 || "Only works with Universe BIOS set to Japan" -FBA || [[Image:Screencap ghostbusters intro.png|160px]]
|-
|Neo 2500 Demo || Blastar || 2004 || &amp;nbsp; || [[Image:Screencap neo2500.png|160px]]
|-
|NeoGeo 3D! || Leonard of Oxygene || 2012 || &amp;nbsp; || [[Image:Screencap neo3d.png|160px]]
|-
|Neo Castlevania Demo || BarfHappy || 2004 || &amp;nbsp; || [[Image:Screencap neocstlv.png|160px]]
|-
|[http://www.mediafire.com/download/gs5l6hcz99nq4eu/neofight.zip Neo Fight] || [[User:Kannagi|Kannagi]] || June 2015 || A small beat them all with the sprite of Double Dragon || [[Image:Neofight.png|160px]]
|-
|NGF Transparency Demo || CeL || 2012 || &amp;nbsp; || [[Image:Screencap ngftdemo.png|160px]]
|-
|[[Moving_sprites#Example|Nyan Cat Demo]] || furrtek || 2011/6 || &amp;nbsp; || [[Image:Nyandemo.png|160px]]
|-
|Primo Demo || Bey || 2013 || Modified version of VIP2 Demo || [[Image:Screencap neoprimo.png|160px]]
|-
|Robocop (Intro demo) || Sergi/raregame || 2009 || "Only works with Universe BIOS set to Japan" -FBA || [[Image:Screencap robocop intro.png|160px]]
|-
|Shadow of the Beast (Neo-Geo demo)|| Jeff Kurtz || (unknown) || &amp;nbsp; || [[Image:Screencap beast.png|160px]]
|-
|Spiderman (Intro demo) || Sergi/raregame || 2009 || "Only works with Universe BIOS set to Japan" -FBA || [[Image:Screencap spiderman intro.png|160px]]
|-
|Subspecies Unfinished || Blastar || 2020/6 || &amp;nbsp; || [[Image:Screencap subspecies unfinished.png|160px]]
|-
|Teenage Mutant Ninja Turtles (Intro demo) || Sergi/raregame || 2009 || "Only works with Universe BIOS set to Japan" -FBA || [[Image:Screencap tmnt intro.png|160px]]
|-
|[[Twister in a Mirror]] || blastar || 2015/7/14 || &amp;nbsp; || [[Image:Screencap_twister.png|160px]]
|-
|VIP2 Demo || Fabrice Martinez || 2000/7/17 || &amp;nbsp; || [[Image:Screencap vip2.png|160px]]
|-
|[[Visual Novel]] || trilobit || 2016/03/26 || Neo-Geo CD demo || [[Image:Screencap visualnovel.png|160px]]
|-
| We ♥ Alice || blastar || 2016/09/02 || Neo-Geo CD demo || [[Image:Screencap welovealice.png|160px]]
|-
|WW2 Demo || Charles Doty || 2001 || &amp;nbsp; || [[Image:Screencap neoww2.png|160px]]
|}

==Utilities==
{|class="wikitable" width=100%
! Name || Author || Release Date || Notes || Screenshot
|-
|4-Player Input Test || Unknown || (unknown) || &amp;nbsp; || [[Image:Screencap 4play.png|160px]]
|-
|Neo System Check || Blastar || 200x || &amp;nbsp; || [[Image:Screencap syscheck.png|160px]]
|-
|Rapid fire tester || Sleepy Danny || 2022/8/11 || &amp;nbsp; || [[Image:Screencap rapid fire tester.png|160px]]
|-
|[[Sprite experimenter|Sprite Experimenter]] || furrtek || 2011/7 || &amp;nbsp; || [[Image:Sprite experimenter.png|160px]]
|}

'''Be sure to check the demo files available in the [[:Category:HowTo|How-to category]].'''

[[Category:Games]]
[[Category:Code]]

*See [[Hardware architecture|what the machines are made out of]].
*Try the [[Hello world tutorial]] (assembly).

==Dev environment==

*Get ASW (link) or the GNU assembler GAS (link)
*Get a text editor (Context ?)
*Get the highlighter for Context

==Files==

===For MVS===

Chose an already existing romset, like ssideki (Super Sidekicks) for example.
Replace the files in the zip by your :

*68k program rom ([[P ROM]])
*Z80 program rom ([[M1 ROM]])
*ADPCM samples rom ([[V ROM]])
*[[Fix layer|Fix]] tileset ([[S ROM]])
*Pair of [[C ROM]] files ([[sprites]] tiles)

==Code structure==

*[[68k vector table]]
*[[68k program header]]
*[[68k interrupts]]

===Tutorials===
*[[Displaying sprites]]
*[[Displaying text]]
*[[Fading_colors]]
*[[Making scrollable backgrounds]]
*[[Moving sprites]]

The IPL.TXT file must be stored in the root of a game CD. IPL stands for '''I'''nitial '''P'''rogram '''L'''oad, it specifies which files to load when a game is loaded by the [[system ROM]] at startup.

See [[Game CD structure]].

A missing file causes the [[DISC I/O ERROR]] 0000.

There must '''not be more than 32 files''' to load.

=Contents=

Each line in the file must follow a precise format:

&lt;pre>
File name,Bank,Offset,CR LF
&lt;/pre>

* File names will be automatically converted to upper case if they're not already
* File names must be in 8.3 format (max. 8 characters name, max. 3 characters extension)
* The bank number must be a single digit
* The offset can be any size from 1 to 8 hex digits
* The line must end with carriage-return and line-feed (CR, LF: 0x0D, 0x0A)

The whole file '''must end with character 0x1A'''.

=Example=

From [[Art_of_Fighting_3_-_The_Path_of_the_Warrior|Art of Fighting 3]], with hex contents to show character values:

&lt;pre>
FIX_CD.FIX,0,00          46 49 58 5F 43 44 2E 46 49 58 2C 30 2C 30 30 0D 0A
PROG_CD.PRG,0,0          50 52 4F 47 5F 43 44 2E 50 52 47 2C 30 2C 30 0D 0A
PROG_CDX.PRG,0,058000    50 52 4F 47 5F 43 44 58 2E 50 52 47 2C 30 2C 30 35 38 30 30 30 0D 0A
FIX_DATA.PRG,0,0FD000    46 49 58 5F 44 41 54 41 2E 50 52 47 2C 30 2C 30 46 44 30 30 30 0D 0A
CNV_NM.PRG,0,0C0000      43 4E 56 5F 4E 4D 2E 50 52 47 2C 30 2C 30 43 30 30 30 30 0D 0A
HITMSG.PRG,0,170000      48 49 54 4D 53 47 2E 50 52 47 2C 30 2C 31 37 30 30 30 30 0D 0A
OBJACTLK.PRG,0,130000    4F 42 4A 41 43 54 4C 4B 2E 50 52 47 2C 30 2C 31 33 30 30 30 30 0D 0A
SSEL_CNV.PRG,0,15A000    53 53 45 4C 5F 43 4E 56 2E 50 52 47 2C 30 2C 31 35 41 30 30 30 0D 0A
SSEL_BAK.PRG,0,16F000    53 53 45 4C 5F 42 41 4B 2E 50 52 47 2C 30 2C 31 36 46 30 30 30 0D 0A
SSEL_SPR.PRG,0,19D000    53 53 45 4C 5F 53 50 52 2E 50 52 47 2C 30 2C 31 39 44 30 30 30 0D 0A
SND8V1CD.Z80,0,0         53 4E 44 38 56 31 43 44 2E 5A 38 30 2C 30 2C 30 0D 0A
JYOU.PCM,0,0             4A 59 4F 55 2E 50 43 4D 2C 30 2C 30 0D 0A
JYOU.PAT,0,0             4A 59 4F 55 2E 50 41 54 2C 30 2C 30 0D 0A
�                       1A
&lt;/pre>

[[Category:CD systems]]

[[http://www.student.tugraz.at/thomas.plank/index_en.html Mkisofs]] can be used to automate the making of ISO images from various files.

===Command line example===

&lt;pre>
mkisofs -iso-level 1 -o neogeocd.iso -pad -N -V "NGCDTEST" P1.PRG M1.Z80 SPR.SPR S1.FIX V1.PCM IPL.TXT ABS.TXT BIB.TXT CPY.TXT
&lt;/pre>

With the [[IPL file]] containing:

&lt;pre>
P1.PRG,0,0
M1.Z80,0,0
SPR.SPR,0,0
S1.FIX,0,0
V1.PCM,0,0
&lt;/pre>

[[Category:Code]]

#REDIRECT [[The Irritating Maze]]

[[MVS]] edge connectors aren't fully JAMMA compliant depending on the model of the board.

1-Slot boards, use the JAMMA standard with only 3 boards being able to use stereo output although through the PCB pinhead connector not the JAMMA pinout (MV1, MV1-F, MV1-FS).

Multi-slot boards, use a different pinout based on Jamma commonly refered as 'MVS pinout', this has a couple of changes mainly because of the different nature of the boards, like having Stereo and the need to change the currently playing game title by pressing the 'SELECT' button.

Please refer to the [[MVS user manual]] of the specific board model, for a better understanding of the type of pinout it uses.

Like true JAMMA edges, the pad pitch is .156in (3.96mm). There are 28 pins per side (key included), 56 total.

Many harnesses use regular 56 pin board connectors which don't have the key to avoid accidentally plugging them backwards. Doing so will certainly fry the inputs chip ({{Chipname|NEO-C1}}...), be careful.

Note that the G, I, O, and Q letters aren't used to avoid confusion with other characters.

==JAMMA pinout==

The arrows represent the signal direction '''from''' the MVS board.

{|class="wikitable"
!colspan=3|Bottom||colspan=3|Top
|-
|bgcolor="#DDDDDD" rowspan=2 colspan=2|GND
|'''A'''
|'''1'''
|bgcolor="#DDDDDD" rowspan=2 colspan=2|GND
|-
|'''B'''
|'''2'''
|-
|bgcolor="#DD8888" rowspan=2 colspan=2| +5V
|'''C'''
|'''3'''
|bgcolor="#DD8888" rowspan=2 colspan=2| +5V
|-
|'''D'''
|'''4'''
|-
|colspan=2|Unused
|'''E'''
|'''5'''
|colspan=2|Unused
|-
|bgcolor="#DDDD88" colspan=2| +12V
|'''F'''
|'''6'''
|bgcolor="#DDDD88" colspan=2| +12V
|-
|colspan=2|'''Key'''
|'''H'''
|'''7'''
|colspan=2|'''Key'''
|-
|[[Coin counter]] #2
|[[File:Arrow_left.png]]
|'''J'''
|'''8'''
|[[File:Arrow_right.png]]
|[[Coin counter]] #1
|-
|[[Coin lockout]] #2
|[[File:Arrow_left.png]]
|'''K'''
|'''9'''
|[[File:Arrow_right.png]]
|[[Coin lockout]] #1
|-
|bgcolor="#DD8844"|Speaker Neg
|[[File:Arrow_left.png]]
|'''L'''
|'''10'''
|[[File:Arrow_right.png]]
|bgcolor="#DD8844"|Speaker Pos
|-
|bgcolor="#DDDDDD" colspan=2|Audio GND
|'''M'''
|'''11'''
|colspan=2|Unused
|-
|bgcolor="#44FF44"|[[Video DAC|Video green]]
|[[File:Arrow_left.png]]
|'''N'''
|'''12'''
|[[File:Arrow_right.png]]
|bgcolor="#FF4444"|Video red
|-
|bgcolor="#FFFF44"|Video sync
|[[File:Arrow_left.png]]
|'''P'''
|'''13'''
|[[File:Arrow_right.png]]
|bgcolor="#4444FF"|Video blue
|-
|[[Service button]]
|[[File:Arrow_right.png]]
|'''R'''
|'''14'''
|bgcolor="#DDDDDD" colspan=2|Video GND
|-
|colspan=2|Unused
|'''S'''
|'''15'''
|[[File:Arrow_left.png]]
|[[Test button]]

|-
|[[Coin switch]] #2 P2
|[[File:Arrow_right.png]]
|'''T'''
|'''16'''
|[[File:Arrow_left.png]]
|[[Coin switch]] #1 P1
|-
|P2 Start
|[[File:Arrow_right.png]]
|'''U'''
|'''17'''
|[[File:Arrow_left.png]]
|P1 Start
|-
|P2 Up
|[[File:Arrow_right.png]]
|'''V'''
|'''18'''
|[[File:Arrow_left.png]]
|P1 Up
|-
|P2 Down
|[[File:Arrow_right.png]]
|'''W'''
|'''19'''
|[[File:Arrow_left.png]]
|P1 Down
|-
|P2 Left
|[[File:Arrow_right.png]]
|'''X'''
|'''20'''
|[[File:Arrow_left.png]]
|P1 Left
|-
|P2 Right
|[[File:Arrow_right.png]]
|'''Y'''
|'''21'''
|[[File:Arrow_left.png]]
|P1 Right
|-
|P2 button A
|[[File:Arrow_right.png]]
|'''Z'''
|'''22'''
|[[File:Arrow_left.png]]
|P1 button A
|-
|P2 button B
|[[File:Arrow_right.png]]
|'''a'''
|'''23'''
|[[File:Arrow_left.png]]
|P1 button B
|-
|P2 button C
|[[File:Arrow_right.png]]
|'''b'''
|'''24'''
|[[File:Arrow_left.png]]
|P1 button C
|-
|P2 button D
|[[File:Arrow_right.png]]
|'''c'''
|'''25'''
|[[File:Arrow_left.png]]
|P1 button D
|-
|colspan=2|Unused
|'''d'''
|'''26'''
|colspan=2|Unused
|-
|bgcolor="#DDDDDD" rowspan=2 colspan=2|GND
|'''e'''
|'''27'''
|bgcolor="#DDDDDD" rowspan=2 colspan=2|GND
|-
|'''f'''
|'''28'''
|}

==MVS pinout==

Checked infos from [[http://www.hardmvs.com HardMVS.com]]. The arrows represent the signal direction '''from''' the MVS board.

{|class="wikitable"
!colspan=3|Bottom||colspan=3|Top
|-
|bgcolor="#DDDDDD" rowspan=2 colspan=2|GND
|'''A'''
|'''1'''
|bgcolor="#DDDDDD" rowspan=2 colspan=2|GND
|-
|'''B'''
|'''2'''
|-
|bgcolor="#DD8888" rowspan=2 colspan=2| +5V
|'''C'''
|'''3'''
|bgcolor="#DD8888" rowspan=2 colspan=2| +5V
|-
|'''D'''
|'''4'''
|-
|colspan=2|Unused
|'''E'''
|'''5'''
|colspan=2|Unused
|-
|bgcolor="#DDDD88" colspan=2| +12V
|'''F'''
|'''6'''
|bgcolor="#DDDD88" colspan=2| +12V
|-
|colspan=2|'''Key'''
|'''H'''
|'''7'''
|colspan=2|'''Key'''
|-
|[[Coin counter]] #2
|[[File:Arrow_left.png]]
|'''J'''
|'''8'''
|[[File:Arrow_right.png]]
|[[Coin counter]] #1
|-
|[[Coin lockout]] #2
|[[File:Arrow_left.png]]
|'''K'''
|'''9'''
|[[File:Arrow_right.png]]
|[[Coin lockout]] #1
|-
|bgcolor="#DD8844"|Left speaker
|[[File:Arrow_left.png]]
|'''L'''
|'''10'''
|[[File:Arrow_right.png]]
|bgcolor="#DD8844"|Right speaker
|-
|[[Test button]]
|[[File:Arrow_right.png]]
|'''M'''
|'''11'''
|[[File:Arrow_right.png]]
|bgcolor="#DD8844"|Mono audio
|-
|bgcolor="#44FF44"|[[Video DAC|Video green]]
|[[File:Arrow_left.png]]
|'''N'''
|'''12'''
|[[File:Arrow_right.png]]
|bgcolor="#FF4444"|Video red
|-
|bgcolor="#FFFF44"|Video sync
|[[File:Arrow_left.png]]
|'''P'''
|'''13'''
|[[File:Arrow_right.png]]
|bgcolor="#4444FF"|Video blue
|-
|[[Service button]]
|[[File:Arrow_right.png]]
|'''R'''
|'''14'''
|bgcolor="#DDDDDD" colspan=2|Video GND
|-
|[[Coin switch]] #4 P2
|[[File:Arrow_right.png]]
|'''S'''
|'''15'''
|[[File:Arrow_left.png]]
|[[Coin switch]] #3 P1
|-
|[[Coin switch]] #2 P2
|[[File:Arrow_right.png]]
|'''T'''
|'''16'''
|[[File:Arrow_left.png]]
|[[Coin switch]] #1 P1
|-
|P2 Start
|[[File:Arrow_right.png]]
|'''U'''
|'''17'''
|[[File:Arrow_left.png]]
|P1 Start
|-
|P2 Up
|[[File:Arrow_right.png]]
|'''V'''
|'''18'''
|[[File:Arrow_left.png]]
|P1 Up
|-
|P2 Down
|[[File:Arrow_right.png]]
|'''W'''
|'''19'''
|[[File:Arrow_left.png]]
|P1 Down
|-
|P2 Left
|[[File:Arrow_right.png]]
|'''X'''
|'''20'''
|[[File:Arrow_left.png]]
|P1 Left
|-
|P2 Right
|[[File:Arrow_right.png]]
|'''Y'''
|'''21'''
|[[File:Arrow_left.png]]
|P1 Right
|-
|P2 button A
|[[File:Arrow_right.png]]
|'''Z'''
|'''22'''
|[[File:Arrow_left.png]]
|P1 button A
|-
|P2 button B
|[[File:Arrow_right.png]]
|'''a'''
|'''23'''
|[[File:Arrow_left.png]]
|P1 button B
|-
|P2 button C
|[[File:Arrow_right.png]]
|'''b'''
|'''24'''
|[[File:Arrow_left.png]]
|P1 button C
|-
|P2 button D
|[[File:Arrow_right.png]]
|'''c'''
|'''25'''
|[[File:Arrow_left.png]]
|P1 button D
|-
|Select down
|[[File:Arrow_right.png]]
|'''d'''
|'''26'''
|[[File:Arrow_left.png]]
|Select up
|-
|bgcolor="#DDDDDD" rowspan=2 colspan=2|GND
|'''e'''
|'''27'''
|bgcolor="#DDDDDD" rowspan=2 colspan=2|GND
|-
|'''f'''
|'''28'''
|}

[[Category:Cartridge systems]]

The PC Card Standard defines a 68-pin interface between the peripheral card and the socket into which it gets inserted. It defines three standard PC Card form factors, called Type I, Type II and Type III. All PC Cards measure the same length and width, differing only in thickness. Smaller cards can fit in larger sockets.
In addition to electrical and physical specifications, the PC Card Standard defines a software architecture to provide "plug and play" capability across the widest range of products. This software is made up of Socket Services and Card Services. It is Card and Socket Services that allow for interoperability of PC Cards.

== PC Card Physical Characteristics ==

{| class="regdef"
| '''Property'''
| '''Value'''
|-
|Physical Interface
|68 Pins 
|-
|Back End I/O Conn.
|Proprietary
|-
|Length
|85.6 mm
|-
|Width
|54.0 mm
|-
|Thickness
|Type I (appropriate for Neo Geo) = 3.3 mm&lt;br>
Type II = 5.0 mm&lt;br>
Type III = 10.5 mm
|-
|Operating Temp.
|0 to 55 C
|-
|Storage Temp.
|minus 20 to 65 C
|-
|Minimum Insertions
|Office Env. 10,000&lt;br>
Harsh Env.  5,000
|}


[[Image:pcc-dim.jpg]]

[[File:jailbars.gif|thumb|Animation showing a clean video output, and one with a simulated jailbars effect (with magnified zone).]]

The "jailbar effect" is an analog video perturbation caused by some versions of the AES (console) boards. Maybe some MVS boards also ?

=Symptom=

The picture is overlaid with faint, thin static vertical "jailbars" of alternating luminosity. Some players who are used to see the output of their own system might not notice the defect, but when comparing with a cleaner output from another board version, the difference is clearly noticed.

Note that severely marked colored vertical lines are more probably a [[graphic glitches|graphic glitch]] caused by board damage or bad contacts.

=Cause=

The cause is a PCB routing oversight from SNK theirselves. The unamplified analog RGB video traces cross the ones from the color burst oscillator which are on the opposite layer, causing the 3.57954MHz wave to mix with the video signals by proximity coupling.

The jailbar appearance comes from the relation between the NeoGeo [[clock|pixel clock]] (6MHz) and the 3.57954MHz signal, causing an "one-out-of-two lines" looking effect.

=Fix=

Only 3 trace cuts. See http://www.mmmonkey.co.uk/snk-neo-geo-aes-rgb-neo-aes3-6-vertical-lines/.

[[Category:Video system]]
[[Category:Repairs]]

#REDIRECT [[Jyanshin Densetsu - Quest of Jongmaster]]

[[File:Jobmeter.png|right]]

A job meter is a debugging or optimization tool which can be used to know how much time (or video lines) some of the CPU calculations take to execute.

This can be particularly useful to know if [[VRAM]] updates don't last longer than the vblank period, or to find what routines are causing slowdowns...

Job meters can be made by changing a [[palette RAM|palette]] value just before and just after execution of said code. Multiple routines can be timed by using multiple colors. More advanced job meters can also display values on the [[fix layer]] to indicate how buffers (ennemies, ammo, animation loops...) are filled.

Something as simple as this in the vblank subroutine can be used to monitor time usage by looking at the borders of the screen:

*Do BIOS calls and anything which has to be done right after vblank
*Set "Bad" color
*Update VRAM
*Set "Okay" color
*Update values in RAM, prepare stuff for the next frame...
*Set "Done" color
*Exit subroutine

&lt;syntaxhighlight>
VBlank:
...BIOS calls...
move.w #RED,BACKDROPCOLOR
...VRAM update code...
move.w #ORANGE,BACKDROPCOLOR
...Sprite position update code...
move.w #GREEN,BACKDROPCOLOR
rts
&lt;/syntaxhighlight>

As long as there's no red lines reaching the top of the active display, the code is guaranteed to run fast enough to avoid tearing.

[[Category:Code]]

{{GameInfo|right
|en_title=Jockey Grand Prix
|jp_title=Jockey Grand Prix
|developer=Sun Amusement / BrezzaSoft
|ngh_id=008
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=jockeygp
|mvs_date=2001
|mvs_pchip=
|mvs_pboard=PROGV
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

#REDIRECT [[Jockey Grand Prix]]

Do you have corrections to make ? Tools, tricks or hardware designs to share ? Source code ? Chip pinouts ? Any additional information ?

Joining the editors team of the NeoGeo Dev Wiki is painless and allows us to track edits.

You might also want to read this page: [[The wiki]].

Just go over to the [[Special:RequestAccount|register]] page and give your username and e-mail address. Your real name isn't required of course, but '''one or two sentences in the "biography" field will help us know what you're here for'''. Leaving it blank and not using a Googleable nickname won't let you in, sorry.

New users are screened for validation about once a month. If we forget or if you're lost with wiki editing, send a mail to [[User:furrtek|furrtek]].

[[Image:Screencap_ltorb.png|thumb|Screenshot of gameplay]]
[[Jonas Indiana and the Lost Temple of Ra]] is a small homebrew platform game made by [[User:Blastar]].

[[Category:Games]]

#REDIRECT [[Puzzled]]

[[Category:Games]]

#REDIRECT [[Joy Joy Kid]]

Regular NeoGeo joypads or joysticks have 4 directions and 6 button switches.

Registers used to read the switches states are {{Reg|REG_P1CNT}}, {{Reg|REG_P2CNT}}, and {{Reg|REG_STATUS_B}}.

The [[SYSTEM_IO]] ($C0044A) [[BIOS calls|BIOS call]] can be used to read inputs more easily: it sets values in the [[BIOS_RAM_locations|BIOS RAM]] which gives currently pressed, state change, and repeat values for both joypads ports.

Only one output is used: [[Pinouts|OUT3]], which is connected to the D button input. This loop is used for detection (D = 0 if OUT3 = 1).

==NeoGeo CD joypads==

[[File:G9pinout.png|right|thumb|"G9" internal schematic. Pin 2 is ground, 1 and 3 are buttons, 4 and 5 are port inputs.]]

[[File:Ngcdpad.jpg|400px]]

The NeoGeo CD joypads use membrane switches and springs for the 4 directions (replacement part ?) which directly set the corresponding inputs to ground.

The buttons are buffered with 3 dual NPN "digital transistors" marked G9, providing good press detection even if the carbon contacts have high resistance.

[[Category:Base system]]
[[Category:Controllers]]

{{GameInfo|right
|jp_title=Jyanshin Densetsu - Quest of Jongmaster
|jp_title2=雀神伝説
|developer=Aicom
|ngh_id=048
|megcount=82
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=janshin
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
|cd_release=y
|cd_release_jp=y
|cd_date=31/03/95
}}

[[Category:Games]]

#REDIRECT [[Far East of Eden - Kabuki Klash]]

{{GameInfo|right
|en_title=Karnov's Revenge 
|jp_title=Fighter's History Dynamite
|jp_title2=ファイターズヒストリーダイナマイト
|eu_title=Fighter's History Dynamite
|developer=Data East Corporation
|ngh_id=066
|megcount=122
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_release_eu=y
|mvs_romset=karnovr
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=karnovr
|aes_date=28/04/94
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=22/12/94
}}

[[Category:Games]]

#REDIRECT [[Karnov's Revenge]]

#REDIRECT [[The King of Fighters '98 - The Slugfest]]

[[Category:Games]]

{{GameInfo|right
|en_title=King of the Monsters
|jp_title=King of the Monsters
|jp_title2=キング・オブ・ザ・モンスターズ
|developer=SNK
|ngh_id=016
|megcount=55
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kotm
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=kotmh
|aes_date=01/07/91
}}

Doesn't hide the leftmost and rightmost columns with black [[fix layer|fix]] tiles, which shows the sudden disappearing of the scrolling BG sprites on the left border of the screen.

[[Category:Games]]

{{GameInfo|right
|en_title=King of the Monsters 2 - The Next Thing
|jp_title=King of the Monsters 2 - The Next Thing
|jp_title2=キング・オブ・ザ・モンスターズ 2
|developer=SNK
|ngh_id=039
|megcount=74
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kotm2
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG16
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=kotm2
|aes_date=19/06/92
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

#REDIRECT [[Kizuna Encounter - Super Tag Battle]]

{{GameInfo|right
|en_title=Kizuna Encounter - Super Tag Battle 
|jp_title=Fu'un Super Tag Battle
|jp_title2=風雲スーパータッグバトル
|developer=SNK
|ngh_id=216
|megcount=242
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kizuna
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=08/11/96
}}

[[Category:Games]]

#REDIRECT [[The King of Fighters 2000]]

#REDIRECT [[The King of Fighters 2001]]

#REDIRECT [[The King of Fighters 2002]]

#REDIRECT [[The King of Fighters 2003]]

#REDIRECT [[The King of Fighters '94]]

#REDIRECT [[The King of Fighters '95]]

#REDIRECT [[The King of Fighters '96]]

#REDIRECT [[The King of Fighters '97]]

#REDIRECT [[The King of Fighters '98 - The Slugfest]]

#REDIRECT [[The King of Fighters '99 - Millennium Battle]]

#REDIRECT [[King of the Monsters]]

#REDIRECT [[King of the Monsters 2 - The Next Thing]]

Worked at least on the [[Neo Print]]. Worked on video stuff for Funai afterwards ?

See [[SNK Patents]].

[[Category:People]]

#REDIRECT [[Super Dodge Ball]]

[[Category:Games]]

[[File:aes_lo.jpg|right|thumb|Toshiba LO ROM chip taken from an AES system.]]
[[File:cd2_lo.jpg|right|thumb|LO ROM chip found on a CDM3-2 board.]]

The L0 ROM is a 64KiB (sometimes 128KiB with A16 tied to ground) ROM chip found in every NeoGeo systems as a stand alone chip or integrated in another [[NEO-GRZ|chip]], which contains byte values used by {{Chipname|LSPC}} to shrink [[sprites]] '''vertically'''.

The dump is called 000-lo.lo in [[system ROM]] sets.

=Hash=

* CRC32: 5A86CFF2
* SHA-1: 5992277DEBADEB64D1C1C64B0A92D9293EAF7E4A

=Data format=

The data is made of 256 tables of 256 bytes, each table corresponding to a vertical shrinking value for sprites.

For the first 256 lines (top half of a full sprite), the index in the table is the line number of the sprite currently being drawn (scanline - Y position).

Each byte entry in the table is used as 2 nibbles:
*The upper nibble is the tile number index to read in the tilemap in [[VRAM]] SCB1 (0 to 15).
*The lower nibble is the line number of that tile to fetch in the [[C ROM]]s.

For the last 256 lines (bottom half of a full sprite), the index in the table is complemented: the table is read backwards.

*The upper nibble is the tile number index XOR $1F to read in the tilemap in VRAM SCB1 (16 to 31).
*The lower nibble is the line number XOR $F of that tile to fetch in the C ROMs.

==Example of GPU processing==
[[File:Ngscaling.png|right|thumb]]

(Maybe place this part in the LSPC page ?)

Sprite with Y zoom value = $1B and tile height = 2 (32 pixels).

{|class=wikitable
!Sprite line #
!L0 address
!L0 data
!Tilemap index
!Tile line used
|-
|0||$1B00||$00||0||0
|-
|1||$1B01||$08||0||8
|-
|2||$1B02||$10||1||0
|-
|colspan=5|...
|-
|26||$1B1A||$E8||14||8
|-
|27||$1B1B||$F8||15||8
|-
|28||$1B1C||$FF||15||15
|-
|29||$1B1D||$FF||15||15
|-
|colspan=5|...
|}

==Datasheet==
There are 2 stand alone chip versions used depending on the NeoGeo system, the SOP32 TC531001 and the DIP28 TC531000.

Official TC531001 datasheet: [[http://www.alldatasheet.com/datasheet-pdf/pdf/115078/TOSHIBA/TC531001.html]]

Official TC531000 datasheet: [[https://www.digchip.com/datasheets/parts/datasheet/710/TC531000CP-pdf.php]]

[[Category:Chips]]

[[File:Cd2_lc78815.jpg|thumb|300px|LC78815 surrounded by beautiful sticky flux residue.]]

The Sanyo LC78815 is a 16-bit stereo audio DAC, used in the NeoGeo CD consoles to translate serial audio data from the [[CD drive]] (and the {{Chipname|NEO-YSA}} chip on some models) into analog signals.

They're located on the [[NEO-CDA board]].

CDDA configuration: FSEL=1, MODE1=0, MODE2=1, DATAR=0. SYSCLK is unused.

[[File:Lc78815_alt_mode2.png]]

=Datasheet=

Complete datasheet: [[http://www.datasheetcatalog.org/datasheet/sanyo/LC78815M.pdf]]

[[Category:Chips]]
[[Category:Audio system]]
[[Category:CD systems]]

[[File:cd2_lc89515.jpg|right|thumb|Sanyo LC89515 chip found on a CDM3-2 board.]]

Sanyo CD-ROM host and error correction chip, also known as RCHIP. Used to [[Loading files|load files]] in CD systems. It uses a 64KiB RAM buffer (2 32KiB RAM chips), which is able to store up to 27 CD-ROM sectors.

DMA copy speed from buffer to [[DRAM]]s can go up to 2.3MiB/s (16.9344MHz / 7 ?)

The NeoGeo CD does not use the C2 pointer error correction.

The NeoGeo [[CDZ]] uses the {{Chipname|LC89513}}.

=Datasheet=

Complete datasheet: [[https://www.megadrive.org/elbarto/megacd/Official%20Sega%20CD%20Manual/LC8951/]]

=Pinout=

[[File:Lc89515.png]]

=Registers=

Registers access is done through {{Reg|$FF0101}} and {{Reg|$FF0103}}.

Read and writes auto-increments the register address except from register #0. After register #15, the address loops back to #0.

{|class="wikitable
! ||colspan=2|Read||colspan=2|Write
|-
!#||Name||Definition||Name||Definition
|-
|0
|COMIN
|Command FIFO input (unused in NeoGeo CD ?)
|SBOUT
|Status byte output (unused in NeoGeo CD ?)
|-
|1
|IFSTAT
|{{8BitRegister|/CMDI|1|/DTEI|1|/DECI|1|1|1|/DTBSY|1|/STBSY|1|/DTEN|1|/STEN|1}}
|IFCTRL
|{{8BitRegister|CMDIEN|1|DTEIEN|1|DECIEN|1|/CMDBK|1|/DTWAI|1|/STWAI|1|/DOUTEN|1|/SOUTEN|1}}
|-
|2
|DBCL
|colspan=3|Data byte counter 8 LSBs
|-
|3
|DBCH
|{{8BitRegister|DTEI|4|Data byte counter 4 MSBs|4}}
|DBCH
|{{8BitRegister|-|4|Data byte counter 4 MSBs|4}}
|-
|4
|HEAD0
|
{|class="wikitable
|SHDREN=0||SHDREN=1
|-
|Header minutes||Subheader file #
|}
|DACL
|Data start address 8 LSBs
|-
|5
|HEAD1
|
{|class="wikitable
|SHDREN=0||SHDREN=1
|-
|Header seconds||Subheader channel #
|}
|DACH
|Data start address 8 MSBs
|-
|6
|HEAD2
|
{|class="wikitable
|SHDREN=0||SHDREN=1
|-
|Header frames||Subheader submode #
|}
|DTTRG
|Any write triggers a transfer start
|-
|7
|HEAD3
|
{|class="wikitable
|SHDREN=0||SHDREN=1
|-
|Header mode (01)||Subheader coding info
|}
|DTACK
|Any write acknowledges the transfer interrupt
|-
|8
|PTL
|Last decoded sector address 8 LSBs
|WAL
|Pointer to start of data to be loaded 8 LSBs
|-
|9
|PTH
|Last decoded sector address 8 MSBs
|WAH
|Pointer to start of data to be loaded 8 MSBs
|-
|10
|WAL
|Pointer to start of data to be loaded 8 LSBs
|CTRL0
|{{8BitRegister|DCEN|1|EDCRQ|1|E01RQ|1|AUTORQ|1|ERAMRQ|1|WRRQ|1|QRQ|1|PRQ|1}}
|-
|11
|WAH
|Pointer to start of data to be loaded 8 MSBs
|CTRL1
|{{8BitRegister|SYIEN|1|SYDEN|1|DSCREN|1|COWREN|1|MODRQ|1|FORMRQ|1|-|1|SHDREN|1}}
|-
|12
|STAT0
|{{8BitRegister|CRCOK|1|ILSYNC|1|NOSYNC|1|LBLK|1|WSHORT|1|SBLK|1|ERABLK|1|UCEBLK|1}}
|PTL
|Pointer to start of data to be decoded 8 MSBs
|-
|13
|STAT1
|{{8BitRegister|MINERA|1|SECERA|1|BLKERA|1|MODERA|1|SH0ERA|1|SH1ERA|1|SH2ERA|1|SH3ERA|1}}
Error flags for HEAD0~HEAD3
|PTH
|Pointer to start of data to be decoded 8 LSBs
|-
|14
|STAT2
|{{8BitRegister|-|4|MODE|1|FORM|1|-|2}}
|Unused
|
|-
|15
|STAT3
|{{8BitRegister|/VALST|1|WLONG|1|-|6}}
|RESET
|
|}

=Notes=

If CD command FIFO is not empty, status FIFO[1] = 15 (busy ?).

* Command 0: Nop ?
* Command 1:
&lt;pre>
CDEmuStop();
NeoCDAssyStatus = 0x0E;
&lt;/pre>
* Command 2:
&lt;pre>
status FIFO[1]=command FIFO[3]
&lt;/pre>
** 0: Read Q subcode first 6 digits
Data in FIFO[2~7] &amp; FIFO[8]
** 1: Read Q subcode next 6 digits
Data in FIFO[2~7] &amp; FIFO[8]
** 2: Read Q subcode last 2 digits
Data in FIFO[2~3] &amp; FIFO[8]
** 3: Read subcode TOC -2?
Data in FIFO[2~7]
** 4: Read subcode TOC -1?
Data in FIFO[2~5]
** 5: Read TOC from track in FIFO[4~5]
Data in FIFO[2~7] &amp; FIFO[8]
&lt;pre>
// bit 3 of the 1st minutes digit indicates a data track
if (TOCEntry[3] &amp; 4) {
	NeoCDCommsStatusFIFO[6] |= 8;
}
&lt;/pre>
** 6: Read Q subcode status ?
Data in FIFO[8] only
** 7: Clear FIFO ?
FIFO[3] = 5
* 3: Switch mode according to reg. #10 bit 2
MSF set in FIFO[2~3]. Starts reading disc.
* 4: Pasue
* 5:
&lt;pre>
NeoCDAssyStatus = 4;
bNeoCDLoadSector = false;
&lt;/pre>
* 7:
&lt;pre>
NeoCDAssyStatus = 1;
bNeoCDLoadSector = true;
&lt;/pre>

[[Category:Chips]]

[[File:cd2_lc8953.jpg|right|thumb|Sanyo LC8953 [[68k]] peripherial controller chip found on a {{PCB|NEO-CDM3-2 board}}.]]

Mysterious Sanyo [[68k]] programmable controller used in CD systems, also known as "PUPPET". Handles DMA, [[68k interrupts]] and communication with the [[LC89515]]. It was later replaced by a {{Chipname|LC98000}}.

=MPDMAC (DMA)=

The datasheet describes a 16 instructions long microcode program which can be loaded into the chip to perform DMA operations. There is no public documentation of the instruction set and all open source emulators use HLE to simulate it. The datasheet specifies that comparison and conditional jumps are possible.

The programs are 18 bytes (16x 9 bit instructions) loaded by the [[system ROM]] for each type of transfer needed.

==Loading programs==

* Set [[Memory mapped registers|$FF0061]] to $00
* Write microcode in words from $FF0080 to $FF008E
* Set source, destination and count registers as needed
* Set $FF0061 to $40 to start transfer

==Reverse engineering==

The chip is a very large LC92200 gate array, which could be reverse engineered optically.

The following programs come from the top-loading CDM 4-x and [[CDZ]] system ROM as part of the [[system self-test]]:

==Word fill==

Same program on CDM 4-x and CDZ.

Parameters:
* $FF0064: 32bit destination
* $FF006C: 16bit word to fill with
* $FF0070: 32bit length in words

&lt;pre>
dc.w $FFDD,$FCF5,$92F6,$2602,$FDFF,$FFFF,$FCF5,$8AF0,$1609

111111111    1FF NOP/Wait ?
101110111    177
111100111    1E7 End if 0 ?
101011001    159
001011110    05E
110001001    189
100000001    101
011111101    0FD
111111111    1FF NOP/Wait ?
111111111    1FF NOP/Wait ?
111111111    1FF NOP/Wait ?
111001111    1CF
010110001    0B1
010111100    0BC
000001011    00B Store ?
000001001    009
&lt;/pre>

==Word copy==

Parameters:
* $FF0064: 32bit source
* $FF0068: 32bit destination
* $FF0070: 32bit length in words

===CDM 4-x===

&lt;pre>
dc.w $FE6D,$FCF5,$82BF,$F693,$BF29,$02FD,$FFFF,$F97D,$FCF5

111111100    1FC
110110111    1B7
111100111    1E7 End if 0 ?
101011000    158
001010111    057
111111101    1FD
101001001    149
110111111    1BF
001010010    052
000001011    00B Store ?
111101111    1EF
111111111    1FF NOP/Wait ?
111111111    1FF NOP/Wait ?
001011111    05F
011111110    0FE
011110101    0F5
&lt;/pre>

===CDZ===

&lt;pre>
dc.w $FE3D,$FCF5,$82BF,$93BF,$F629,$02FD,$FFFF,$F17D,$FCF5

111111100    1FC
011110111    0F7
111100111    1E7 End if 0 ?
101011000    158
001010111    057
111100100    1E4
111011111    1DF
111110110    1F6
001010010    052
000001011    00B Store ?
111101111    1EF
111111111    1FF NOP/Wait ?
111111110    1FE
001011111    05F
011111110    0FE
011110101    0F5
&lt;/pre>

==Address fill==

Same program on CDM 4-x and CDZ.

Parameters:
* $FF0064: 32bit destination
* $FF0070: 32bit length in longwords

&lt;pre>
dc.w $FEF5,$FCF5,$92E8,$BE96,$F629,$02FD,$FFFF,$FC3D,$FCF5

111111101    1FD
111010111    1D7
111100111    1E7 End if 0 ?
101011001    159
001011101    05D
000101111    02F
101001011    14B
011110110    0F6
001010010    052
000001011    00B Store ?
111101111    1EF
111111111    1FF NOP/Wait ?
111111111    1FF NOP/Wait ?
100001111    10F
011111110    0FE
011110101    0F5
&lt;/pre>

==Byte copy==

Used to copy data to 8bit memory, such as PCM RAM.

* Read word from source
* Swap word
* Write word to destination
* Swap word again
* Write word to destination + 2
* source += 2, destination += 4
* Repeat (length) times

Parameters:
* $FF0064: 32bit source
* $FF0068: 32bit destination
* $FF0070: 32bit length in words (as in pairs of bytes)

===CDM 4-x===

&lt;pre>
dc.w $F2DD,$FCF5,$82F6,$93DA,$BE93,$DABE,$2C02,$FDFF,$FFCD

111100101    1E5
101110111    177
111100111    1E7 End if 0 ?
101011000    158
001011110    05E
110100100    1A4
111101101    1ED
010111110    0BE
100100111    127
101101010    16A
111110001    1F1
011000000    0C0
001011111    05F
101111111    17F
111111111    1FF NOP/Wait ?
111001101    1CD
&lt;/pre>

===CDZ===

&lt;pre>
dc.w $E2DD,$FCF5,$82BE,$93DA,$BE93,$DABE,$F62D,$02FD,$FFFF

111000101    1C5
101110111    177
111100111    1E7 End if 0 ?
101011000    158
001010111    057
110100100    1A4
111101101    1ED
010111110    0BE
100100111    127
101101010    16A
111110111    1F7
101100010    162
110100000    1A0
010111111    0BF
011111111    0FF
111111111    1FF NOP/Wait ?
&lt;/pre>

=IRQs=

The programmable [[68k interrupts|interrupt]] controller is used to generate the new vectored interrupts needed by the CD systems. DMA is used to copy each CD sector into [[68k user RAM|work RAM]] and an interrupt is generated to signal the end of the transfer. This is emulated at least by MESS.

=Datasheet=

Incomplete datasheet with pinout: [[http://www.datasheetcatalog.org/datasheet/sanyo/ds_pdf_e/LC8953.pdf]]
Both publicly available datasheets for the LC8953 and LC98000 ICs are incomplete and US Sanyo representatives aren't aware of the existence of more detailed documents.

[[Category:Chips]]
[[Category:CD systems]]

[[File:cd2_lc98000.jpg|right|thumb]]

The LC98000 found in the NeoGeo CD is a pin-compatible (and software compatible ?) [https://en.wikipedia.org/wiki/Standard_cell/ standard cell] version of the {{Chipname|LC8953}} DMA/IRQ controller.

The "LC98000" part number is actually a generic one for the technology used to make the chip.

[[File:LC98000_3DO.jpg|Another totally unrelated "LC98000" chip found in the Panasonic 3DO. Picture by @DragonsHoardMod.|thumb]]

[[Category:Chips]]
[[Category:CD systems]]

[[File:LH5116NA-10.jpg|thumb|SHARP LH5116NA-10 SRAM IC. Picture by [[User:ArcadeTV|ArcadeTV]]]]
The LH5116/H are static RAMs organized as 2,048 x 8bits. It is fabricated using silicon-gate CMOS process technology. It features high speed access in read mode using output enable (tOE).

== FEATURES ==
* 2,048 x 8 bit organization
* Access time: 100 ns (MAX.)
* Power consumption:&lt;br>
Operating: 220 mW (MAX.)&lt;br>
Standby: 5.5 mW (MAX.)
* Single +5 V power supply
* Fully-static operation
* TTL compatible I/O
* Three-state outputs
* Wide temperature range available&lt;br>
LH5116H: -40 to +85°C
* Packages:
24-pin, 600-mil DIP&lt;br>
24-pin, 300-mil SK-DIP&lt;br>
24-pin, 450-mil SOP

== DATASHEET ==
[[File:LH511610.pdf]]

[[File:LM2576.png|right|thumb]]

The LM2576 is a Step−Down Switching Regulator chip.
&lt;p>This chip is used in THE "9V" [[AES hardware|AES]] for stepping down the voltage coming from the external power supply and ensuring a correct voltage and safe current to it's [[Power_requirements|power circuit]].&lt;/p>
&lt;p>This chip is missing in the "5V" [[AES hardware|AES]] so beware in using the incorrect [[Power_supply|power supply]] in that version.&lt;/p>


==Pinout==

[[File:LM2576sch.png|512px]]

[[Category:Chips]]

#REDIRECT [[LO ROM]]

#REDIRECT [[L0 ROM]]

{{ChipInfo
|picture=Mvs_lspc-a0.jpg
|pkg=QFP160
|manu=nec
|date=1990 ?
|gates=
|used_on={{PCB|NEO-AES}} {{PCB|MV1}}
}}

LSPC-A0 is the [[VDC]] part of the first generation chipset, see {{Chipname|LSPC2-A2}} for more details.

=Pinout=

*117: 8 ULN2803 K11 / 112 C0
*127: C0 37/1 Ls273 E4/5
*128: C0 54/B0 21

{{Pinout|LSPC-A0|640}}

*A1~A3: {{Chipname|68k}} address bus
*D0~D15: 68k data bus
*SVA0~SVA14: Slow [[VRAM]] bank address bus
*SVD0~SVD15: Slow VRAM bank data bus
*FVA0~FVA10: Fast VRAM bank address bus
*FVD0~FVD15: Fast VRAM bank data bus

[[Category:Chips]]

'''L'''ine '''SP'''rite '''C'''ontroller chip. Refers to:

* {{Chipname|LSPC-A0}} (NEC version)
* {{Chipname|LSPC2-A2}} (Fujitsu version)

Both do approximately the same thing.

[[Category:Video system]]

{{ChipInfo
|picture=aes_lspc2a2.jpg
|pkg=QFP176
|manu=fujitsu
|date=1992 ?
|gates=
|used_on={{PCB|NEO-AES3-4 board}} {{PCB|MV1FZS}}...
}}

LSPC2-A2 is the second generation Line SPrite Controller, it is only found in cartridge systems.

*Generates {{Chipname|S ROM}}, {{Chipname|C ROM}} and {{Chipname|LO}} ROM addresses based on current display line and [[VRAM]] content
*Sync output
*{{Chipname|NEO-B1}} control
*68k IRQs
*68k VRAM access arbitration

First generation {{Chipname|LSPC-A0}} chips can be found in earlier systems.

=Graphics=

Two separate busses run in parallel to fetch data from the two VRAM zones. Each bus connects to a pair of 8-bit RAM chips.

*VRAM $0000~$7FFF - 2x 62256/43256
*VRAM $8000~$87FF - 2x 5814/5863/6116

The LSPC arbitrates all VRAM access and allows for {{Chipname|68k}} access at any time during rendering without display glitches if they aren't made too fast. See [[VRAM]] for timing requirements.

It shares the 24-bit [[P bus]] (P0~P23) with NEO-B1 and the on-board [[L0 ROM]], which goes out to the [[Pinouts#Cartridges|CHA connector]] on the cart slot for addressing {{Chipname|S ROM}}s and {{Chipname|C ROM}}s.

=IRQs=

All 3 possible [[68k interrupts]] are generated by this chip.

=Pinout=

{{Pinout|LSPC2-A2|640}}

*A1~A3: 68k address bus
*D0~D15: 68k data bus
*/LSPOE, /LSPWE: Decoded chip read/write
*B0~B14: Low VRAM address bus
*E0~E15: Low VRAM data bus
*/BOE, /BWE: Low VRAM read/write
*C0~C10: Fast VRAM address bus
*/CWE: Fast VRAM write enable
*F0~F15: Fast VRAM data bus
*P0~P23: Multiplexed [[P bus]]
*1H1: [[Clock]] used by NEO-B1
*2H1: S ROM A3
*24M: 24MHz clock input from {{Chipname|NEO-D0}}
*8M: 8MHz clock output to the {{Chipname|YM2610}}
*4M: 4MHz clock output to the {{Chipname|Z80}}
*CA4: C ROM A4
*DIVI, DIVO, REF, TSTD: Independant frequency division circuit used by the [[video PLL]]
*EVEN1, EVEN2, H, LOAD: C ROM serializer control, see {{Chipname|NEO-ZMC2}}
*DOTA, DOTB: Pixel opacity inputs from NEO-ZMC2
*IP0, IP1: 68k interrupt lines
*PK1: Clock to latch C ROM address from P bus
*PK2: Clock to latch S ROM address from P bus
*RESETP: Reset pulse output
*SYNC: Video sync signal output
*TST: Enable test mode, uses D0~D10 (always tied to ground)
*VCS: L0 ROM output enable
*WE1~WE4: Synchronous write enable signals for NEO-B1
*CK1~CK4: Clocks for rendering and output for NEO-B1
*SS1, SS2: NEO-B1 control
*BNKB: Video blanking (for V-blank)
*CHBL: Video blanking (for H-blank, sent to NEO-B1)
*PAL/NTSC: Video mode selection, latched during reset

[[Category:Chips]]

=LSP_1ST ($C004C8): Clear sprites=

'''Warning:'''
* Register contents aren't preserved ! (Uses D0, D1, and A0)
* VRAM address is modified

This [[system ROM]] call performs the following operations:

* All [[Sprite_shrinking|shrinking]] values are set to max (all [[sprites|SCB2]] is set to $0FFF)
* All sprite heights are set to 0 and Y positions set to 496 (all [[sprites|SCB3]] is set to $0000)
* All sprite X positions are set to 380 (all [[sprites|SCB4]] is set to $BE00)
* The map of sprite #0 is set to tiles # $FF ([[sprites|SCB1]] $0000~$0040 to $00FF,$0000)

[[Category:BIOS calls]]

{{GameInfo|right
|en_title=Last Resort
|jp_title=Last Resort
|jp_title2=ラストリゾート
|developer=SNK
|ngh_id=024
|megcount=45
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=lresort
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=lresort
|aes_date=24/04/92
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

#REDIRECT [[The Last Blade]]

#REDIRECT [[The Last Blade 2]]

The NeoGeo's rendering priority can be seen as layers. From back to front:

* The backdrop: a solid [[colors|color]].
* [[Sprites]]: their order in [[VRAM]] determines their priority. First: back, last: front.
* The [[fix layer]]: a full-screen steady tile layer above everything else.

[[File:layers.png]]

As [[Sticky_bit|chained sprites]] are always adjacent in VRAM, their priority isn't a special case.

[[Category:Video system]]

#REDIRECT [[League Bowling]]

{{GameInfo|right
|en_title=League Bowling
|jp_title=League Bowling
|jp_title2=リーグボウリング
|developer=SNK
|ngh_id=019
|megcount=26
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=lbowling
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-HERO
|mvs_cboard=CHA-32
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=lbowling
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

League bowling is one of the 3 known games supporting multi-cab [[multiplayer]].

== Technical features ==

Does the most seizure-inducing [[palette rotation]] effect of all times on the title screen's background.

[[Category:Games]]

{{GameInfo|right
|en_title=Legend of Success Joe 
|jp_title=Ashitano Joe Densetsu
|jp_title2=あしたのジョー伝説
|developer=SNK
|ngh_id=029
|megcount=50
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=legendos
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_romset=legendos
|aes_date=30/08/91
}}

*Mostly FM music, which make it sound like a Megadrive game
*Poor and repetitive FX [[PCM]] samples
*[[Auto animation]] used for stuff that doesn't loop
*Generally considered as the shittiest NeoGeo game
*This game never existed

[[Category:Games]]

#REDIRECT [[Legend of Success Joe]]

Like many other 2D systems from that era, the NeoGeo doesn't have a full frame buffer for rendering but only line buffers.

=Operation=

The [[frame size|384 pixels]] of a complete raster line are stored in a pair of buffers: one for even pixels, one for odd pixels. Each buffer is at least 192 pixels long, with 12-bit depth (8-bit palette + 4-bit color index).

There are two of these pairs, to allow flipping them between the rendering and output phases.

* Pair A, even pixels
* Pair A, odd pixels
* Pair B, even pixels
* Pair B, odd pixels

==Rendering phase==

During rendering, the [[sprites]] pixels are written one by one in the buffers at different X positions. Overlapping sprites just overwrite the previously written pixels. Special logic is used to select which odd or even buffer must be used for each pixel.

Note that the [[fix layer]] is rendered '''in real time''': it isn't copied to line buffers but overlaid during output.

==Output phase==

When rendering is complete, the pairs of buffers are flipped and the rendered buffer shifts its pixels out in a linear manner for display.

=Physical location=

They are made of RAM cells located in either the ({{Chipname|PRO-C0}} and {{Chipname|PRO-B0}}) or {{Chipname|NEO-B1}} chips.

The NeoGeo ancestor, the [[Alpha68k]], used 8 fast SRAM chips.

[[Category:Video system]]

== General information ==
* [[http://www.neogeocdworld.info NeoGeoCD World (French)]]
* [[http://www.raregame.ru/file/15/ Raregame (Russian)]]
* [[http://http://furrtek.free.fr/index.php?p=crea&amp;a=neogeo Furrtek.org (French)]]
* [[http://arcadedev.emuvibes.com ArcadeDev]]
* [[http://www.jamma-nation-x.com/jammax/tutorials.html Jamma-nation-X]]

== PCB scans ==
* [[http://mvs.gotwalls.com/index.php/Main_Page MVS scans]]
* [[http://www.arcade-collector.com/neogeo.php AES scans]]

== Repair guides ==
* [[http://newlifegames.com/nlg/index.php?board=25.0 Channelmaniac's repair logs]]
* [[http://retrogamebay.free.fr/?snk-neo-geo-mvs.html RGBay (French)]]

== Spare parts ==
* [[http://www.arcadecomponents.com/index.html Arcadecomponents.com]]

== 68k programming ==
* [[http://atariste.free.fr/asm/assembleur.html Atariste's tutorials (French)]]
* [[http://pasti.fxatari.com/68kdocs/68kPrefetch.html Great article on 68K prefetch]]

== Tools ==
* [[http://cdrecord.berlios.de/private/cdrecord.html CDRecord]]

== Emulator sources ==
* [[http://mamedev.org/source/src/mame/drivers/neogeo.c.html MAME NeoGeo driver]]
* [[http://mamedev.org/source/src/mame/video/neogeo.c.html MAME NeoGeo video functions]]
* [[http://www.psp-hacks.com/download.php?id=304 NeoCDPSP 0.91 complete source]]

[[Category:Code]]

This page lists equivalent ROM chips. Be careful about the [[memory speed|speed]].

* Mask ROMs aren't reprogrammable. They're [[bootleg|originals]] from SNK in most cases.
* EPROMs are erasable by UV light.
* EEPROMs and flash are similar, and can be reprogrammed electrically.

=32KiB (8 bit)=

{|class="wikitable"
!Reference
!Manufacturer
!Type
!Pin count
!Pinout
|-
|27C256||*||EPROM||28||
|-
|MB83256||Fujitsu||Mask||28||
|-
|LH53259||Sharp||Mask||28||
|-
|TC53257||Toshiba||Mask||28||
|}

=64KiB (8 bit)=

{|class="wikitable"
!Reference
!Manufacturer
!Type
!Pin count
!Pinout
|-
|27C512||*||EPROM||28||
|-
|MB83512||Fujitsu||Mask||28||
|-
|LH53517||Sharp||Mask||28||
|}

=128KiB (8 bit)=

{|class="wikitable"
!Reference
!Manufacturer
!Type
!Pin count
!Pinout
|-
|27C010||*||EPROM||32||[[File:27C010.png|50px]]
|-
|27C101||*||EPROM||32||[[File:27c101.png|50px]]
|-
|27C301||*||EPROM||32||[[File:27c301.PNG|50px]]
|-
|27C1000||*|| || ||
|-
|27C1001||*||EPROM||32||[[File:27c1001.png|50px]]
|-
|MB831000||Fujitsu|| ||32||
|-
|HN62321||Hitachi|| || ||
|-
|uPD23C1000||NEC|| ||28||
|-
|uPD23C1001||NEC|| ||32||
|-
|uPD23C1010||NEC|| ||28||
|-
|LH530800||Sharp|| || ||
|-
|LH531000||Sharp|| || ||
|-
|TC571000||Toshiba||EPROM||32||[[File:TC571000.PNG|50px]]
|-
|TC571001||Toshiba||EPROM||32||[[File:TC571001.PNG|50px]]
|-
|TC531000||Toshiba||Mask||28||[[File:TC531000.PNG|50px]]
|-
|TC531001||Toshiba||Mask||32||[[File:TC531001.PNG|50px]]
|-
|}

=128KiB (16 bit)=

Use this for the [[system ROM]].

{|class="wikitable"
!Reference
!Manufacturer
!Type
!Pin count
!Pinout
|-
|23C1024||*|| || ||
|-
|TC531024||Toshiba|| ||40||
|-
|-
|TC571024D||Toshiba||EPROM||40||
|-
|LH531024||Sharp|| || ||
|}

=256KiB (8 bit)=

{|class="wikitable"
!Reference
!Manufacturer
!Type
!Pin count
!Pinout
|-
|27C020||*|| || ||
|-
|MB832000||Fujitsu|| || ||
|-
|HN62302B||Hitachi|| || ||
|-
|uPD23C2000||NEC|| ||40||
|-
|uPD23C2001||NEC|| ||32||
|-
|LH532100||Sharp|| || ||
|}

=512KiB (8 bit)=

{|class="wikitable"
!Reference
!Manufacturer
!Type
!Pin count
!Pinout
|-
|23C400||*|| || ||
|-
|MB834000||Fujitsu|| ||32||
|-
|HN62401||Hitachi|| || ||
|-
|HN62314B||Hitachi|| || ||
|-
|HN62344B||Hitachi|| || ||
|-
|HN62335B||Hitachi|| || ||
|-
|TC534000||Toshiba|| || ||
|-
|uPD23C4000||NEC|| || ||
|-
|LH534700||Sharp|| || ||
|-
|LH534100||Sharp|| || ||
|}

=1MiB (16 bit)=

{|class="wikitable"
!Reference
!Manufacturer
!Type
!Pin count
!Pinout
|-
|27C160||*||EPROM||42||[[File:27c160.png|50px]]
|-
|TC5716200D||Toshiba||EPROM||42||[[File:TC5716200dpinout.png|50px]]
|-
|MX29F1615||Macronix||Flash||42||[[File:MX29F1615.png|50px]]
|-
|TC5316200AP||Toshiba||Mask||42||[[File:TC5316200AP.png|50px]]
|}

=2MiB (16 bit)=

{|class="wikitable"
!Reference
!Manufacturer
!Type
!Pin count
!Pinout
|-
|27C322||*||EPROM||42||[[File:27c322.png|50px]]
|-
|KM23C32000||Samsung||Mask||42||[[File:KM23C32000.png|50px]]
|}

=4MiB (16 bit)=

{|class="wikitable"
!Reference
!Manufacturer
!Type
!Pin count
!Pinout
|-
|TC5364202AP||Toshiba||Mask||42||*
|-
|29LV640||*||Flash||48/63||*
|-
|}


To add:

&lt;pre>

------------------------------------------------------
Fujitsu

4M   256k x 16 / 512k x 8   MB834100 (40 pin)
4M   256k x 16 / 512k x 8   MB834200 (40 pin)
------------------------------------------------------

Hitachi

EPROM

27512
27C1024H
27C101A
27C301A non-jedec
27C4000
27C4096
27C4001

Mask ROM
--------
Hitachi

2M  128K x 16 / 256K x 8    HN62412/422
    128K x 16               HN62442B

4M  256K x 16 / 512K x 8    HN62414/434
    256K x 16 / 512K x 8    HN62415
    256K x 16 / 512K x 8    HN62W415
    256K x 16 / 512K x 8    HN62444
    256K x 16               HN62444B
    256K x 16               HN62444BN

8M  512K x 16 / 1M x 8      HN62418/428
    512K x 16 / 1M x 8      HN62W428
    512K x 16 / 1M x 8      HN62438
    512K x 16 / 1M x 8      HN62448
    512K x 16 / 1M x 8      HN62438N
    512K x 16 / 1M x 8      HN62448N
    1M x 8                  HN62318B/328B
    1M x 8                  HN62W328B
    1M x 8                  HN62338B

16M 1M x 16 / 2m x 8        HN624116
    1M x 16 / 2m x 8        HN624W116
    1M x 16 / 2m x 8        HN624316
    1M x 16 / 2m x 8        HN624316N

------------------------------------------------------

NEC
                            uPD23C4001 32 pin

------------------------------------------------------

Sharp
    128k x 16               LH532048
    256k x 8 / 128k x 16    LH532000
------------------------------------------------------
    
Toshiba
    512k x 8 / 256k x 16    TC534200
    1M x 8 / 512k x 16      TC538000
    1M x 8 / 512k x 16      TC538200
    2M x 8 / 1M x 16        TC5316200

------------------------------------------------------

EPROM Cross Reference
---------------------
            32kx8       64kx8       128kx8      128kx8      64kx16
AMD         27C256      27C512      27C010                  27C1024
Fujitsu     27C256      27C512      27C1001     27C1000     27C1024
Hitachi     27C256                  27C101      27C301      27C1024
Intel       27C256                  27C010                  27C210
Mitsubishi  27C256      27C512      27C101      27C100      27C102
NEC         27C256      27C512      27C1001     27C1000     27C1024
OKI         27256
TI          27C256      27C512      27C010                  27C210
Toshiba     TC57256     TC57512     TC571000    TC571001    TC571024

            256kx8      128k x 16 / 256k x 8
AMD         27C020      27C2048
NEC         27C2001

            512kx8      512kx8/256kx16
AMD
Fujitsu     27C4000/1   27C4096
Hitachi
Intel
Mitsubishi
NEC         27C4001
OKI
TI
Toshiba     TC574000    TC574200

Mask ROM Cross Reference
------------------------
            128k x 8        128k x 8
Fujitsu     MB831000
Toshiba     TC531000        TC531001
Hitachi     HN62321/31      HN62321A/31A
Mitsubishi  231000
NEC         23C1000         23C1001
OKI         531000
Sharp       LH531000
Sony        381000

            64k x 16        64k x 16        512k x 8 / 256k x 16
Toshiba     TC531024        TC53H1024       TC534200
Fujitsu                                     MB834100
Hitachi                                     HN62404
Mitsubishi                                  23C400P
NEC         23C1024
OKI
Sharp                                       534000

            1m x 8 / 512k x 16      2m x 8 / 1m x 16
Fujitsu
Toshiba     TC538200                TC5316200
Hitachi     HN62801                 HN621601
Mitsubishi  23C800P                 231600P
NEC         23C8000                 23C1600
OKI
Sharp       538100                  531601

&lt;/pre>

Most infos come from the publicly available romref.txt file.

[[Category:Chips]]
[[Category:Repairs]]

[[BIOS calls]] '''BIOSF_LOADFILE''' ($C00552) and '''BIOSF_LOADFILEX''' ($C00564) are used to load files from the CD.

The '''BIOSF_LOADFILE''' call displays a loading animation, while BIOSF_LOADFILEX (better name ?) doesn't.

Register A0 needs to point to a block indicating:
*The filename, ended by a 0 byte
*The bank number (8bit)
*An optional pad byte to align:
*Destination address (32bit)
*Zero-terminated

Example:

&lt;syntaxhighlight>
file_list
	dc.b	'FILE1.SPR', $00	; file name
	dc.b	$02					; bank
	dc.b	$00					; padding
	dc.l	$00000000			; destination
	dc.b	'FILE2.SPR', $00	; file name
	dc.b	$03					; bank
	dc.b	$00					; padding
	dc.l	$00000000			; destination
	dc.b	$00					; End of list
&lt;/syntaxhighlight>

The destination memory is automatically chosen according to the file's extension.

Rules:
*[[SPR file]]s have 1MiB banks. [[PCM file]]s have 512KiB banks. Other types aren't banked.
*[[FIX file]]s and [[PCM file]]s need to have their destination address multiplied by 2.

BIOS RAM adresses for currently loaded sectors, total sectors ?...

'''Pitfalls:''' Interrupts must be enabled for file loading to function.

[[Category:CD systems]]
[[Category:Code]]

==Samurai Shodown RPG Loading==

Once the bios has handled the initial IPL loading for this game all other loading is handled by the game itself and not the bios calls above. The IPL loads file 'EXT_SYS.PRG' to 0x132000 and all known future 'in game' loading is handled by code in this area. Why the games uses this instead of the bios is not currently known but it may be related to the bios not being able to handle the amount of files stored on the CD disc (3831) or to optimize loading of the many small files used by the game.

This code will need investigating to obtain a full understanding of why it is used over the bios. There may also be other bios routines not related to loading used here too.

Aka "the juggling monkey", loading times are a (shamefully) well known issue of arguably all the NeoGeo CD systems.

Comparition of loading times in various games (French): [[http://neogeocdworld.info/html/dossiers/temps_chargements.htm]]

Wether on CD or CDZ there's a 4.48 seconds constant, and a 0.65 seconds overhead per file. Depending on the loading file list, the CD drive speed relates to 50~75% of the total loading time.

==Why ?==

Loading in CD systems is an inavoidable step. It allows the system's CPU to access all data randomly, from a media which can only be read in long, contiguous streams.

[[CDDA]] tracks are '''not''' loaded or even loadable, since they are read like a regular music CD while the game is running.

Back when the NeoGeo CD was designed, common CD drives used x1, x2 or x4 speeds for the most expensive ones. The base speed (x1) is 150kB/s, x2 is 300kB/s...

To make it clear: the NeoGeo CDs loading time issue is caused by large game data loaded by a slow CD drive.

To fill up all the NeoGeo CD's [[DRAM]], which corresponds to the largest loading possible, it would '''ideally''' take 7MB/150kB = 47 seconds, and 7MB/300kB = 24 seconds on the [[CDZ]].

==Comparison with the Sega MegaCD==

This is like comparing a Megadrive cart with a NeoGeo cart: one's bigger than the other.

The MegaCD also has a x1 drive, but only 0.75MB of DRAM (to check), which means around 9 times less loading memory than the NeoGeo CD. The games are just way bigger (code, graphics, sound...) on the NeoGeo.

==Ideally and reality==

It is commonly assumed that the "x" speed indication of a CD drive is directly related to the loading time.

Actually that is the ideal speed, which would correspond to loading a unique 600MB file into a zero-lag memory with infinite speed copy. This does not happen in reality.

===Seeking===

A CD is made of an unique, continuous track containing all the data. Seeking in this track can take a huge amount of time because it requires the CD drive to mechanically move the laser pickup head and wait for the required data to "pass by" while the CD is spinning. For example, seeking from the first to the last sector of a CD can take up to 4 seconds, '''regardless''' of the drive's data speed.

Since there are numerous files in a typical game CD, seeking times add up when multiples files need to be loaded.

The seeking times depend on the physical relative position of the file's data on the CD.

This also means that the crapload of files in Samurai RPG makes it the most innefficient game regarding loading times (not necessarily the longest).

===Error correction===

A "CD host chip" decodes and error-checks and corrects data from the (possibly scratched) CD in real time (no delay), but buffers the data in cache memory waiting for copy. This adds a small but frequent overhead on every CD sector loaded.

===Copy===

Each CD sector is then copied to the appropriate DRAM chip. The copy procedure is handled by the NeoGeo CPU itself (DMA sometimes ? Still slow...), which is slow (TODO: need average data throughput).

[[Razoola]] indicated that his CD Unibios optimized the copy procedure, reducing the total loading time a bit.

==The initial black screen==

The long, scary black screen before the loading screen appears is intentional. The screen is turned off while the [[FIX file]] listed in the games [[IPL file]] is loaded. It's scary because there's no loading bar and the drive makes funny noises (pickup slide, chirping lens coils). It is required however as graphic corruption would be visible on screen otherwise. The [[IPL file]] contents (file list and locations) is read into memory when the game CD is first recognized by the system after it is inserted. Once recognized the press start message starts flashing to indicate game loading can begin.

All in all, on the NeoGeo CD, the CD drive speed makes up for only 50~75% of the loading time, the rest is seeking (mechanical, by design of CD technology), and buffering/copy (NeoGeo CPU and DRAM speed).

TODO: Match that with the CD to CDZ ratio.

==How to improve==

*Use a faster CD drive, which implies changing the CD host chip for a faster, compatible one (good luck !)
*Kick the [[68k]]'s butt so it goes faster: overclocking, using a 16MHz+ grade one
*Use faster DRAM, probably implies changing DRAM controllers too

Basically: Redesign 1/3 of the console :) Buy a damn MVS board.

[[Category:CD systems]]

=74xx04=

[[File:74as04.png|right|thumb]]

The 74xx04 is a hex inverter.

[[File:74as04sch.png|512px]]

&lt;p>Used in some [[MVS hardware|MVS]] for the [[Battery-backed RAM|Battery-backed RAM]], in the [[AES hardware|AES]] for the color burst oscillator and [[Clock|main system clock]] and also in the [[AES hardware|AES]] and some [[MVS hardware|MVS]] for the [[Memory card|Memory card]] interface.&lt;/p>
&lt;p>Found in DILP-14 packages.&lt;/p>

=74xx32=

[[File:74hc32dip.png|right|thumb]]

The 74xx32 is a quad. 2-input OR gate.
&lt;p>Used in the [[MVS hardware|MVS]] for the [[Battery-backed RAM|Battery-backed RAM]] and also in the [[AES hardware|AES]] and some [[MVS hardware|MVS]] for the [[Memory card|Memory card]] interface.&lt;/p>
&lt;p>Found in DILP-14 and SOP-14 packages.&lt;/p>

[[File:74hc32schematic.jpg]]

==Memory card interface==

*3A: 74HC259 PIN 7
*3Y: 74HC32 PIN 2
*5A: 74HC32 PIN 12
*5Y: [[NEO-G0]] PIN 51
*6A: CRDC
*6Y: 74HC32 PIN 11

=74xx05=

[[File:74ls05.png|right|thumb]]

The 74xx05 is a hex inverter.
&lt;p>Used in some [[MVS hardware|MVS]] for the [[System ROM mapping circuit|System ROM mapping circuit]], and also in the [[AES hardware|AES]] and [[MVS hardware|MVS]] for the [[Video DAC]].&lt;/p>
&lt;p>Found in DILP-14 and SOP-14 packages.&lt;/p>

[[File:74ls05sch2.png|512px]]

==Memory card interface==

*1A: 74HC259 PIN 6
*1B: 74HC04 PIN 6
*1Y: 74HC32 2A
*2A: 74HC32 1Y
*2B: CRDW
*2Y: [[Memory card pinout|Memory card connector]] PIN 15 
*3A: 74HC259 PIN 9
*3B: Memory card Output enable
*3Y: [[Memory card pinout|Memory card connector]] PIN 61
*4A: nc
*4B: nc
*4Y: nc

=74xx06=

[[File:74ls06.png|right|thumb]]

The 74LS06 is a hex inverter.
&lt;p>Used in the [[AES hardware|AES]] and some of the [[MVS hardware|MVS]] for each of the player's OUT1, OUT2 and OUT3 [[Pinouts|controller ports]].&lt;/p>
&lt;p>Found in DILP-14 and SOP-14 packages.&lt;/p>

[[File:74ls06sch.png|512px]]

=74xx244=

[[File:74ls244.png|right|thumb]]

The 74xx244 is an octal 3-state buffer.

[[File:74LS244sch.png]]

=74xx273=

[[File:74ls273dip.png|right|thumb]]

The 74xx273 is an octal D-type flip-flop.
&lt;p>Used in the [[AES hardware|AES]] and [[MVS hardware|MVS]] for the [[Colors|color bits]].&lt;/p>
&lt;p>Found in DILP-20 and SOP-20 packages.&lt;/p>

[[File:74ls273sch.png]]

[[Category:Chips]]

[[File:cdzload.png|frame|CDZ default loading screen.]]

[[File:kof96load.png|frame|KOF 96 custom loading screen (LOGO_E.PRG).]]

LOGO files are optional files used to create custom CD loading screens.

The [[system ROM]] automatically loads one of the following files according to the console's [[nationality]] setting, if present in the CD's root:

* LOGO_E.PRG for European nationality.
* LOGO_U.PRG for US nationality.
* LOGO_J.PRG for Japanese nationality.

The files must not be larger than ?? bytes. (KOF '99 uses 16.3KB files)

=File format=

{|class="wikitable"
!Size
!Description
|-
|Word
|Flags
|-
|Longword
|Data type
|-
|Longword
|Data pointer
|-
|Longword
|Data type
|-
|Longword
|Data pointer
|-
|...
|
|-
|Longword
|0xFFFFFFFF terminator
|-
|?
|Data previously pointed to...
|}

The first word represents flags:

* Bit 0: If set, do not draw the default 'NOW LOADING please wait' graphic (see picture top right).
* Bit 1: If set, no progress bar is drawn.
* Bit 2: If set, no animation is drawn.

No other bits seem to be checked by the system ROM.

The rest of the file's contents are "data type - pointer" longword pairs. The type codes used must be sorted in an ascending order. The file is terminated with a $FFFFFFFF type code. The valid type codes are:

*1: Fix tiles
*2: Palette
*3: Tile map
*4: Animation map

The pointer values are absolute, starting from $120000.

==Fix tiles data format==

* Offset (longword). Example: $4000 = start at tile #512
* Size (longword). Example: $2000 = load 256 tiles
* Tile data...

Like the regular [[fix graphics format]], but byteswapped.

==Palette data format==

* Palette number (word).
* 16 words of [[palettes|color data]].

Note: The default progress bar seems to use palette 0, be careful not to overwrite it. Remember that fix tiles can only use the 16 first palettes.

==Map data format==

All values are words.

* Start fix map address ($7102 is good).
* Width in tiles.
* Height in tiles.
* Fix tilemap data as found in [[VRAM]]...

Note: Mapping is done from left to right, top to bottom.

==Animation map data format==

All values are words.

* Start fix map address ($7102 is good).
* Width in tiles.
* Height in tiles.
* Number of frames in animation.
* Animation speed (in frames).
* Fix tilemap data as found in [[VRAM]]...

==Using LOGO files for in-game loading==

By default the system ROM will always use the initial LOGO file during in game loading sequences. It is possible to change this by loading new data over the buffered LOGO file data at $120000. How this gets loaded is not yet confirmed but its suspected that games request the data to be loaded as it would any other data given there is not need for 'LOGO' to be in the file name in this situation. It may also be possible the system ROM looks out for data being loaded into this region before drawing.

The ability to change the default progress bar (handled by the system ROM) is also available. The system ROM places the start address of its code to handle progress bar drawing at $11C80C. This code is then always called via 'MOVEA.L 0x11C80C,A0', 'JSR(A0)'. To use a custom progress bar simply place the start address of your custom progress bar code at $11C80C. Current progress bar state is held at address $10F691. Your code should handle all elements of drawing the progress bar.

It appears games plant their custom progress bar code into the default LOGO file as well as any further files that get loaded to this range. Below is the routine used by Samurai Shodown IV as seen in file 'JL_ST1.PRG' once in RAM. The main game program code places 0x120086 to $11C80C

&lt;syntaxhighlight>
120086  4EF9 0012 4AD0             JMP      0x124AD0
&lt;/syntaxhighlight>

&lt;syntaxhighlight>
124AD0  4DF9 003C 0000             LEA      0x3C0000,A6
124AD6  41F9 0012 4B00             LEA      0x124B00,A0
124ADC  1239 0010 F691             MOVE.B   0x10F691,D1
124AE2  0241 00F0                  ANDI.W   #0xF0,D1
124AE6  D0C1                       ADDA.W   D1,A0
124AE8  203C 719B A200             MOVE.L   #0x719BA200,D0
124AEE  7E0F                       MOVEQ    #0xF,D7
124AF0  1018                       MOVE.B   (A0)+,D0
124AF2  2C80                       MOVE.L   D0,(A6)
124AF4  0680 0020 0000             ADDI.L   #0x200000,D0
124AFA  51CF FFF4                  DBF      D7,*-0xA [0xC00422]
124AFE  4E75                       RTS
&lt;/syntaxhighlight>


==Additional Notes==
Attempting to load a LOGO with an Animation speed of less than 5 can cause crashes. [Tested on a Japanese region top loader with Neo CD Loader installed]
[[Category:CD systems]]

#REDIRECT [[Last Resort]]

[[File:m_rom.jpg|thumb|right|128KiB M1 ROM]]
"'''M'''usic" ? Unique 8-bit ROM containing the [[z80]] program and data in [[cartridges]]. Often bankswitched by {{Chipname|NEO-ZMC}} or {{Chipname|NEO-ZMC2}} if bigger than 64KiB.

Note that sounds and instruments are stored in the [[V ROM]]s.

[[Category:Chips]]
[[Category:Cartridge systems]]

==Cold boot process==

*DI, SP at $FFFC, IM=1
*Clear $F800~$FFFF
*Clear the command buffer (128 bytes) and pointers
*Silences FM, PCM and SSG
*OUT ($C0),A = 1
*stuff with timer A
*banks init:
&lt;pre>
ld      a,#1e
in      a,(#08)
ld      a,#0e
in      a,(#09)
ld      a,#06
in      a,(#0a)
ld      a,#02
in      a,(#0b)
&lt;/pre>
*Reset FM
*out (#08),a
*EI
*loop while buffer read index = buffer in index
*inc buffer read index
*AND index with $3F (keeps it under 64)
*Reads buffer, clears entry to 0
*If command = 0, read R, out (#0c),a and loop back to EI
*If command != 0:
*Translate command by LUT, ret if =0, can be anything 1~5.
*LUT is something like 0,1...,2...,0...,5...,0...4...,0...,3,3
*1:Special command, uses a jump table (0~27)
**0:RET, should not happen
**1:DI,reset banks,out (#0c),a=0, wait,out (#0c),a=0 again, init YM2610, out (#0c),a=1

Has a 2*64 byte command FIFO.

*Command 5: Stop music (pause ?)
*Command 7: Play music in following byte
*Command A: Fade, speed in following byte
*Command E: Set music speed

Command type translation table at $4FAF.
*0: Ignore
*1: Special command
*2: ?
*3: ?
*4: ?
*5: ?

[[Category:Audio system]]

=MESS_OUT ($C004CE): Generic VRAM output=
[[File:Mess_out.png|frame|right]]

MESS_OUT executes a command buffer located in the [[System ROM]]'s work RAM starting at '''BIOS_MESS_BUFFER''' (constant $10FF00) up to '''BIOS_MESS_POINT''' (longword variable $10FDBE). This can be used to display text messages, boxes... on the [[fix layer]].

MESS_OUT is automatically called in the [[SYSTEM_INT1]] call. '''BIOS_MESS_BUSY''' ($10FDC2.b) can be set to prevent updates while the command buffer is being modified.

The command buffer can be made of commands directly, or pointers to command lists in ROM or user RAM. To have commands directly into the buffer, a null pointer ($00.l) needs to be placed before the command list.

Commands are always words.

=Commands=
==Command 0: End of command list==
1 word: $0000

==Command 1: Set data format==
2 words:
{{16BitRegister|0|6|Byte/Word|1|End code/Data size|1|$01|8}}

This command specifies if the data will be in bytes or words, and if the size is defined or if an end code has to be reached.

;If data is in bytes (bit 9 = 0):
:The next word's upper byte will be the data's constant upper byte (since VRAM can only be written in words).
:If the data is limited by an end code (bit 8 = 0), the next word's lower byte will be the end code's value.
:If the data size is defined (bit 8 = 1), the next word's lower byte will be the size (so max length is $FF).

;If data is in words (bit 9 = 1):
:If the data is limited by an end code (bit 8 = 0), the next word will be the end code's value.
:If the data size is defined (bit 8 = 1), the next word will be the size (so max length is $FFFF).

Examples:
&lt;syntaxhighlight>
dc.w  $0001,$15FF  ;Data will be read in bytes, upper byte will always be $15, end code is $FF.
dc.w  $0101,$1520  ;Data will be read in bytes, upper byte will always be $15, data length is $20.
dc.w  $0201,$8000  ;Data will be read in words, end code is $8000.
dc.w  $0301,$2044  ;Data will be read in words, data length is $2044.
&lt;/syntaxhighlight>

The format stays the same until command 1 is used again.

==Command 2: Set auto-increment==
*1 word
{{16BitRegister|Auto-inc value|8|$02|8}}

Sets the auto-increment value (written to '''VRAM_MOD''' ($3C0004)). Is the value sign-extended or not ?
&lt;syntaxhighlight>
dc.w  $2002  ;Set auto-inc to $20
&lt;/syntaxhighlight>

==Command 3: Set VRAM address==
*2 words
Sets the VRAM address written to '''VRAM_ADDR''' ($3C0000)) to the next word's value.
&lt;syntaxhighlight>
dc.w  $0003,$7201  ;Set VRAM address to $7201
&lt;/syntaxhighlight>

==Command 4: Set data address==
*3 words
Sets the output data address to the next longword. Actual writes to VRAM are done with this command.
&lt;syntaxhighlight>
dc.w  $0004
dc.l  MESSAGE
&lt;/syntaxhighlight>

==Command 5: Add to current VRAM address==
*2 words
Add the next word to the current VRAM address. (This is different from command 2). Useful to skip lines or spaces.
&lt;syntaxhighlight>
dc.w  $0005,$001F  ;Add $1F to the current VRAM address
&lt;/syntaxhighlight>

==Command 6: Resume data output==
*1 word
Resume data output (instead of using command 4 again, keep going from the last address).

==Command 7: Directly define output data==
*at least 2 words
Directly define the data (instead of using command 4 to point to it). Don't forget the padding byte if the data ends on an odd address.
&lt;syntaxhighlight>
dc.w  $0007
dc.b  $30,$31,$34,$45,$FF
dc.b  $00    ;Pad byte
&lt;/syntaxhighlight>

==Command 8: Write text with 8x16 font==
*at least 2 words
{{16BitRegister|Upper data byte (fontset number)|8|$08|8}}

Writes with the 8*16 pixels fix font. The commands upper byte will be the data's constant upper byte. The next bytes are data, and the end code is $FF.

The auto-inc is automaticaly set to $20.

&lt;syntaxhighlight>
dc.w  $0108    ;Tileset 1
dc.b  $44,$51  ;Data
dc.b  $FF      ;End code
dc.b  $00      ;Pad byte
&lt;/syntaxhighlight>

==Command 9: Write Japanese text==
Same as command 8 but for Japanese characters.

Upper-case ASCII (0x20-0x5F) and characters 0x80-0xFE are handled identically to command 8.&lt;br />
Characters 0x00-0x19 are hiragana with diacritic marks.&lt;br />
Characters 0x60-0x7A are katakana with diacritic marks.&lt;br />

The tiles used for this are all taken from page 0, irrespective of the selected fontset.&lt;br />
0x00-0x1F map to 0x080-0x09F (upper) and 0x0C0-0x0DF (lower).&lt;br />
0x60-0x7F map to 0x0A0-0x0BF (upper) and 0x0E0-0x0FF (lower).&lt;br />

==Command A: Call sub list==
*3 words
Call sub command list. The next longword is a pointer to another command list. Return has to be made using command B.
&lt;syntaxhighlight>
dc.w  $000A
dc.l  SUBLIST
&lt;/syntaxhighlight>
'''The call stack seems to be 5 addresses deep.''' Be sure to avoid nesting too many list calls.

==Command B: Return from sub list==
*1 word
Return to calling command list.

==Command C: Repeated data output==
*2 words
Repeat output. The upper byte of the command is the number of times to output the next word.

&lt;syntaxhighlight>
dc.w  $090C,$0147  ;Outputs $0147 9 times
&lt;/syntaxhighlight>

==Command D: Repeat and increment output==
*2 words

Repeat and increment output. The upper byte of the command is the number of times to output the next word. The lower byte of the data is incremented each time.
&lt;syntaxhighlight>
dc.w  $040D,$42FE  ;Outputs $42FE,$42FF,$4200,$4201
&lt;/syntaxhighlight>

=Example code and command lists=
(Slightly modified code from SNK's doc, output gives the above screencap.)

&lt;syntaxhighlight>
 bset.b  #0,BIOS_MESS_BUSY
 movea.l BIOS_MESS_POINT,a0  ;Get current pointer in buffer
 move.l  #0,(a0)+       ;Direct commands
 move.w  #3,(a0)+       ;Set VRAM address to $7318
 move.w  #$7318,(a0)+
 move.w  #$0301,(a0)+   ;Words, size = 1
 move.w  #$0001,(a0)+
 move.w  #$0007,(a0)+   ;Output data
 move.w  $100000,(a0)+
 move.w  #0,(a0)+       ;End of this list
 move.l  #MESSAGE1,(a0)+ ;Pointer to list in ROM
 move.l  a0,BIOS_MESS_POINT  ;Update pointer
 bclr.b  #0,BIOS_MESS_BUSY   ;Ready to go
 rts

MESSAGE1:
  dc.w  $0001    ;Bytes, upper = $00, end code = $FF
  dc.w  $00FF
  dc.w  $2002    ;Auto-inc = $20
  dc.w  $0003    ;VRAM address = $7024
  dc.w  $7024
  dc.w  $0004    ;Write "MESSAGE1"
  dc.l  MS1

  dc.w  $0005    ;Next line
  dc.w  $0001
  dc.w  $0006    ;Resume, write "MESSAGE2"
  dc.w  $0005    ;Next line
  dc.w  $0001

  dc.w  $0007    ;Direct data output
  dc.b  "MESSAGE3"
  dc.w  $FF00    ;End code and pad byte

  dc.w  $0005    ;Next line
  dc.w  $0001

  dc.w  $0108    ;8x16 write, fontset 1
  dc.b  "ABCDE",$FF
  dc.w  $0005    ;Next line
  dc.w  $0001
  dc.w  $0109    ;8x16 write, fontset 1
  dc.b  0,1,2,3,4,$FF
  dc.w  $0005    ;Next 2 lines
  dc.w  $0002
  dc.w  $000A    ;Sub list calls
  dc.l  SUB_MESS
  dc.w  $000A
  dc.l  SUB_MESS
  dc.w  $000A
  dc.l  SUB_MESS
  dc.w  $0000

MS1:
  dc.b "MESSAGE 1",$FF
  dc.b "MESSAGE 2",$FF

SUB_MESS:
  dc.w  $090C    ;Outputs $0022 9 times
  dc.w  $0022
  dc.w  $070D    ;Outputs $0042 7 times with inc
  dc.w  $0042
  dc.w  $0005    ;Next line
  dc.w  $0001
  dc.w  $000B    ;Return
&lt;/syntaxhighlight>

[[Category:Code]]
[[Category:BIOS calls]]

The Multi Game Doctor 2 was a multi-system game loading device made by Bung Enterprises, sold as a development tool (yeah right).

The main MGD2 unit uses a floppy drive to read ROM files off disks, and uploads them to special SRAM or DRAM memory cards in adapters made for various game systems.

Video of the device in use: https://www.youtube.com/watch?v=X987OtPxHpk

The NeoGeo MGD2 cartridge needed 5 memory cards:

{|class="wikitable"
| '''Card slot'''
| '''Type'''
| '''Size'''
| '''Area #'''
| '''Description'''
|-
| A || DRAM || 32Mb || 5 || Half of the [[sprites]] graphics
|-
| B || DRAM || 32Mb || 6 || Other half of the sprites graphics
|-
| C || DRAM || 32Mb || 1 || [[ADPCM]]A data
|-
| D || SRAM || 8Mb || 0 || [[68k]] program
|-
| E || DRAM || 32Mb|| 2 || [[ADPCM]]B data
|-
| Internal || SRAM|| 1Mb || 3 || [[Fix layer]] graphics
|-
| Internal || SRAM|| 1Mb || 4 || [[Z80]] program
|}

== ROM files ==

Infos from [[User:NeoTurfMasta]]

Maximum file size: 8Mb / 1MB

Filename characters:
* 1: Must be 'N'
* 2, 3, 4: Total size of the romset in Mb
* 5, 6, 7: "Serial" number used to differenciate romsets that would otherwise have the same filenames. Not related to the [[NGH]] ?
* 8: A to D, which 1MB segment in the area to upload to

Extension characters:
* 1: Area # to which the data should be uploaded to
* 2: Data width: '7' means data is 8bit, '3' means data is 16bit
* 3: Upload address offset added to the above segment. '8' means 0, 'C' means 512kB (middle of segment)

Examples: 
&lt;pre>N042001A.038&lt;/pre>
* Total size of romset: 42Mb
* Serial: 001
* Upload file to area 0 in words to address 000000

&lt;pre>N028015B.27C&lt;/pre>
* Total size of romset: 28Mb
* Serial: 015
* Upload file to area 2 in bytes to address 180000

[[Category:Cartridge systems]]

[[File:Mv-ela_schem.png|thumb|512px|MV-ELA schematic]]

External board provided with original multi-slot [[MVS hardware|MVS]] cabs to generate high voltage and switch it to the [[marquee]]'s [[MV-ELC]] or [[MV-ELD]] board(s).

Often produces a high-pitched noise when some panels are lit, this is normal and common with old switching PSUs. If the noise is too annoying, replace the transformer. LED replacement kits can also be found.

Software control is done through registers {{Reg|REG_LEDDATA}}, and {{Reg|REG_LEDLATCHES}}. See [[Controlling the marquee]].

'''Be careful when manipulating this board when powered: touching the high voltage section can hurt A LOT.''' After disconnecting power, it shouldn't keep a dangerous charge for long.

{|
|[[File:Mv-ela_top.jpg|thumb|512px|MV-ELA top]]
|[[File:Mv-ela_bot.jpg|thumb|512px|MV-ELA bottom, HV cap]]
|}

=Revisions=

[[File:Mv-ela_bodge.jpg|thumb|256px|"Oops" version of the MV-ELA board.]]

* An early version of the MV-ELA board (same reference) exists, with a separate power input connector and the high-voltage part as another separate bodge board.
* The MV-ELA-1 has the high-voltage C3 cap correctly placed on the components side, and uses a 1 watt resistor as fuse.

=Components=

* Off-the-shelf logic chips, see schematic.
* 5 pin transformer and C2516 transistor to form a self-oscillating voltage step-up circuit.
* 6x 800mA 400V AC0V8 triacs ([http://www.alldatasheet.com/datasheet-pdf/pdf/105128/NEC/AC0V8DGM.html datasheet]) for switching outputs.

=Repair=

The marquee can be tested in the [[system ROM]]'s hardware test menu. The third screen shows an "EL" value which should count from 1 to the number of slots available on the system, turning each panel on in sequence.

If the step-up circuit stalls, the transistor may short 5V to ground. This will cause the two (or unique) resistor(s) near the "MAIN PCB" connector to burn out.

In this case, replace:

* The C2516 transistor
* The power input resistor(s) (R3 and R4)
* Capacitors and resistors in the feedback circuit (C1, C2, R1 and R2)
* The transformer, if any winding is open

If the step-up circuit works but some or all panels don't light up, check the triacs first, then the logic chips.

If some triacs are dead, make sure that the marquee wiring or boards don't have any shorts.

[[Category:Cartridge systems]]
[[Category:Repairs]]

MV-ELC 1/2 and MV-ELC 2/2 are a pair of mounting boards provided with original 6-slot [[MVS hardware|MVS]] cabs to attach the [[marquee]]'s electro-luminescent panels. Each one can hold 3 panels.

They don't use any components except connectors.

Both boards are different:
* The MV-ELC 1/2 board has two connectors: one for the [[MV-ELA]] board, and another one for chaining the MV-ELC 2/2 board.
* The MV-ELC 2/2 board has only one connector.

The 2 or 4 panel version is the [[MV-ELD]].

[[Category:Cartridge systems]]

MV-ELD 1/2 and MV-ELD 2/2 are a pair of mounting boards provided with original 2-slot and 4-slot [[MVS hardware|MVS]] cabs to attach the [[marquee]]'s electro-luminescent panels. Each one can hold 2 panels.

They don't use any components except connectors.

Both boards are different:
* The MV-ELD 1/2 board has two connectors: one for the [[MV-ELA]] board, and another one for chaining the MV-ELD 2/2 board.
* The MV-ELD 2/2 board has only one connector.

The 3 or 6 panel version is the [[MV-ELC]].

[[Category:Cartridge systems]]

[[File:mv-led.jpg|thumb|MV-LED board. Picture courtesy of [[http://thearcadeboneyard.com TheArcadeBoneyard]].]]

[[File:mv-led2.jpg|thumb|MV-LED2 board, same components, different size. Picture courtesy of [[http://www.mvs-scans.com MVS-Scans]].]]

LED-based credits display board in original [[MVS hardware|MVS cabs]]. Uses two 7-segment displays to show the player's remaining [[credits]].

Uses [[CRE401]] arrays for inputs.

Pinout, from left to right (pins 1 to 13):
*5V
*5V
*Clock
*Digit 1 ABCD
*Digit 2 ABCD
*GND
*GND

Digits are BCD-coded and controlled by registers {{Reg|REG_LEDLATCHES}} and {{Reg|REG_LEDDATA}}.

[[File:74ls47 digits.png|center]]

See also [[MV-ELA]] for the marquee board details.

[[File:mv-led2_schem.png|thumb|MV-LED2 board incomplete schematic.]]

Connection to the MVS board visible in [[http://wiki.neogeodev.org/index.php?title=File:Mv1fs-page5.jpg on page 5 of the schematics]]

=Repair=

These boards can be tested in the [[system ROM]]'s hardware test menu. The third screen shows "LED1" and "LED2" values which should change each second. The value shown should be the value displayed on the boards.

[[Category:Repairs]]
[[Category:Cartridge systems]]

==Description==

{{SlotInfo
|year=?
|slot_nb=1
|bios=Socketed
|cart_orientation=Horizontal
|memcard_support=External
|joystick_support=Yes
|stereo_output=Yes
|headphone_output=External
}}

[[Category:Cartridge systems]]

[[File:Mv1.jpg|thumb|Photo by Mauricio from neo-geo.com]]
[[File:Mv1bot.jpg|thumb|Photo by Mauricio from neo-geo.com]]

==Description==

{{SlotInfo
|year=Circa 1990
|slot_nb=1
|bios=Socketed
|cart_orientation=Horizontal
|memcard_support=External
|joystick_support=Yes
|stereo_output=Yes
|headphone_output=External
}}

=Factory fix=

Some boards seem to have a factory fix to add delay to the EVEN signal (green wires).

[[Category:Cartridge systems]]

==Description==

A strangely designed MVS board which uses some chips found in the NeoGeo CD. Maybe allowed SNK to cut costs by using chips for both systems.

{{SlotInfo
|year=Circa 1995
|slot_nb=1
|bios=Socketed
|cart_orientation=horizontal
|memcard_support=no
|joystick_support=no
|stereo_output=no
|headphone_output=no
}}

==PALs==

See [[MV1A PALs]].

==Scans==

===Main Board===

[[File:NEO-MVH MV1A Front.jpg|800px|thumb|center|Main Board Front]]

{{Chipname|NEO-BUF}} list:
*GA4: 68k bidirectional palette access
*GA7: Read P1 and P2 inputs
*GA8: Only half used, read REG_STATUS_B
*GA9: 68k/Z80 communication
*GA11: 68k data bus bidirectional buffer

Others:
*U10: 68k to Z80 latch, clear = SDZ80CLR (NEO-D0 44), clock = SDW (SNK1A 22, NEO-D0 33)
*U11: Z80 to 68k latch, no clear, clock = SDZ80W (NEO-D0 43)
*U3:
**3(RAM4 22) = SNK1B-4 OR MGA-51
**6(RAM3 22) = SNK1B-4 OR MGA-53
**8(U4 1) = SNK1B-4 OR MGA-52
**11(U4 4) = SNK1B-4 OR MGA-54
*U2:
**3(Cart) = ROMOEL OR MGA-51
**6(Cart) = ROMOEL OR MGA-53
**8(Cart) = ROMOEL OR MGA-52
**11(Cart) = ROMOEL OR MGA-54
*U3:
**3(Cart) = ROMOEU OR MGA-51
**6(Cart) = ROMOEU OR MGA-53
**8(Cart) = ROMOEU OR MGA-55
**11(Cart) = ROMOEU OR MGA-72

[[File:NEO-MVH MV1A Back.jpg|800px|thumb|center|Main Board Back]]

===Slot Board===

[[File:NEO-MVH SLOT1A Front.png|800px|thumb|center|Slot Board Front]]

[[File:NEO-MVH SLOT1A Back.png|800px|thumb|center|Slot Board Front]]

[[Category:Cartridge systems]]

A special version of the [[MV1A]] for China ?

=Description=

{{SlotInfo
|year=Circa 1995
|slot_nb=1
|bios=Socketed
|cart_orientation=horizontal
|memcard_support=no
|joystick_support=no
|stereo_output=no
|headphone_output=no
}}

[[Category:Cartridge systems]]

A revision of the [[MV1ACH]] ?

=Description=

{{SlotInfo
|year=Circa 1995
|slot_nb=1
|bios=Socketed
|cart_orientation=horizontal
|memcard_support=no
|joystick_support=no
|stereo_output=no
|headphone_output=no
}}

[[Category:Cartridge systems]]

The {{PCB|MV1A}} MVS boards have two [[https://en.wikipedia.org/wiki/Programmable_Array_Logic PAL]] PAL20V8H-15 chips which are used to provide some of {{Chipname|NEO-C1}}'s functions. If any of them fails, the board certainly won't start up.

They can be replaced with new or working chips programmed with the following JEDEC files:

=SNK1A=
Does some address decoding. Pin 1 might be AS instead of RW.

[[File:SNK1A_pinout.png]]

JEDEC file: [[File:SNK1A.zip]]

* /VPA = /i1 &amp; A20 &amp; A21 &amp; A22I &amp; A23I (Access Fxxxxx, interrupt ack cycle, signal 68k that we need an autovectored interrupt)
* /WRAMCS = /i1 &amp; A20 &amp; /A21 &amp; /A22I &amp; /A23I (Access 1xxxxx, work RAM)
* /o17 = /i1 &amp; A20 &amp; /A22I + /i1 &amp; /A22I &amp; A23I + /i1 &amp; A22I &amp; /A23I (Access x0x1 or 10xx (8xxxxx-Bxxxxx) or 01xx (4xxxxx-7xxxxx))
* /o18 = /i1 &amp; A20 &amp; /A21 &amp; A22I &amp; A23I (Access Dxxxxx, backup RAM)
* /DIPRD0 = /i1 &amp; /A17 &amp; /A18 &amp; /A19 &amp; A20 &amp; A21 &amp; /A22I &amp; /A23I &amp; /MGA53 &amp; MGA52 (Read 0011000x, must be 300000-31FFFF LDS)
* /IN3 = /i1 &amp; A17 &amp; /A18 &amp; /A19 &amp; A20 &amp; A21 &amp; /A22I &amp; /A23I &amp; /MGA53 &amp; MGA52 (Read 0011001x...)
* /o21 = /i1 &amp; A17 &amp; /A18 &amp; /A19 &amp; A20 &amp; A21 &amp; /A22I &amp; /A23I &amp; /MGA51 &amp; MGA52 (Read 0011001x...)
* /SDW = /i1 &amp; A17 &amp; /A18 &amp; /A19 &amp; A20 &amp; A21 &amp; /A22I &amp; /A23I &amp; MGA51 &amp; /MGA52 (Write 0011001x, must be 320000-33FFFE UDS)

=SNK1B=
Generates the {{Sig|DTACK|DTACK}} signal.

[[File:SNK1B_pinout.png]]

JEDEC file: [[File:SNK1B.zip]]

* o17 = /i5 &amp; rf21 + /i5 &amp; i11 + /i6 &amp; rf21 &amp; i23 + /i6 &amp; i14 &amp; rf22 + /i6 &amp; i14 &amp; i23 + /i2 &amp; /i6 &amp; /i14 &amp; /i23
* DTACK = i3 &amp; i7 &amp; i8 &amp; i9 &amp; i10 &amp; /o17 &amp; /rf21 + i3 &amp; i4 &amp; i7 &amp; i8 &amp; i9 &amp; i10 &amp; /o17
* /rf20 = i4 &amp; i5 &amp; i6
* /rf21 = i4 &amp; i5 &amp; i6 + /rf20
* /rf22 = /rf21 + i4 &amp; i5 &amp; i6

[[Category:Chips]]
[[Category:Repairs]]

[[File:mvs_slot1b.jpg|right|800px]]
[[File:mvs_mv1b.jpg|right|800px]]
[[File:Mv1b.jpg|right|400px]]

Revision: {{PCB|MV1B1}}

Uses a Mitsumi PST7045 4.5V reset generator labelled as IC2 on the main board. No [[SM1]] ROM, so no sound test.

==Top board==
*[[NEO-BUF]]
*[[SFIX ROM]]
*[[NEO-ZMC2]]
*[[YM2610]]

==Main board==
*[[68k|68k CPU]]
*[[68k user RAM|68k RAM]]
*[[Battery-backed RAM]]
*[[DIPs|DIP switches]]
*[[Pinouts#JAMMA connector|JAMMA connector]]
*[[LO|LO ROM]]
*[[NEO-BUF]]
*[[NEO-DCR-T]]
*[[NEO-GRC2-F]]
*[[NEO-SDR-T]]
*[[Power amp]]
*[[Palette RAM]]
*[[System ROM|SP-S3 BIOS]]
*[[uPD4990]]
*[[Video DAC]] ?
*[[VRAM]]
*[[YM3016]]
*[[Z80|Z80 CPU]]
*[[Z80 RAM]]

[[Category:Cartridge systems]]

Revision of the {{PCB|MV1B}} from 1998, which uses a QFP [[Z80]] CPU and surface mount [[Z80 RAM]].

Other components are the same as on the MV1B.

ROMs were all from Sharp ?

Pictures: http://www.mvs-scans.com/index.php/MV1B1

[[Category:Cartridge systems]]

The MV-1C is a 1-slot board, and the only top-loading one. It uses {{Chipname|NEO-GRZ}}, {{Chipname|NEO-YSA2}}, and {{Chipname|NEO-DCR-T}}. Its backup battery is a Toshiba 3.6V coin battery.

It is 19cm wide, 15,8 cm deep, 3,15 cm thick, 8,9 cm with the plastic shell. 

[[File:Mv1ctopcover.jpg|1000px]]

[[File:Mv1ctop.jpg|1000px]]

[[File:Mv1cbottom.jpg|1000px]]

[[Category:Cartridge systems]]

[[File:MV-1FserviceManual.pdf]]&lt;br>&lt;br>

[[File:MV1FS-SLOT1F.JPG|left|thumb|250px|MV1FS with NEO-MVF SLOT1F]]

[[File:MV1FS_Front.JPG|left|thumb|250px|MV1FS Front]]

[[File:MV1FS_Back.JPG|left|thumb|250px|MV1FS Back]]

[[File:Mvs_mv1fzs_annotated.jpg|640px|right]]

Scan by [[http://www.mvs-scans.com MVS-Scans]].

*[[68k|68k CPU]]
*[[68k user RAM|68k RAM]]
*[[Battery-backed RAM]]
*[[CRE401]]
*[[Hardware DIPs|DIP switches]]
*[[Palette RAM]]
*[[Pinouts#JAMMA connector|JAMMA connector]]
*[[Power amp]]
*[[LO|LO ROM]]
*[[LSPC2-A2]]
*[[NEO-B1]]
*[[NEO-C1]]
*[[NEO-D0]]
*[[NEO-E0]]
*[[NEO-F0]]
*[[NEO-ZMC2]]
*[[Reset generator]]
*[[SFIX ROM]]
*[[SM1|SM1 ROM]]
*[[System ROM]]
*[[uPD4990]]
*[[Video DAC]]
*[[VRAM]]
*[[YM2610]]
*[[YM3016]]
*[[Z80|Z80 CPU]]
*[[Z80 RAM]]

[[Category:Cartridge systems]]

[[File:mvs_mv2b.jpg|right|800px]]

*[[68k|68k CPU]]
*[[Battery-backed RAM]]
*[[DIPs|DIP switches]]
*[[Pinouts#JAMMA connector|JAMMA connector]]
*[[LO|LO ROM]]
*[[LSPC-A0]]
*[[NEO-ZMC2]]
*[[NEO-257]]
*[[NEO-D0]]
*[[NEO-E0]]
*[[NEO-F0]]
*[[NEO-G0]]
*[[NEO-I0]]
*[[PRO-B0]]
*[[PRO-C0]]
*[[Power amp]]
*[[Palette RAM]]
*[[SFIX ROM]]
*[[SP-S2|BIOS]]
*[[SM1|SM1 ROM]]
*[[uPD4990]]
*[[68k user RAM|68k RAM]]
*[[Video DAC]]
*[[VRAM]]
*[[YM2610]]
*[[YM3016]]
*[[Z80|Z80 CPU]]
*[[Z80 RAM]]

[[Category:Cartridge systems]]

Revised 2 slot board with the second generation chipset.

==Pinouts==

todo: formatting, maybe pics

===C ROM / LSPC2 / NEO-ZMC2===

todo. Pair of NEO-257 on far left of board used for this? 32 bits per slot multiplexed to NEO-ZMC2?

===S ROM / LSPC2 / NEO-B1===

FIXD0~FIXD7 is multiplexed from each slot by NEO-257 @ J9. Same one is used for Z80 D0~D7 for cart M1 access.

{| class="wikitable"
|NEO-257 || CHA slot #1
|-
|A0(4) || FIXD0(B39)
|-
|A1(6) || FIXD1(B40)
|-
|A2(13) || FIXD2(B41)
|-
|A3(15) || FIXD3(B42)
|-
|A4(19) || FIXD4(B43)
|-
|A5(21) || FIXD5(B44)
|-
|A6(29) || FIXD6(B45)
|-
|A7(31) || FIXD7(B46)
|}

{| class="wikitable"
|NEO-257 || CHA slot #2
|-
|B0(5) || FIXD0(B39)
|-
|B1(7) || FIXD1(B40)
|-
|B2(14) || FIXD2(B41)
|-
|B3(16) || FIXD3(B42)
|-
|B4(20) || FIXD4(B43)
|-
|B5(22) || FIXD5(B44)
|-
|B6(30) || FIXD6(B45)
|-
|B7(32) || FIXD7(B46)
|}

Selected FIX data is output to NEO-B1 from Y0~Y7.

{| class="wikitable"
|NEO-257 || NEO-B1
|-
|Y0(8) || FIXD0(131)
|-
|Y1(9) || FIXD1(132)
|-
|Y2(11) || FIXD2(133)
|-
|Y3(12) || FIXD3(134)
|-
|Y4(23) || FIXD4(135)
|-
|Y5(24) || FIXD5(136)
|-
|Y6(27) || FIXD6(137)
|-
|Y7(28) || FIXD7(138)
|}

The 257 seems to have common enable/select lines. See M ROM section for those as cart M ROM/S ROM are always enabled together.

===V ROM / YM2610 access===

====ADPCM-A====

YM2610 RAD0~RAD7 goes through NEO-G0 @ K9 and out to each cart slot through a separate set of pins. (NEO-G0 needs a proper set of pin names).

{| class="wikitable"
|NEO-G0 || YM2610
|-
|(2) || RAD0(17)
|-
|(3) || RAD1(16)
|-
|(4) || RAD2(15)
|-
|(5) || RAD3(14)
|-
|(15) || RAD4(13)
|-
|(16) || RAD5(12)
|-
|(17) || RAD6(11)
|-
|(18) || RAD7(10)
|}

{| class="wikitable"
|NEO-G0 || PROG slot #1
|-
|(6) || SDRAD0(B49)
|-
|(7) || SDRAD1(B50)
|-
|(8) || SDRAD2(B51)
|-
|(9) || SDRAD3(B52)
|-
|(11) || SDRAD4(B53)
|-
|(12) || SDRAD5(B54)
|-
|(13) || SDRAD6(B55)
|-
|(14) || SDRAD7(B56)
|}

{| class="wikitable"
|NEO-G0 || PROG slot #2
|-
|(62) || SDRAD0(B49)
|-
|(63) || SDRAD1(B50)
|-
|(64) || SDRAD2(B51)
|-
|(1) || SDRAD3(B52)
|-
|(21) || SDRAD4(B53)
|-
|(22) || SDRAD5(B54)
|-
|(23) || SDRAD6(B55)
|-
|(24) || SDRAD7(B56)
|}

Control signals and other address lines buffered through NEO-E0 to both cart slots @ F8.

{| class="wikitable"
|NEO-E0 || YM2610
|-
|A7(16) || RA8(23)
|-
|A8(17) || RA9(22)
|-
|A9(18) || RA20(35)
|-
|A10(19) || RA21(36)
|-
|A11(20) || RA22(37)
|-
|A12(21) || RA23(38)
|-
|A13(31) || RMPX(20)
|-
|A14(32) || /ROE(21)
|}

{| class="wikitable"
|NEO-E0 || PROG slot #1 &amp; #2
|-
|Y6(12) || SDRA8(A49)
|-
|Y7(13) || SDRA9(A50)
|-
|Y8(14) || SDRA20(A51)
|-
|Y9(22) || SDRA21(A52)
|-
|Y10(23) || SDRA22(A53)
|-
|Y11(24) || SDRA23(A54)
|-
|Y12(27) || SDRMPX(A55)
|-
|Y13(28) || SDROE(A56)
|}

Direction control of NEO-G0 (D0~D7) @ K9 is set to inverted /ROE from YM2610.

{| class="wikitable"
|NEO-E0 || 74AS04
|-
|Y13(28) || A5(11)
|}

{| class="wikitable"
|NEO-G0 || 74AS04
|-
|D0~D7 dir(40) || Y5(10)
|}

====ADPCM-B====

YM2610 PAD0~PAD7 goes through NEO-G0 @ K9 and out to each cart slot through a separate set of pins.

{| class="wikitable"
|NEO-G0 || YM2610
|-
|(31) || PAD0(48)
|-
|(32) || PAD1(49)
|-
|(33) || PAD2(50)
|-
|(34) || PAD3(51)
|-
|(47) || PAD4(52)
|-
|(48) || PAD5(53)
|-
|(49) || PAD6(54)
|-
|(50) || PAD7(55)
|}

{| class="wikitable"
|NEO-G0 || PROG slot #1
|-
|(27) || SDPAD0(B41)
|-
|(28) || SDPAD1(B42)
|-
|(29) || SDPAD2(B43)
|-
|(30) || SDPAD3(B44)
|-
|(43) || SDPAD4(B45)
|-
|(44) || SDPAD5(B46)
|-
|(45) || SDPAD6(B47)
|-
|(46) || SDPAD7(B48)
|}

{| class="wikitable"
|NEO-G0 || PROG slot #2
|-
|(35) || SDPAD0(B41)
|-
|(36) || SDPAD1(B42)
|-
|(37) || SDPAD2(B43)
|-
|(38) || SDPAD3(B44)
|-
|(53) || SDPAD4(B45)
|-
|(54) || SDPAD5(B46)
|-
|(55) || SDPAD6(B47)
|-
|(56) || SDPAD7(B48)
|}

Control signals and other address lines buffered through NEO-E0 to both cart slots @ F8.

{| class="wikitable"
|NEO-E0 || YM2610
|-
|A15(33) || PA8(41)
|-
|A16(34) || PA9(42)
|-
|A17(36) || PA10(43)
|-
|A18(37) || PA11(44)
|-
|A19(38) || PMPX(47)
|-
|A20(48) || /POE(46)
|-
|}

{| class="wikitable"
|NEO-E0 || PROG slot #1 &amp; #2
|-
|Y14(29) || SDPA8(A43)
|-
|Y15(30) || SDPA9(A44)
|-
|Y16(39) || SDPA10(A45)
|-
|Y17(40) || SDPA11(A46)
|-
|Y18(41) || SDPMPX(A47)
|-
|Y19(43) || SDPOE(A48)
|}

Direction control of NEO-G0 (D8~D15) @ K9 is set to inverted /POE from YM2610.

{| class="wikitable"
|NEO-E0 || 74AS04
|-
|Y19(43) || A6(13)
|}

{| class="wikitable"
|NEO-G0 || 74AS04
|-
|D8~D15 dir(52) || Y6(12)
|}

===P ROM / 68k access===

todo. some NEO-G0 for D0~D15? NEO-E0 for A1~A23?

===M ROM / Z80 access===

Z80 A0~A15 is buffered through [[NEO-E0]] @ K10 to SDA0~SDA15 of both cart slots.

{| class="wikitable"
|Z80 || NEO-E0
|-
|A0(30) || A1(64)
|-
|A1(31) || A2(1)
|-
|A2(32) || A3(2)
|-
|A3(33) || A4(3)
|-
|A4(34) || A5(4)
|-
|A5(35) || A6(15)
|-
|A6(36) || A7(16)
|-
|A7(37) || A8(17)
|-
|A8(38) || A9(18)
|-
|A9(39 || A10(19)
|-
|A10(40) || A11(20)
|-
|A11(1) || A12(21)
|-
|A12(2) || A13(31)
|-
|A13(3) || A14(32)
|-
|A14(4) || A15(33)
|-
|A15(5) || A16(34)
|}

{| class="wikitable"
|NEO-E0 || CHA slot #1 &amp; #2
|-
|Y0(5) || SDA0(A43)
|-
|Y1(6) || SDA1(A44)
|-
|Y2(7) || SDA2(A45)
|-
|Y3(8) || SDA3(A46)
|-
|Y4(9) || SDA4(A47)
|-
|Y5(11) || SDA5(A48)
|-
|Y6(12) || SDA6(A49)
|-
|Y7(13) || SDA7(A50)
|-
|Y8(14) || SDA8(A51)
|-
|Y9(22) || SDA9(A52)
|-
|Y10(23) || SDA10(A53)
|-
|Y11(24) || SDA11(A54)
|-
|Y12(27) || SDA12(A55)
|-
|Y13(28) || SDA13(A56)
|-
|Y14(29) || SDA14(A57)
|-
|Y15(30) || SDA15(A58)
|}

Z80 D0~D7 is multiplexed from each slot by [[NEO-257]] @ J9. No need for bidirectional D0~D7 since only reads can be done from cart.

{| class="wikitable"
|Z80 || NEO-257
|-
|D0(14) || Y8(40)
|-
|D1(15) || Y9(41)
|-
|D2(12) || Y10(43)
|-
|D3(8) || Y11(44)
|-
|D4(7) || Y12(55)
|-
|D5(9) || Y13(56)
|-
|D6(10) || Y14(59)
|-
|D7(13) || Y15(60)
|}

{| class="wikitable"
|NEO-257 || CHA slot #1
|-
|A8(36) || CHA SDD0(B51)
|-
|A9(38) || CHA SDD1(B52)
|-
|A10(45) || CHA SDD2(B53)
|-
|A11(47) || CHA SDD3(B54)
|-
|A12(51) || CHA SDD4(B55)
|-
|A13(53) || CHA SDD5(B56)
|-
|A14(62) || CHA SDD6(B57)
|-
|A15(64) || CHA SDD7(B58)
|-
|}

{| class="wikitable"
|NEO-257 || CHA slot #2
|-
|B8(37) || CHA SDD0(B51)
|-
|B9(39) || CHA SDD1(B52)
|-
|B10(46) || CHA SDD2(B53)
|-
|B11(48) || CHA SDD3(B54)
|-
|B12(52) || CHA SDD4(B55)
|-
|B13(54) || CHA SDD5(B56)
|-
|B14(63) || CHA SDD6(B57)
|-
|B15(1) || CHA SDD7(B58)
|-
|}

Multiplexer slot selection from [[NEO-F0]], /OE from NEO-D0 and OE from 74HC259 to NEO-257. The 257 must only output to Z80 when it is trying to read ROM (NEO-D0) and the cart M1/S1 is selected (74HC259).

{| class="wikitable"
|NEO-D0 || NEO-257
|-
|SDROM(11) || Y8~Y15 /OE(33)
|}

{| class="wikitable"
|NEO-F0 || NEO-257
|-
|SLOTA(39) || SELECT(17)
|}

{| class="wikitable"
|74HC259 || NEO-257
|-
|Q5(10) || Y8~Y15 OE(35)
|}

[[NEO-D0]] signals for Z80 reads are also buffered through NEO-E0 @ K10.

{| class="wikitable"
|NEO-D0 || NEO-E0
|-
|SDMRD(39) || A17(36)
|-
|SDROM(11) || A18(37)
|-
|SDRD0(45) || A19(38)
|-
|SDRD1(46) || A20(48)
|}

{| class="wikitable"
|NEO-E0 || CHA slot #1 &amp; #2
|-
|Y16(39) || SDMRD(B50)
|-
|Y17(40) || SDROM(B49)
|-
|Y18(41) || SDRD0(B47)
|-
|Y19(43) || SDRD1(B48)
|}

[[Category:Cartridge systems]]
[[Category:Repairs]]

[[File:mvs_mv2fs.jpg|right|800px]]

Revision of the [[MV2B]] with the second generation chipset, smaller, with embedded memory card slot and jack outputs.

*[[68k|68k CPU]]
*[[Battery-backed RAM]]
*[[DIPs|DIP switches]]
*[[Pinouts#JAMMA connector|JAMMA connector]]
*[[LO|LO ROM]]
*[[LSPC2-A2]]
*[[NEO-ZMC2]]
*[[NEO-257]]
*[[NEO-B1]]
*[[NEO-C1]]
*[[NEO-D0]]
*[[NEO-E0]]
*[[NEO-F0]]
*[[NEO-G0]]
*[[NEO-I0]]
*[[Power amp]]
*[[Palette RAM]]
*[[SFIX ROM]]
*[[System ROM]]
*[[SM1|SM1 ROM]]
*[[uPD4990]]
*[[68k user RAM|68k RAM]]
*[[Video DAC]]
*[[VRAM]]
*[[YM2610]]
*[[YM3016]]
*[[Z80|Z80 CPU]]
*[[Z80 RAM]]

[[Category:Cartridge systems]]

[[File:mvs_mv4.jpg|right|800px]]
[[File:mvs_slot4.jpg|right|800px]]

* Has an unused footprint "DSW2" for a second set of [[Hardware DIPs|DIP switches]].
* Has two unused sockets "SC1" and "SC2" for [[C ROM]]s which could have been used for the [[system ROM]] menu.
* Uses the [[system ROM mapping circuit]].


*[[68k|68k CPU]]
*[[Battery-backed RAM]]
*[[DIPs|DIP switches]]
*[[Pinouts#JAMMA connector|JAMMA connector]]
*[[LO|LO ROM]]
*[[LSPC-A0]]
*[[PRO-B0]]
*[[PRO-C0]]
*[[PRO-CT0]]
*[[Power amp]]
*[[Palette RAM]]
*[[SFIX ROM]]
*[[SP-S2|BIOS]]
*[[SM1|SM1 ROM]]
*[[uPD4990]]
*[[68k user RAM|68k RAM]]
*[[Video DAC]]
*[[VRAM]]
*[[YM2610]]
*[[YM3016]]
*[[Z80|Z80 CPU]]
*[[Z80 RAM]]

[[Category:Cartridge systems]]

[[File:mvs_mv4f.jpg|right|600px]]

Later version of the {{PCB|MV4}}. Uses the second generation chipset.

'''Warning:''' The {{PCB|MV4FT}} is very similar but the board dimensions aren't exactly the same. They can't be swapped with those of a MV4F.

=Board map=

{|class="wikitable"
!||1||2||3||4||5||6||7||8||9||10||11
|-
!N
|LS245||LS245||AS245||AS245|| ||[[NEO-I0]]||[[SFIX ROM]]||F245||F245|| ||[[NEO-ZMC2]]
|-
!M
|LS245||LS245||AS245||AS245|| || ||[[LO|LO ROM]]|| ||F245|| || 
|-
!L
| || ||[[NEO-D0]]|| || ||LS245|| || ||F245|| || 
|-
!K
| ||[[NEO-C1]]|| ||[[Z80|Z80 CPU]]|| ||[[LSPC2-A2]]|| ||[[NEO-B1]]|| ||[[NEO-F0]]||2803
|-
!J
| || || || || || || || ||AS04|| ||2803
|-
!H
| ||LS0?||[[SM1|SM1 ROM]]|| ||[[Z80 RAM]]|| || ||AS32|| || || 
|-
!G
| || ||[[YM2610]]|| || ||[[VRAM]]||[[VRAM]]||[[Battery-backed RAM]]||HC32||[[uPD4990]]|| 
|-
!F
| || ||AS04||F153|| ||[[VRAM]]||[[VRAM]]|| || ||AS245||AS245
|-
!E
| || || || || || || ||[[68k user RAM|68k RAM]]||[[System ROM]]|| ||AS245
|-
!D
| || ||[[YM3016]]|| ||[[Palette RAM]]|| ||[[NEO-G0]]|| || || ||AS245
|-
!C
| ||4558||HC04|| ||[[Palette RAM]]|| || ||[[68k user RAM|68k RAM]]||[[68k|68k CPU]]|| ||AS245
|-
!B
| ||[[Power amp]]||LS05|| ||LS273||LS273|| || || || ||AS245
|-
!A
| || || || ||[[Video DAC]]|| || ||[[NEO-E0]]||HC259|| ||AS245
|}

*[[DIPs|DIP switches]]
*[[Pinouts#JAMMA connector|JAMMA connector]]

=Connectors=

Connectors to {{PCB|SLOT4F}} board.

[[File:mv4f_cn8.png]]

[[File:mv4f_cn9.png]]

[[File:mv4f_cn10.png]]

[[Category:Cartridge systems]]

[[File:mvs_mv4ft.jpg|right|600px]]

Like the {{PCB|MV4F}} but with slight differences, manufactured by '''T'''oshiba.

'''Warning:''' The {{PCB|MV4F}} is very similar but the board dimensions aren't exactly the same. They can't be swapped with those of a MV4FT.

*[[68k|68k CPU]]
*[[Battery-backed RAM]]
*[[DIPs|DIP switches]]
*[[Pinouts#JAMMA connector|JAMMA connector]]
*[[LO|LO ROM]]
*[[LSPC2-A2]]
*[[NEO-B1]]
*[[NEO-C1]]
*[[NEO-D0]]
*[[NEO-E0]]
*[[NEO-F0]]
*[[NEO-G0]]
*[[NEO-I0]]
*[[NEO-ZMC2]]
*[[Power amp]]
*[[Palette RAM]]
*[[SFIX ROM]]
*[[System ROM]]
*[[SM1|SM1 ROM]]
*[[uPD4990]]
*[[68k user RAM|68k RAM]]
*[[Video DAC]]
*[[VRAM]]
*[[YM2610]]
*[[YM3016]]
*[[Z80|Z80 CPU]]
*[[Z80 RAM]]

=Connectors=

Connectors to {{PCB|SLOT4FT}} board.

[[Category:Cartridge systems]]

Main board for the 6-slot [[MVS]] system.

* Has an unused footprint "DSW2" for a second set of [[Hardware DIPs|DIP switches]].
* Has two unused sockets "SC1" and "SC2" for [[C ROM]]s which could have been used for the [[system ROM]] menu.
* Uses the [[system ROM mapping circuit]].

[[File:Mvs_mv6.jpg|right|400px]]
[[File:Mvs_mv6g.jpg|right|400px]]
[[File:Mvs_slot6.jpg|right|400px]]

See [[SLOT6 board repair]].

[[Category:Cartridge systems]]

#REDIRECT [[MVS hardware]]

[[File:MVSTracker.png|400px|thumb|right|MVSTracker main interface.]]
'''MVSTracker''' is a program designed to let you create FM music with a tracker style interface. It also allows for ADPCM-A sample encoding (though not quite accurate; see [[ADPCM codecs]] for more information). According to [http://www.archaic.fr/interviews/interview-jeff-kurtz-repond-a-nos-questions/3/ an interview with Jeff Kurtz], the Z80 driver does not work on hardware.

==Original Version==
The original version was created by Ivan Mackintosh, using a YM and Z80 emulator DLL by Thor, and YM emulation from MAME.

==Modified Version==
MVSTracker was later modified by Pascal Bosquet and Kaneda, primarily to add Mega Drive/Genesis support.

[[Category:Tools]]
[[Category:Sound Tools]]

Ongoing Reverse Enginering by Pudrik.

[[MV6]] Daughter Board 
PCB connectors pinouts:

=CN8=

{|class="wikitable"
!Pin||Connected to||Location
|-
|A1||+5V||
|-
|A2||+5V||
|-
|A3||+5V||
|-
|A4||Pin 5 of 74F251||K3
|-
|A5||Pin 5 of 74F251||J3
|-
|A6||Pin 5 of 74F251||H3
|-
|A7||Pin 5 of 74F251||G3
|-
|A8||Pin 5 of 74F251||G1
|-
|A9||Pin 5 of 74F251||F2
|-
|A10||NC?||
|-
|A11||Pin 1 of 74LS245||B5, B9, B13, B27, B21, B25
|-
|A12||NC?||
|-
|A13||NC?||
|-
|A14||Pin 8 of 74LS244||A4, A8, A12, A16, A20, A24
|-
|A15||Pin 6 of 74LS244||A4, A8, A12, A16, A20, A24
|-
|A16||Pin 4 of 74LS244||A4, A8, A12, A16, A20, A24
|-
|A17||Pin 2 of 74LS244||A4, A8, A12, A16, A20, A24
|-
|A18||Pin 11 of 74LS244||A4, A8, A12, A16, A20, A24
|-
|A19||Pin 13 of 74LS244||A4, A8, A12, A16, A20, A24
|-
|A20||Pin 15 of 74LS244||A4, A8, A12, A16, A20, A24
|-
|A21||Pin 17 of 74LS244||A4, A8, A12, A16, A20, A24
|-
|A22||Pin 8 of 74LS244||B4, B8, B12, B16, B20, B24
|-
|A23||Pin 6 of 74LS244||B4, B8, B12, B16, B20, B24
|-
|A24||Pin 4 of 74LS244||B4, B8, B12, B16, B20, B24
|-
|A25||Pin 2 of 74LS244||B4, B8, B12, B16, B20, B24
|-
|A26||Pin 11 of 74LS244||B4, B8, B12, B16, B20, B24
|-
|A27||Pin 13 of 74LS244||B4, B8, B12, B16, B20, B24
|-
|A28||Pin 15 of 74LS244||B4, B8, B12, B16, B20, B24
|-
|A29||Pin 17 of 74LS244||B4, B8, B12, B16, B20, B24
|-
|A30||GND||
|-
|A31||GND||
|-
|A32||GND||
|-
|&amp;nbsp;|| ||
|-
|B1||+5V||
|-
|B2||+5V||
|-
|B3||+5V||
|-
|B4||Pin 5 of 74F251||K2
|-
|B5||Pin 5 of 74F251||J2
|-
|B6||Pin 5 of 74F251||H2
|-
|B7||Pin 5 of 74F251||G2
|-
|B8||Pin 5 of 74F251||F3
|-
|B9||Pin 5 of 74F251||F1
|-
|B10||Pin 5 of 74F251||E3
|-
|B11||Pin 5 of 74F251||E2
|-
|B12||Pin 5 of 74F251||D3
|-
|B13||Pin 5 of 74F251||D2
|-
|B14||Pin 5 of 74F251||D1
|-
|B15||Pin 5 of 74F251||C3
|-
|B16||Pin 5 of 74F251||C2
|-
|B17||Pin 5 of 74F251||C1
|-
|B18||Pin 8 of 74LS244||A5, A9, A13, A17, A21, A25
|-
|B19||Pin 6 of 74LS244||A5, A9, A13, A17, A21, A25
|-
|B20||Pin 4 of 74LS244||A5, A9, A13, A17, A21, A25
|-
|B21||Pin 2 of 74LS244||A5, A9, A13, A17, A21, A25
|-
|B22||Pin 9 of 74LS245||B5, B9, B13, B27, B21, B25
|-
|B23||Pin 8 of 74LS245||B5, B9, B13, B27, B21, B25
|-
|B24||Pin 7 of 74LS245||B5, B9, B13, B27, B21, B25
|-
|B25||Pin 6 of 74LS245||B5, B9, B13, B27, B21, B25
|-
|B26||Pin 5 of 74LS245||B5, B9, B13, B27, B21, B25
|-
|B27||Pin 4 of 74LS245||B5, B9, B13, B27, B21, B25
|-
|B28||Pin 3 of 74LS245||B5, B9, B13, B27, B21, B25
|-
|B29||Pin 2 of 74LS245||B5, B9, B13, B27, B21, B25
|-
|B30||GND||
|-
|B31||GND||
|-
|B32||GND||
|}
The ICs:

* A4, A8, A12, A16, A20, A24 = 74LS244
* A5, A9, A13, A17, A21, A25 = 74LS244
* B4, B8, B12, B16, B20, B24 = 74LS244
* B5, B9, B13, B27, B21, B25 = 74LS245
* C1, C2, C3 = 74F251
* D1, D2, D3 = 74F251
* E2, E3 = 74F251
* F1, F2, F3 = 74F251
* G1, G2, G3 = 74F251
* H2, H3 = 74F251
* J2, J3 = 74F251
* K2, K3 = 74F251

=CN9=

{|class="wikitable"
!Pin||Connected to||Location
|-
|A1||+5V||
|-
|A2||+5V||
|-
|A3||+5V||
|-
|A4||Pin 8 of 74LS244||L4, L8, L12, L16, L20, L24
|-
|A5||Pin 6 of 74LS244||L4, L8, L12, L16, L20, L24
|-
|A6||Pin 4 of 74LS244||L4, L8, L12, L16, L20, L24
|-
|A7||Pin 2 of 74LS244||L4, L8, L12, L16, L20, L24
|-
|A8||Pin 11 of 74LS244||L4, L8, L12, L16, L20, L24
|-
|A9||Pin 13 of 74LS244||L4, L8, L12, L16, L20, L24
|-
|A10||Pin 15 of 74LS244||L4, L8, L12, L16, L20, L24
|-
|A11||Pin 17 of 74LS244||L4, L8, L12, L16, L20, L24
|-
|A12||Pin 8 of 74LS244||M4, M8, M12, M16, M20, M24
|-
|A13||Pin 6 of 74LS244||M4, M8, M12, M16, M20, M24
|-
|A14||Pin 4 of 74LS244||M4, M8, M12, M16, M20, M24
|-
|A15||Pin 2 of 74LS244||M4, M8, M12, M16, M20, M24
|-
|A16||Pin 11 of 74LS244||M4, M8, M12, M16, M20, M24
|-
|A17||Pin 13 of 74LS244||M4, M8, M12, M16, M20, M24
|-
|A18||Pin 15 of 74LS244||M4, M8, M12, M16, M20, M24
|-
|A19||Pin 17 of 74LS244||M4, M8, M12, M16, M20, M24
|-
|A20||Pin 5 of 74F251||K28
|-
|A21||Pin 5 of 74F251||K30
|-
|A22||Pin 5 of 74F251||J29
|-
|A23||Pin 5 of 74F251||H28
|-
|A24||Pin 5 of 74F251||H30
|-
|A25||Pin 5 of 74F251||G29
|-
|A26||Pin 5 of 74F251||F28
|-
|A27||Pin 5 of 74F251||F30
|-
|A28||Pin 5 of 74F251||E29
|-
|A29||Pin 5 of 74F251||D28
|-
|A30||Pin 5 + Pin 8 of 74F138||C28
|-
|A31||GND||
|-
|A32||GND||
|-
|&amp;nbsp;|| ||
|-
|B1||+5V||
|-
|B2||+5V||
|-
|B3||+5V||
|-
|B4||Pin 8 of 74LS244||L5, L9, L13, L17, L21, L25
|-
|B5||Pin 6 of 74LS244||L5, L9, L13, L17, L21, L25
|-
|B6||Pin 4 of 74LS244||L5, L9, L13, L17, L21, L25
|-
|B7||Pin 2 of 74LS244||L5, L9, L13, L17, L21, L25
|-
|B8||Pin 17 of 74LS244||L5, L9, L13, L17, L21, L25
|-
|B9||Pin 15 of 74LS244||L5, L9, L13, L17, L21, L25
|-
|B10||Pin 13 of 74LS244||L5, L9, L13, L17, L21, L25
|-
|B11||Pin 11 of 74LS244||L5, L9, L13, L17, L21, L25
|-
|B12||Pin 8 of 74LS244||N5, N9, N13, N17, N21, N25
|-
|B13||Pin 6 of 74LS244||N5, N9, N13, N17, N21, N25
|-
|B14||Pin 4 of 74LS244||N5, N9, N13, N17, N21, N25
|-
|B15||Pin 2 of 74LS244||N5, N9, N13, N17, N21, N25
|-
|B16||Pin 17 of 74LS244||N5, N9, N13, N17, N21, N25
|-
|B17||Pin 15 of 74LS244||N5, N9, N13, N17, N21, N25
|-
|B18||Pin 13 of 74LS244||N5, N9, N13, N17, N21, N25
|-
|B19||Pin 11 of 74LS244||N5, N9, N13, N17, N21, N25
|-
|B20||Pin 5 of 74F251||K29
|-
|B21||Pin 5 of 74F251||J28
|-
|B22||Pin 5 of 74F251||J30
|-
|B23||Pin 5 of 74F251||H29
|-
|B24||Pin 5 of 74F251||G28
|-
|B25||Pin 5 of 74F251||G30
|-
|B26||Pin 5 of 74F251||F29
|-
|B27||Pin 5 of 74F251||E28
|-
|B28||Pin 5 of 74F251||E30
|-
|B29||Pin 5 of 74F251||D29
|-
|B30||GND||
|-
|B31||GND||
|-
|B32||GND||
|}
The ICs:

* C28 = 74F138
* D28, D29 = 74F251
* E28, E29, E30 = 74F251
* F28, F29, F30 = 74F251
* G28, G29, G30 = 74F251
* H28, H29, H30 = 74F251
* J28, J29, J30 = 74F251
* K28, K29, K30 = 74F251
* L4, L8, L12, L16, L20, L24 = 74LS244
* L5, L9, L13, L17, L21, L25 = 74LS244
* M4, M8, M12, M16, M20, M24 = 74LS244
* N5, N9, N13, N17, N21, N25 = 74LS244

=CN10=

{|class="wikitable"
!Pin||Connected to||Location
|-
|A1||+5V||
|-
|A2||+5V||
|-
|A3||+5V||
|-
|A4||+5V||
|-
|A5||Pin 11 of 74LS245 + Pin 14 of 74F174||L6, L10, L14, L18, L22, L26, C29
|-
|A6||Pin 12 of 74LS245 + Pin 13 of 74F174||L6, L10, L14, L18, L22, L26, C29
|-
|A7||Pin 13 of 74LS245 + Pin 11 of 74F174||L6, L10, L14, L18, L22, L26, C29
|-
|A8||Pin 14 of 74LS245||L6, L10, L14, L18, L22, L26
|-
|A9||Pin 15 of 74LS245||L6, L10, L14, L18, L22, L26
|-
|A10||Pin 16 of 74LS245||L6, L10, L14, L18, L22, L26
|-
|A11||Pin 17 of 74LS245||L6, L10, L14, L18, L22, L26
|-
|A12||Pin 18 of 74LS245||L6, L10, L14, L18, L22, L26
|-
|A13||Pin 11 of 74LS245||M6, M10, M14, M18, M22, M26
|-
|A14||Pin 12 of 74LS245||M6, M10, M14, M18, M22, M26
|-
|A15||Pin 13 of 74LS245||M6, M10, M14, M18, M22, M26
|-
|A16||Pin 14 of 74LS245||M6, M10, M14, M18, M22, M26
|-
|A17||Pin 15 of 74LS245||M6, M10, M14, M18, M22, M26
|-
|A18||Pin 16 of 74LS245||M6, M10, M14, M18, M22, M26
|-
|A19||Pin 17 of 74LS245||M6, M10, M14, M18, M22, M26
|-
|A20||Pin 18 of 74LS245||M6, M10, M14, M18, M22, M26
|-
|A21||Pin 11 of 74LS244||N6, N10, N14, N18, N22, N26
|-
|A22||Pin 13 of 74LS244||N6, N10, N14, N18, N22, N26
|-
|A23||Pin 15 of 74LS244||N6, N10, N14, N18, N22, N26
|-
|A24||Pin 17 of 74LS244||N6, N10, N14, N18, N22, N26
|-
|A25||Pin 8 of 74LS244||N6, N10, N14, N18, N22, N26
|-
|A26||Pin 6 of 74LS244||N6, N10, N14, N18, N22, N26
|-
|A27||Pin 4 of 74LS244||N6, N10, N14, N18, N22, N26
|-
|A28||Pin 2 of 74LS244||N6, N10, N14, N18, N22, N26
|-
|A29||GND||
|-
|A30||GND||
|-
|A31||GND||
|-
|A32||GND||
|-
|&amp;nbsp;|| ||
|-
|B1||+5V||
|-
|B2||+5V||
|-
|B3||+5V||
|-
|B4||+5V||
|-
|B5||Pin 11 of 74LS244||L7, L11, L15, L19, L23, L27
|-
|B6||Pin 13 of 74LS244||L7, L11, L15, L19, L23, L27
|-
|B7||Pin 15 of 74LS244||L7, L11, L15, L19, L23, L27
|-
|B8||Pin 17 of 74LS244||L7, L11, L15, L19, L23, L27
|-
|B9||Pin 2 of 74LS244||L7, L11, L15, L19, L23, L27
|-
|B10||Pin 4 of 74LS244||L7, L11, L15, L19, L23, L27
|-
|B11||Pin 6 of 74LS244||L7, L11, L15, L19, L23, L27
|-
|B12||Pin 8 of 74LS244||L7, L11, L15, L19, L23, L27
|-
|B13||Pin 11 of 74LS244||M7, M11, M15, M19, M23, M27
|-
|B14||Pin 13 of 74LS244||M7, M11, M15, M19, M23, M27
|-
|B15||Pin 15 of 74LS244||M7, M11, M15, M19, M23, M27
|-
|B16||Pin 17 of 74LS244||M7, M11, M15, M19, M23, M27
|-
|B17||Pin 2 of 74LS244||M7, M11, M15, M19, M23, M27
|-
|B18||Pin 4 of 74LS244||M7, M11, M15, M19, M23, M27
|-
|B19||Pin 6 of 74LS244||M7, M11, M15, M19, M23, M27
|-
|B20||Pin 8 of 74LS244||M7, M11, M15, M19, M23, M27
|-
|B21||Pin 2 of 74LS244||N7, N11, N15, N19, N23, N27
|-
|B22||Pin 4 of 74LS244||N7, N11, N15, N19, N23, N27
|-
|B23||Pin 6 of 74LS244||N7, N11, N15, N19, N23, N27
|-
|B24||Pin 8 of 74LS244||N7, N11, N15, N19, N23, N27
|-
|B25||Pin 5 of 74F151||B29
|-
|B26||Pin 5 of 74F151||B28
|-
|B27||Pin 5 of 74F151||A29
|-
|B28||Pin 5 of 74F151||A28
|-
|B29||GND||
|-
|B30||GND||
|-
|B31||GND||
|-
|B32||GND||
|}
The ICs:

* A28, A29 = 74F151
* B28, B29 = 74F151
* C29 = 74F174
* L6, L10, L14, L18, L22, L26 = 74LS245
* L7, L11, L15, L19, L23, L27 = 74LS244
* M6, M10, M14, M18, M22, M26 = 74LS245
* M7, M11, M15, M19, M23, M27 = 74LS244
* N6, N10, N14, N18, N22, N26 = 74LS244
* N7, N11, N15, N19, N23, N27 = 74LS244

=CN11=

{|class="wikitable"
!Pin||Connected to||Location
|-
|A1||+5V||
|-
|A2||+5V||
|-
|A3||+5V||
|-
|A4||+5V||
|-
|A5||Pin 4 of 74LS244||A6, A10, A14, A18, A22, A26
|-
|A6||Pin 6 of 74LS244||A6, A10, A14, A18, A22, A26
|-
|A7||Pin 8 of 74LS244||A6, A10, A14, A18, A22, A26
|-
|A8||Pin 13 of 74LS244||A6, A10, A14, A18, A22, A26
|-
|A9||Pin 15 of 74LS244||A6, A10, A14, A18, A22, A26
|-
|A10||Pin 17 of 74LS244||A6, A10, A14, A18, A22, A26
|-
|A11||Pin 2 of 74LS244||B6, B10, B14, B18, B22, B26
|-
|A12||Pin 4 of 74LS244||B6, B10, B14, B18, B22, B26
|-
|A13||Pin 6 of 74LS244||B6, B10, B14, B18, B22, B26
|-
|A14||Pin 8 of 74LS244||B6, B10, B14, B18, B22, B26
|-
|A15||Pin 11 of 74LS244||B6, B10, B14, B18, B22, B26
|-
|A16||Pin 13 of 74LS244||B6, B10, B14, B18, B22, B26
|-
|A17||Pin 15 of 74LS244||B6, B10, B14, B18, B22, B26
|-
|A18||Pin 17 of 74LS244||B6, B10, B14, B18, B22, B26
|-
|A19||Pin 11 of 74LS244||N7, N11, N15, N19, N23, N27
|-
|A20||NC?||
|-
|A21||Pin 2 of 74LS244||A6, A10, A14, A18, A22, A26
|-
|A22||Pin 9 of 74F174||C29
|-
|A23||NC?||
|-
|A24||NC?||
|-
|A25||NC?||
|-
|A26||NC?||
|-
|A27||NC?||
|-
|A28||NC?||
|-
|A29||GND||
|-
|A30||GND||
|-
|A31||GND||
|-
|A32||GND||
|-
|&amp;nbsp;|| ||
|-
|B1||+5V||
|-
|B2||+5V||
|-
|B3||+5V||
|-
|B4||+5V||
|-
|B5||Pin 2 of 74LS245||A7, A11, A15, A19, A23, A27
|-
|B6||Pin 3 of 74LS245||A7, A11, A15, A19, A23, A27
|-
|B7||Pin 4 of 74LS245||A7, A11, A15, A19, A23, A27
|-
|B8||Pin 5 of 74LS245||A7, A11, A15, A19, A23, A27
|-
|B9||Pin 6 of 74LS245||A7, A11, A15, A19, A23, A27
|-
|B10||Pin 7 of 74LS245||A7, A11, A15, A19, A23, A27
|-
|B11||Pin 8 of 74LS245||A7, A11, A15, A19, A23, A27
|-
|B12||Pin 9 of 74LS245||A7, A11, A15, A19, A23, A27
|-
|B13||Pin 2 of 74LS245||B7, B11, B15, B19, B23, B27
|-
|B14||Pin 3 of 74LS245||B7, B11, B15, B19, B23, B27
|-
|B15||Pin 4 of 74LS245||B7, B11, B15, B19, B23, B27
|-
|B16||Pin 5 of 74LS245||B7, B11, B15, B19, B23, B27
|-
|B17||Pin 6 of 74LS245||B7, B11, B15, B19, B23, B27
|-
|B18||Pin 7 of 74LS245||B7, B11, B15, B19, B23, B27
|-
|B19||Pin 8 of 74LS245||B7, B11, B15, B19, B23, B27
|-
|B20||Pin 9 of 74LS245||B7, B11, B15, B19, B23, B27
|-
|B21||Pin 7 of 74F251 ||D2, D3, E2, E3, E28, F28, F29, F30, G28, G29, G30, H28, H29, H30, J28, J29, J30, K28, K29, K30
|-
|B22||Pin 7 of 74F251 + Pin 4 on 74F138||C1, C2, C3, D1, D28, D29, E29, E30, F1, F2, F3, G1, G2, G3, H2, H3, J2, J3, K2, K3, C28

|-
|B23||NC?||
|-
|B24||NC?||
|-
|B25||NC?||
|-
|B26||NC?||
|-
|B27||NC?||
|-
|B28||NC?||
|-
|B29||GND||
|-
|B30||GND||
|-
|B31||GND||
|-
|B32||GND||
|}
The ICs:

* A6, A10, A14, A18, A22, A26 = 74LS244
* A7, A11, A15, A19, A23, A27 = 74LS245
* B6, B10, B14, B18, B22, B26 = 74LS244
* B7, B11, B15, B19, B23, B27 = 74LS245
* C1, C2, C3 = 74F251
* C28 = 74F138
* C29 = 74F174
* D1, D2, D3, D28, D29 = 74F251
* E2, E3, E28, E29, E30 = 74F251
* F1, F2, F3, F28, F29, F30 = 74F251
* G1, G2, G3, G28, G29, G30 = 74F251
* H2, H3, H28, H29, H30 = 74F251
* J2, J3, J28, J29, J30 = 74F251
* K2, K3, K28, K29, K30 = 74F251
* N7, N11, N15, N19, N23, N27 = 74LS244

[[Category:Repairs]]
[[Category:Cartridge systems]]

All infos by MKL.

[[MV4]] PCB connectors pinouts:

=CN8=
&lt;pre>
A1 +5V
A2 +5V
A3 +5V
A4 SC2 (15), PRO-CT0 (15)
A5 SC2 (13), PRO-CT0 (16)
A6 SC2 (10), PRO-CT0 (21)
A7 SC2 (8), PRO-CT0 (22)
A8 SC2 (6), PRO-CT0 (23)
A9 SC2 (4), PRO-CT0 (24)
A10 NOT CONNECTED
A11 R2 (1), R3 (3)
A12 NOT CONNECTED
A13 NOT CONNECTED
A14 P1 (9)
A15 P1 (12)
A16 P1 (7)
A17 P1 (14)
A18 P1 (5)
A19 P1 (16)
A20 P1 (3)
A21 P1 (18)
A22 R1 (9)
A23 R1 (12)
A24 R1 (7)
A25 R1 (14)
A26 R1 (5)
A27 R1 (16)
A28 R1 (3)
A29 R1 (18)
A30 GND
A31 GND
A32 GND

B1 +5V
B2 +5V
B3 +5V
B4 SC2 (14), PRO-CT0 (19)
B5 SC2 (12), PRO-CT0 (20)
B6 SC2 (9), PRO-CT0 (25)
B7 SC2 (7), PRO-CT0 (26)
B8 SC2 (5), PRO-CT0 (27)
B9 SC2 (3), PRO-CT0 (28)
B10 SFIX (13)
B11 SFIX (14)
B12 SFIX (15)
B13 SFIX (17)
B14 SFIX (18)
B15 SFIX (19)
B16 SFIX (20)
B17 SFIX (21)
B18 R3 (12)
B19 R3 (14)
B20 R3 (16)
B21 R3 (18)
B22 R2 (11)
B23 R2 (12)
B24 R2 (13)
B25 R2 (14)
B26 R2 (15)
B27 R2 (16)
B28 R2 (17)
B29 R2 (18)
B30 GND
B31 GND
B32 GND
&lt;/pre>

The ICs:

* P1 = 74AS244
* R1 = 74AS244
* R2 = 74AS245
* R3 = 74AS244

=CN9=
&lt;pre>
A1 +5V
A2 +5V
A3 +5V
A4 R11 (9)
A5 R11 (12)
A6 R11 (7)
A7 R11 (14)
A8 R11 (5)
A9 R11 (16)
A10 R11 (3)
A11 R11 (18)
A12 R10 (9)
A13 R10 (12)
A14 R10 (7)
A15 R10 (14)
A16 R10 (5)
A17 R10 (16)
A18 R10 (3)
A19 R10 (18)
A20 SC1 (19), PRO-CT0 (59)
A21 SC1 (17), PRO-CT0 (60)
A22 SC1 (15), PRO-CT0 (61)
A23 SC1 (13), PRO-CT0 (62)
A24 SC1 (10), PRO-CT0 (5)
A25 SC1 (8), PRO-CT0 (6)
A26 SC1 (6), PRO-CT0 (7)
A27 SC1 (4), PRO-CT0 (8)
A28 SC2 (19), PRO-CT0 (13)
A29 SC2 (17), PRO-CT0 (14)
A30 GND
A31 GND
A32 GND

B1 +5V
B2 +5V
B3 +5V
B4 P11 (9)
B5 P11 (12)
B6 P11 (7)
B7 P11 (14)
B8 P11 (5)
B9 P11 (16)
B10 P11 (3)
B11 P11 (18)
B12 P10 (9)
B13 P10 (12)
B14 P10 (7)
B15 P10 (14)
B16 P10 (5)
B17 P10 (16)
B18 P10 (3)
B19 P10 (18)
B20 SC1 (18), PRO-CT0 (1)
B21 SC1 (16), PRO-CT0 (2)
B22 SC1 (14), PRO-CT0 (3)
B23 SC1 (12), PRO-CT0 (4)
B24 SC1 (9), PRO-CT0 (9)
B25 SC1 (7), PRO-CT0 (10)
B26 SC1 (5), PRO-CT0 (11)
B27 SC1 (3), PRO-CT0 (12)
B28 SC2 (18), PRO-CT0 (17)
B29 SC2 (16), PRO-CT0 (18)
B30 GND
B31 GND
B32 GND
&lt;/pre>

The ICs:

* R10 = [[74LS244]]
* R11 = [[74LS244]]
* P10 = [[74LS244]]
* P11 = [[74LS244]]

=CN10=

{|class="wikitable"
!Pin||Connected to||Location
|-
|A1||+5V||
|-
|A2||+5V||
|-
|A3||+5V||
|-
|A4||+5V||
|-
|A5||Pin 2 of 74AS245||B7
|-
|A6||Pin 3 of 74AS245||B7
|-
|A7||Pin 4 of 74AS245||B7
|-
|A8||Pin 5 of 74AS245||B7
|-
|A9||Pin 6 of 74AS245||B7
|-
|A10||Pin 7 of 74AS245||B7
|-
|A11||Pin 8 of 74AS245||B7
|-
|A12||Pin 9 of 74AS245||B7
|-
|A13||Pin 2 of 74AS245||B8
|-
|A14||Pin 3 of 74AS245||B8
|-
|A15||Pin 4 of 74AS245||B8
|-
|A16||Pin 5 of 74AS245||B8
|-
|A17||Pin 6 of 74AS245||B8
|-
|A18||Pin 7 of 74AS245||B8
|-
|A19||Pin 8 of 74AS245||B8
|-
|A20||Pin 9 of 74AS245||B8
|-
|A21||Pin 9 of 74AS245 + Pin 3 of 74AS244||B8 + C11
|-
|A22||Pin 5 of 74AS244||C11
|-
|A23||Pin 7 of 74AS244||C11
|-
|A24||Pin 9 of 74AS244||C11
|-
|A25||Pin 12 of 74AS244||C11
|-
|A26||Pin 14 of 74AS244||C11
|-
|A27||Pin 16 of 74AS244||C11
|-
|A28||Pin 18 of 74AS244||C11
|-
|A29||Ground||
|-
|A30||Ground||
|-
|A31||Ground||
|-
|A32||Ground||
|}

&lt;pre>
B1 +5V
B2 +5V
B3 +5V
B4 +5V
B5 B9 (18)
B6 B9 (3)
B7 B9 (16)
B8 B9 (5)
B9 B9 (14)
B10 B9 (7)
B11 B9 (12)
B12 B9 (9)
B13 B10 (18)
B14 B10 (3)
B15 B10 (16)
B16 B10 (5)
B17 B10 (14)
B18 B10 (7)
B19 B10 (12)
B20 B10 (9)
B21 B11 (18)
B22 B11 (3)
B23 B11 (16)
B24 B11 (5)
B25 PRO-C0 (72)
B26 PRO-C0 (74)
B27 PRO-C0 (75)
B28 PRO-C0 (73)
B29 GND
B30 GND
B31 GND
B32 GND
&lt;/pre>

The ICs:

* B7 = 74AS245
* B8 = 74AS245
* B9 = 74HC244
* B10 = 74HC244
* B11 = 74AS244
* C11 = 74AS244

=CN11=
&lt;pre>
A1 +5V
A2 +5V
A3 +5V
A4 +5V
A5 F2 (14)
A6 F2 (12)
A7 F2 (9)
A8 F2 (7)
A9 F2 (3)
A10 F2 (5)
A11 G2 (5)
A12 G2 (16)
A13 G2 (9)
A14 G2 (12)
A15 G2 (7)
A16 G2 (14)
A17 G2 (18)
A18 G2 (3)
A19 F2 (16)
A20 NOT CONNECTED
A21 B11 (14)
A22 G10 (13)
A23 NOT CONNECTED
A24 NOT CONNECTED
A25 NOT CONNECTED
A26 NOT CONNECTED
A27 NOT CONNECTED
A28 NOT CONNECTED
A29 GND
A30 GND
A31 GND
A32 GND

B1 +5V
B2 +5V
B3 +5V
B4 +5V
B5 F1 (9)
B6 F1 (8)
B7 F1 (7)
B8 F1 (6)
B9 F1 (5)
B10 F1 (4)
B11 F1 (3)
B12 F1 (2)
B13 G1 (9)
B14 G1 (8)
B15 G1 (7)
B16 G1 (6)
B17 G1 (5)
B18 G1 (4)
B19 G1 (3)
B20 G1 (2)
B21 B11 (7)
B22 B11 (12)
B23 B11 (9)
B24 NOT CONNECTED
B25 NOT CONNECTED
B26 NOT CONNECTED
B27 NOT CONNECTED
B28 NOT CONNECTED
B29 GND
B30 GND
B31 GND
B32 GND
&lt;/pre>

The ICs:

* B11 = 74AS244
* F1 = 74LS245
* F2 = [[74LS244]]
* G1 = 74LS245
* G2 = [[74LS244]]
* G10 = LS138

[[Category:Chips]]

Some information from [[http://hardmvs.com/html/PCBcompare.htm HardMVS]] - [[http://hardmvs.fr/html/PCBcompare.htm HardMVS Mirror]].

The number in the model name is the number of cartridge [[slot]]s.

{| align="center" class="regdef"
|'''Model'''
|'''[[Memory card]] slot'''
|'''[[Pinouts#Joypad_ports|Joypad ports]]'''
|'''[[System ROM]]'''
|'''Video chipset'''
|'''Other chips'''
|'''PCB picture'''
|-
|[[MV1|MV1(T)]]
|class="red"|No
|class="green"|Yes
|Socketed DIP
|[[PRO-B0]]/[[PRO-C0]]/[[LSPC-A0]]
|[[NEO-D0]] [[NEO-E0]] [[NEO-F0]] [[NEO-G0]] [[NEO-I0]] [[NEO-ZMC2]]
|Yes
|-
|[[MV1A]]
|class="red"|No
|class="red"|No
|Socketed DIP
|[[NEO-MGA|NEO-MGA]]/[[NEO-GRC]]
|[[NEO-BUF]] [[NEO-D0]] [[NEO-F0]] [[NEO-I0]] [[NEO-ZMC2]]
|Yes
|-
|[[MV1ACH]]
|class="red"|No
|class="red"|No
|Socketed DIP
|[[NEO-MGA|NEO-MGA]]/[[NEO-GRC]]
|[[NEO-BUF]] [[NEO-D0]] [[NEO-F0]] [[NEO-I0]] [[NEO-ZMC2]]
|
|-
|[[MV1AX]]
|class="red"|No
|class="red"|No
|Soldered DIP
|[[NEO-MGA|NEO-MGA]]/[[NEO-GRC]]
|
|
|-
|[[MV1B]]
|class="red"|No
|class="red"|No
|Soldered SMD
|[[NEO-GRC2-F|NEO-GRC2]]
|[[NEO-BUF]] [[NEO-DCR-T]] [[NEO-SDR-T]]
|Yes
|-
|[[MV1B1]]
|class="red"|No
|class="red"|No
|Soldered SMD
|[[NEO-GRC2-F|NEO-GRC2]]
|[[NEO-BUF]] [[NEO-DCR-T]] [[NEO-SDR-T]]
|
|-
|[[MV1C]]
|class="red"|No
|class="red"|No
|Soldered SMD
|[[NEO-GRZ]]
|[[NEO-DCR-T]] [[NEO-YSA2]]
|Yes
|-
|[[MV1F|MV1F(S)]]
|class="red"|No
|class="green"|Yes
|Socketed DIP
|[[NEO-B1]]/[[LSPC2-A2]]
|[[NEO-C1]] [[NEO-D0]] [[NEO-E0]] [[NEO-F0]] [[NEO-I0]]
|Yes
|-
|[[MV1FZS|MV1FZ(S)]]
|class="red"|No
|class="red"|No
|Socketed DIP
|[[NEO-B1]]/[[LSPC2-A2]]
|[[NEO-C1]] [[NEO-D0]] [[NEO-E0]] [[NEO-ZMC2]]
|Yes
|-
|[[MV2B]]
|class="red"|External
|class="green"|Yes
|Socketed DIP
|[[PRO-B0]]/[[PRO-C0]]/[[LSPC-A0]]
|[[PRO-CT0]]
|Yes
|-
|[[MV2F]]
|class="green"|Yes
|class="green"|Yes
|Socketed DIP
|[[NEO-B1]]/[[LSPC2-A2]]
|
|
|-
|[[MV2FS]]
|class="green"|Yes
|class="green"|Yes
|Socketed DIP
|[[NEO-B1]]/[[LSPC2-A2]]
|
|Yes
|-
|[[MV4]]
|class="red"|External
|class="green"|Yes
|Socketed DIP
|[[PRO-B0]]/[[PRO-C0]]/[[LSPC-A0]]
|[[PRO-CT0]]
|Yes
|-
|[[MV4|MV4F(S)]]
|class="red"|External
|class="green"|Yes
|Socketed DIP
|[[NEO-B1]]/[[LSPC2-A2]]
|[[NEO-C1]] [[NEO-D0]] [[NEO-E0]] [[NEO-I0]]...
|Yes
|-
|[[MV4FT|MV4FT]]
|class="red"|External
|class="green"|Yes
|Socketed DIP
|[[NEO-B1]]/[[LSPC2-A2]]
|[[NEO-C1]] [[NEO-D0]] [[NEO-E0]] [[NEO-I0]]...
|Yes
|-
|[[MV4FT|MV4FT2]]
|class="red"|External
|class="green"|Yes
|Socketed DIP
|[[NEO-B1]]/[[LSPC2-A2]]
|[[NEO-C1]] [[NEO-D0]] [[NEO-E0]] [[NEO-I0]]...
|[http://www.mvs-scans.com/index.php/MV4FT2 MVS-Scans]
|-
|[[MV6]]
|class="red"|External
|class="green"|Yes
|Socketed DIP
|[[PRO-B0]]/[[PRO-C0]]/[[LSPC-A0]]
|[[PRO-CT0]]
|Yes
|}

Also see [[ROM-Only boards]].


Board naming use the following logic:
* MVx = "Multi Video" where x stands for number of cart
* nothing = Nec chipset
* F = Fujitsu chipset
* T = Toshiba board
* S = Sharp board
* A = Asshole (it fits so well to these boards)
* B = because made after A
* C = because made after B




[[Category:Cartridge systems]]

There are lots of different MVS arcade cabs. This page's purpose is to list all of them with their manuals scanned in high-res. Photos coming soon.
All info from [http://www.hardmvs.com HardMVS] (now [http://web.archive.org/web/20070206124933/http://www.hardmvs.com:80/html/cabphotos.htm HardMVS (archive)]).

=JAP=

==Candy 25==

==Candy 26==

==MV19SC-0==

==MV25TA-0==

==MV25UP-0==

==MVS-U1-33==

==MVS-U2==

==MVS-U2-33==

==MVS-U4==

==MVS-U4-33==

==Neo19==

==Neo25==

==Neo29==

==Neo50==

==Neo50-II==

==Neo Candy 25==

==Neo Candy 29==

==SC14-2==

==SC19-4==

==SC25-4==

==SCB-U4==

==SuperNeo-29==

==SuperNeo29-Candy==

==SuperNeo29 Type II==

=US=

All US MVS cabs are red, except the gold and wood 2 slot, and the special Samurai Shodown 2 cabs.

==MVS-1-25==

==MVS-2-25==

==MVS-2-19==

The gold and wood MV2F cab. Not very common.

==MVS-2-13==

The famous MV2F mini cab. Does not have any memory card reader / headphone jack.

==MVS-4-25 (rev.1)==

==MVS-4-25 (rev.2)==

==MVS-4-25 (rev.3)==

==MVS-6-25==

==Samurai Shodown 2==

=Pacific=

=South America=

=Other=

=Reproductions=

[[Category:Cartridge systems]]

Unlike [[AES cartridge]]s, the sprite graphics aren't pre-serialized by a [[NEO-ZMC2]] or [[PRO-CT0]] chip. The complete [[C ROM]] data bus is exposed to the cartridge edge, it's then serialized by the chip included on the [[MVS hardware|board]].

Since NEO-ZMC2 isn't present, [[NEO-ZMC]] is used to bankswitch the [[M1 ROM]].

The cartridge connector has 2*2*60 (240) pins. See [[MVS cartridge pinout]].

==Trivia==

*Early cartridges like [[Puzzled]] and [[NAM-1975]] used lots of discrete logic chips for banking. These chips were quickly merged in ASICs like [[NEO-273]], [[NEO-ZMC2]], [[PCM]], [[NEO-CMC]]...
*[[Super Sidekicks]], [[Fatal Fury 2]] and [[Metal Slug X - Super Vehicle-001]] have a challenge/response type protection and banking chip called [[SNK-9201]].
*Some carts like [[King of Fighters '98 - Dream Match Never Ends]] had [[Altera CPLD|Altera MAX CPLDs]] as protection devices.
*[[Thrash Rally]], [[Riding Hero]], and [[League Bowling]] had [[HD6301]] microcontrollers and SN75176 differential bus drivers to communicate point-to-point through 3.5mm jack cables for their [[multiplayer]] mode. The AES versions only had one plug ?

[[Category:Cartridge systems]]

See also [[AES cartridge pinout]].

* Pin pitch: .1 in (2.54mm)
* Board thickness: 1.6mm
* Number of pins: 60 on each side, 120 per board, 240 per cartridge, with some pins missing or unused

''Tip:'' Instead of counting from the edges, count from the center VCC pins after finding them with a multimeter or the board's layout.


{| class="regdef" align="center" style="text-align:center;align:right;"
|CHA bottom
|CHA top
|PROG bottom
|PROG top
|-
|[[File:mvscartchabot.png|200px]]
|[[File:mvscartchatop.png|200px]]
|[[File:mvscartprgbot.png|200px]]
|[[File:mvscartprgtop.png|200px]]
|}

&lt;span style="color:#FF0000">&lt;B>Beware !&lt;/B> Pinouts found elsewhere have /ROMOE and 4MB swapped, it's an error on the original schematics. /ROMOE is on pin 33 bottom, 4MB is on pin 34 bottom.&lt;/span>

See [[Signal names]] for the description of each pin.

SLOTCS goes low when the slot is used. On multi-slot boards, the signals come from [[NEO-F0]] SLOT0~5. On one slot boards, it's tied to SYSTEMB.
The [[System ROM]] was written to ensure the signal is asserted when it does the slot check.

SLOTCS is used on multiplayer link capable games, trapping the [[HD6301]] into an idle loop when high.

[[NG:Dev.Team]] carts run this signal to the LPC2468FBD208. --[[User:Hpman|Hpman]] 05:22, 26 June 2012 (CEST)

[[PROGEOP]] uses SLOTCS, not [[PROGSF1]]. --[[User:Furrtek|Furrtek]] 12:11, 24 September 2012 (CEST)

[[Category:Cartridge systems]]

MVS stands for Multi Video System, the original NeoGeo arcade hardware.

==Particularities==

* [[Pinouts|JAMMA]] board edge connection.
* Some have onboard [[memory card]] slots, some are external, and some don't have any.
* Integrated calendar chip and [[battery-backed RAM]].
* [[System ROM]] has game setup menu, hardware test and book keeping functionalities.
* RGB video output, mono or stereo audio with power amp.
* Coin I/O.
* Credits and game marquee displays.
* Bit 7 of {{Reg|REG_STATUS_B}} is set.

See [[MVS board types]] for details on each board.

[[Category:Cartridge systems]]
[[Category:Chips]]

#REDIRECT [[Schematics]]

* [[Fusion converter]]
* [[Neo MVS adapter]]
* [[Neo SNK ARCADE MVS Magic Key]]
* [[Phantom‎]]
* [[Super MVS convertor II‎]]
* [[Super MVS convertor II plus‎]]

[[Category:Cartridge systems]]

#REDIRECT [[MVS to AES adapter]]

#REDIRECT [[MVS to AES adapters]]

#REDIRECT [[Magical Drop II]]

#REDIRECT [[Magical Drop III]]

{{GameInfo|right
|en_title=Magical Drop II
|jp_title=Magical Drop II
|jp_title2=マジカルドロップ2
|developer=Data East Corporation
|ngh_id=221
|megcount=82
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=magdrop2
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256B
|aes_release=y
|aes_release_jp=y
|aes_date=19/04/96
|cd_release=y
|cd_release_jp=y
|cd_date=24/05/96
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Magical Drop III
|jp_title=Magical Drop III
|jp_title2=マジカルドロップ3
|developer=Data East Corporation
|ngh_id=233
|megcount=174
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=magdrop3
|mvs_date=1997
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_date=25/04/97
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Magician Lord
|jp_title=Magician Lord
|jp_title2=マジシャンロード
|developer=Alpha Denshi Co.
|ngh_id=005
|megcount=46
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=maglord
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-EP
|mvs_cboard=CHA-32
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=maglordh
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=31/10/94
}}

[[Category:Games]]

#REDIRECT [[Magician Lord]]

{{GameInfo|right
|en_title=Mahjong Kyo Retsuden
|jp_title=Mahjong Kyo Retsuden
|jp_title2=麻雀狂列伝 －西日本編－
|developer=SNK
|ngh_id=004
|megcount=42
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=mahretsu
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-EP
|mvs_cboard=CHA-32
|aes_release=y
|aes_release_jp=y
|aes_romset=mahretsu
|aes_date=01/07/91
|cd_release=y
|cd_relase_jp=y
|cd_date=09/09/94
}}

[[Category:Games]]

[[File:Mahjong_controller.jpg|right|thumb|Mahjong controller]]
[[File:Mahjong_IO.png|right|thumb|Mahjong specific I/O test screen (Japan-J3 system ROM)]]

A special controller designed to play mahjong games. It provides 21 push buttons organized in two rows:

* First row: A B C D E F G H I J K L M N.
* Second row: SELECT START, then PON CHI KAN REACH RON (Japanese: pon chî kan rîchi ron).

=Software=

The mahjong controller is suported by all original [[system ROM]]s.

The MVS system ROM doesn't detect the controller, but reads [[hardware DIPs]] #3 and sets the status byte of INPUT_1 to 3 if set. It never sets INPUT_2 to 3, meaning that the mahjong controller is a single-player setup only on MVS.

The home console system ROM can detect the controller on both ports (by writing 1 to OUT3 and reading the SELECT button) and sets the corresponding input status byte to 3, allowing the use of two mahjong controllers.
 
Calling [[SYSTEM_IO]] reports the controller's status and updates the input data in RAM.

=Hardware=

The controller is built using a multiplexed array of buttons, using the controller port outputs to select which group of buttons to read. OUT3 and SELECT are hardwired to enable detection of the controller by home systems.

The button array is organized as follows:

{|class="wikitable"
|
|align="center"|'''OUT1'''
|align="center"|'''OUT2'''
|align="center"|'''OUT3'''
|-
|'''UP'''
|align="center"|A
|align="center"|H
|align="center"|PON
|-
|'''DOWN'''
|align="center"|B
|align="center"|I
|align="center"|CHI
|-
|'''LEFT'''
|align="center"|C
|align="center"|J
|align="center"|KAN
|-
|'''RIGHT'''
|align="center"|D
|align="center"|K
|align="center"|RON
|-
|'''A'''
|align="center"|E
|align="center"|L
|align="center"|REACH
|-
|'''B'''
|align="center"|F
|align="center"|M
|align="center"|-
|-
|'''C'''
|align="center"|G
|align="center"|N
|align="center"|-
|}

SELECT and START are always enabled.

Schematic of the controller:

[[File:Mahjong_schematic.png]]

[[Category:Controllers]]

#REDIRECT [[Mahjong Kyo Retsuden]]

__NOTOC__
&lt;div class="newhome">
&lt;div id="home-header">
	&lt;div style="min-height:110px;">
	  [[File:Neo-Geo-AES-Console-Set.png|left|x100px|link=]]
	  &lt;h2 class="title">The NeoGeo Development Wiki&lt;/h2>
	  &lt;p class="headline">This wiki is about every technical aspects of the SNK NeoGeo hardware and software (AES, MVS, CD and CDZ).&lt;br />Our aim is to provide the most detailed, accurate and up to date information for preservation, homebrew development and repairs.&lt;/p>
	&lt;/div>
&lt;/div>

&lt;div id="home-left">
&lt;div id="home-cat">
&lt;div class="home-block">
    &lt;div class="head cat-base">[[:Category:Base system|&lt;span class="cattitle">&lt;span>Base system&lt;/span>&lt;/span>]]&lt;/div>
    &lt;div class="content">
        &lt;p>What's common to every NeoGeo system: main architecture, data formats...&lt;/p>
    &lt;/div>
	&lt;div>
        &lt;div>'''Last edits'''&lt;/div>
        &lt;table>
            &lt;forum>
                category=Base system
                count=3
            &lt;/forum>
        &lt;/table>{{PAGESINCAT:Base system}} pages
    &lt;/div>
&lt;/div>
&lt;div class="home-block">
    &lt;div class="head cat-video">[[:Category:Video system|&lt;span class="cattitle">&lt;span>Video system&lt;/span>&lt;/span>]]&lt;/div>
    &lt;div class="content">
        &lt;p>How graphics are handled and displayed, from bitplanes and colors to the video output.&lt;/p>
    &lt;/div>
	&lt;div>
        &lt;div>'''Last edits'''&lt;/div>
        &lt;table>
            &lt;forum>
                category=Video system
                count=3
            &lt;/forum>
        &lt;/table>{{PAGESINCAT:Video system}} pages
    &lt;/div>
&lt;/div>
&lt;div class="home-block">
    &lt;div class="head cat-audio">[[:Category:Audio system|&lt;span class="cattitle">&lt;span>Audio system&lt;/span>&lt;/span>]]&lt;/div>
    &lt;div class="content">
        &lt;p>Everything related to music and sound effects: The Z80 subsystem, synthesized and sampled sound, CDDA playback...&lt;/p>
    &lt;/div>
	&lt;div>
        &lt;div>'''Last edits'''&lt;/div>
        &lt;table>
            &lt;forum>
                category=Audio system
                count=3
            &lt;/forum>
        &lt;/table>{{PAGESINCAT:Audio system}} pages
    &lt;/div>
&lt;/div>
&lt;div class="home-block">
    &lt;div class="head cat-repair">[[:Category:Repairs|&lt;span class="cattitle">&lt;span>Repairs&lt;/span>&lt;/span>]]&lt;/div>
    &lt;div class="content">
        &lt;p>Troubleshooting dead or glitchy MVS boards, CD laser assemblies, cartridges...&lt;/p>
    &lt;/div>
	&lt;div>
        &lt;div>'''Last edits'''&lt;/div>
        &lt;table>
            &lt;forum>
                category=Repairs
                count=3
            &lt;/forum>
        &lt;/table>{{PAGESINCAT:Repairs}} pages
    &lt;/div>
&lt;/div>
&lt;div class="home-block">
    &lt;div class="head cat-cart">[[:Category:Cartridge systems|&lt;span class="cattitle">&lt;span>Cart systems&lt;/span>&lt;/span>]]&lt;/div>
    &lt;div class="content">
        &lt;p>Particularities of the AES and MVS systems: ROM types, memory cards, cab I/O, data security... Also [[:Category:Cartridge boards|cartridge boards]] information.&lt;/p>
    &lt;/div>
	&lt;div>
        &lt;div>'''Last edits'''&lt;/div>
        &lt;table>
            &lt;forum>
                category=Cartridge systems
                count=3
            &lt;/forum>
        &lt;/table>{{PAGESINCAT:Cartridge systems}} pages
    &lt;/div>
&lt;/div>
&lt;div class="home-block">
    &lt;div class="head cat-cd">[[:Category:CD systems|&lt;span class="cattitle">&lt;span>CD systems&lt;/span>&lt;/span>]]&lt;/div>
    &lt;div class="content">
        &lt;p>NeoGeo CD and CDZ specificities: Differences and limitations, new memory functions, CDDA...&lt;/p>
    &lt;/div>
	&lt;div>
        &lt;div>'''Last edits'''&lt;/div>
        &lt;table>
            &lt;forum>
                category=CD systems
                count=3
            &lt;/forum>
        &lt;/table>{{PAGESINCAT:CD systems}} pages
    &lt;/div>
&lt;/div>
&lt;div class="home-block">
    &lt;div class="head cat-code">[[:Category:Code|&lt;span class="cattitle">&lt;span>Software&lt;/span>&lt;/span>]]&lt;/div>
    &lt;div class="content">
        &lt;p>Code snippets, register definitions, guides on how to display stuff, use the system ROM, play music and sounds, read user input...&lt;/p>
    &lt;/div>
	&lt;div>
        &lt;div>'''Last edits'''&lt;/div>
        &lt;table>
            &lt;forum>
                category=Code
                count=3
            &lt;/forum>
        &lt;/table>{{PAGESINCAT:Code}} pages
    &lt;/div>
&lt;/div>
&lt;div class="home-block">
    &lt;div class="head cat-chips">[[:Category:Chips|&lt;span class="cattitle">&lt;span>Electronics&lt;/span>&lt;/span>]]&lt;/div>
    &lt;div class="content">
        &lt;p>What makes everything work (or not). Schematics, chip pinouts and functions, troubleshooting hardware issues...&lt;/p>
    &lt;/div>
	&lt;div>
        &lt;div>'''Last edits'''&lt;/div>
        &lt;table>
            &lt;forum>
                category=Chips
                count=3
            &lt;/forum>
        &lt;/table>{{PAGESINCAT:Chips}} pages
    &lt;/div>
&lt;/div>
&lt;div class="home-block">
    &lt;div class="head cat-games">[[:Category:Games|&lt;span class="cattitle">&lt;span>Games&lt;/span>&lt;/span>]]&lt;/div>
    &lt;div class="content">
        &lt;p>Remarquable games for some of their technical aspects: special effects, unusual hardware use, hidden features...&lt;/p>
    &lt;/div>
	&lt;div>
        &lt;div>'''Last edits'''&lt;/div>
        &lt;table>
            &lt;forum>
                category=Games
                count=3
            &lt;/forum>
        &lt;/table>{{PAGESINCAT:Games}} pages
    &lt;/div>
&lt;/div>
&lt;/div>

&lt;/div>

&lt;div id="home-right">
  &lt;div class="home-block">
==[[Special:RecentChanges|Recent changes]] (minor edits hidden)==
{{Special:Recentchanges/4,hideminor}}
  &lt;/div>

  &lt;div class="home-block">
==About this wiki==
    &lt;ul style="list-style:outside none none;">
      &lt;li>The wiki has {{NUMBEROFARTICLES}} pages thanks to our [[Special:Userlist|contributors]]&lt;/li>
      &lt;li>Hosting provided by [[User:ElBarto|ElBarto]]&lt;/li>
      &lt;li>Don't know where to start ? Try [[How_to_start|here]]&lt;/li>
      &lt;li>Can't find what you're looking for ? Try our [[links]]&lt;/li>
      &lt;li>'''Want to help ? Just [[Join_wiki|register]] ''' or join us on IRC ! [[irc://irc.libera.chat/neogeodev Libera.chat #neogeodev]]&lt;/li>
      &lt;li>'''How to edit, guidelines, available templates, suggestions: [[The wiki]]'''&lt;/li>
    &lt;/ul>
  &lt;/div>

  &lt;div class="home-block">

==Todo==
* See [[Special:WantedPages|wanted pages]], [[Special:AncientPages|old pages]], [[Special:ShortPages|short pages]], and [[Todo/Mysteries]].
* Publish asm highlighter for ConTEXT
* Make subcategories, move/merge "BIOS calls"
* More schematics, chip details/pinouts
* Troubleshooting tips
* Make a downloadable offline capture every few months ?
  &lt;/div>

&lt;/div>


&lt;/div>

=MVS/AES=

[[File:mvsarch.png]]

*Graphic multiplexer not shown
*Graphic, audio and sound buses for data are separated. '''68k can't access data'''.
*Only difference with AES is I/O for cab stuff, [[Hardware DIPs|dipswitches]], gfx multiplexer onboard and [[backup RAM]].

=CD=

[[File:CDarch.png]]

*Not sure about GPU organisation, Z80 RAM may be connected directly to Z80 -furrtek
*LC89515/CD data transfers might be on the 68k bus
*68k can [[BIOSF_UPLOAD|upload]] to DRAM with or without [[DMA]].

[[Category:Base system]]

To make your own ISO file:

See [[Game CD structure]].

Use '''mkisofs''' (Windows, Linux).

&lt;pre>
mkisofs -iso-level 1 -o output.iso -pad -N -V "NGCDTEST" P1.PRG M1.Z80 SPR.SPR S1.FIX V1.PCM ABS.TXT BIB.TXT CPY.TXT IPL.TXT
&lt;/pre>

* -iso-level-1: The NeoGeo CD is compatible with this level only.
* -pad: Just in case.
* -N: Remove file version info.
* -V: Specify volume ID string.

[[Category:CD systems]]

Scrolling backgrounds are formed using a set of [[sprites]] positioned directly next to each other. A sprite is only 16 pixels wide, so many are needed to fill the screen horizontally. The [[Sticky bit]] is often used to make this simpler. A set of 21 chained sprites can be used to make a single full-screen scrolling background layer.

==Updating VRAM==
(todo)

==Demos==
Interactive demos with source can be found [http://smkdan.eludevisibility.org/neo/scroll_02.zip here].

(todo: clean it up, make scroll3, finish documenting it here)

[[Category:Code]]
[[Category:Graphics Code]]

[[File:Marquee4.jpg|thumb|4-panel marquee.]]

The marquee is a display placed above a cab's screen, showing which game is currently playing by illuminating paper artwork.

The [[MV-ELA]] board provides high voltage to electroluminescent sheets glued on [[MV-ELC]] or [[MV-ELD]] boards.

Registers {{Reg|REG_LEDLATCHES}} and {{Reg|REG_LEDDATA}} are used to switch the panels on or off.

[[Category:Cartridge systems]]

#REDIRECT [[Chibi Marukochan Deluxe Quiz]]

#REDIRECT [[Matrimelee]]

{{GameInfo|right
|en_title=Matrimelee 
|jp_title=Shin Gouketsuji Ichizoku Toukon
|jp_title2=新豪血寺一族 闘婚-Matrimelee-
|developer=Noise Factory / Atlus
|editor=Playmore
|ngh_id=266
|megcount=646
|tcrf=https://tcrf.net/Matrimelee_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=matrim
|mvs_date=2002
|mvs_pchip=
|mvs_pboard=PROGBK2
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

/* CSS placed here will be applied to all skins */

.catdiv {
border:1px;
width:256px; 
height:100%;
border-style:solid;
background-color:#EEEEEE;
border-color:black;
text-align:center;
}
.cattitlediv {
position:relative;
left:20px;
top:20px;
height:64px;
text-align:left;
}
.cattitle {
color:white;
text-shadow: -1px -1px 2px black, -1px 1px 2px black, 1px 1px 2px black, 1px -1px 2px black;
font-size:30px;
}

table.cputiming {
border-collapse:collapse;
}
table.cputiming td {
border:1px solid black;
padding:4px;
}
table.cputiming td:first-child {
padding:2px;
background:#FFF;
font-size:12pt;
font-family:monospace;
font-weight:bold;
}
.green {
background-color:#9F7;
}
.yellow {
background-color:#FF7;
}
.orange {
background-color:#FB7;
}
.red {
background-color:#F77;
}

table.bitdef {
border-collapse:collapse;
}
table.bitdef td {
text-align:center;
padding:2px;
border-top:1px dotted grey;
border-bottom:1px dotted grey;
border-left:1px solid #444444;
border-right:1px solid #444444;
background:#FFF;
}

.regdef {
border-collapse: collapse;
}
.regdef td {
padding:4px;
border-top:1px solid black;
border-bottom:1px solid black;
border-left:1px solid #BBBBBB;
border-right:1px solid #BBBBBB;
}
.regdef tr:nth-child(even) {
background:#F0F0F0
}
.regdef tr:nth-child(odd) {
background:#F8F8F8
}

.pinvertical td {
width: 10px;
font-size: 10px;
vertical-align: bottom;
line-height: 10px;
border: 1px #EEEEEE solid;
border-collapse: collapse;
}

.page-Main_Page .firstHeading { display:none; }

#home-header {
	padding: 0.5rem 0; 
	background: rgba(0, 0, 0, 0) linear-gradient(to bottom, #fff, #e8f2f8) repeat scroll 0 0; 
	border-bottom:1px solid #aaa;
}

#home-header .title {
	border:none;
	margin-top:0
}

#home-left {
	float:left; 
	width:66%; 
	clear:both;
}

#home-right {
	float:right;
	width:33%;
}

#home-cat {
	display:flex;
	flex-flow:row wrap;
	justify-content: space-around;
	align-items:stretch;
}

.home-block {
	border-radius:0.3rem;
	box-shadow:0 0 0.3rem #999;
	margin:0.5rem 0;
	padding: 0.1rem 1rem 1rem;
}
#home-cat .home-block {
	width:31%;
	padding:0;
	overflow:hidden;
	text-align:center;
	display:flex;
	flex-direction:column;
}

#home-cat .home-block .head {
	background-size: cover;
	height: 64px;
}
#home-cat .home-block .head .cattitle {
	display: block;
	position: relative;
	width: 100%;
	height: 100%;
}
#home-cat .home-block .head .cattitle span {
	display: block;
	position:absolute;
	top:25px;
	left:20px;
	font-size:30px;
}

#home-cat .home-block .content {
	padding:0 1rem;
	flex:1 0 auto;
}

#home-cat .home-block table {
	font-size:8pt;
	width:100%;
	border-spacing:0px 5px;
	border-top: 1px solid #CCC;
	border-bottom: 1px solid #CCC;
}

#home-cat .cat-base { background-image: url("/images/a/ac/Ban2_base.jpg") }
#home-cat .cat-video { background-image: url("/images/6/6a/Ban2_video.jpg") }
#home-cat .cat-audio { background-image: url("/images/f/f3/Ban2_audio.jpg") }
#home-cat .cat-repair { background-image: url("/images/4/46/Ban2_repair.jpg") }
#home-cat .cat-cart { background-image: url("/images/b/b5/Ban2_cart.jpg") }
#home-cat .cat-cd { background-image: url("/images/d/df/Ban2_cd.jpg") }
#home-cat .cat-code { background-image: url("/images/3/3a/Ban2_code.jpg") }
#home-cat .cat-chips { background-image: url("/images/a/a5/Ban2_chips.jpg") }
#home-cat .cat-games { background-image: url("/images/0/07/Ban2_games.jpg") }

Latest load.php from Mediawiki 1.40 doesn't like the "url" directive. It compiles it to an empty url...
It needs some investigation.

&lt;syntaxhighlight lang=javascript>
 //In order to work again:
 //change from:
 #home-cat .cat-base { background-image: url("/images/a/ac/Ban2_base.jpg") }
 
 //to:
 #home-cat .cat-base { background-image: url( images/a/ac/Ban2_base.jpg ) }
 
 //sources:
 //    https://www.mediawiki.org/wiki/Manual:Coding_conventions/CSS
 //    https://www.mediawiki.org/wiki/MediaWiki:Common.css

&lt;/syntaxhighlight>

#home-cat .cat-base { background-image: url("/images/a/ac/Ban2_base.jpg") }
#home-cat .cat-video { background-image: url("/images/6/6a/Ban2_video.jpg") }
#home-cat .cat-audio { background-image: url("/images/f/f3/Ban2_audio.jpg") }
#home-cat .cat-repair { background-image: url("/images/4/46/Ban2_repair.jpg") }
#home-cat .cat-cart { background-image: url("/images/b/b5/Ban2_cart.jpg") }
#home-cat .cat-cd { background-image: url("/images/d/df/Ban2_cd.jpg") }
#home-cat .cat-code { background-image: url("/images/3/3a/Ban2_code.jpg") }
#home-cat .cat-chips { background-image: url("/images/a/a5/Ban2_chips.jpg") }
#home-cat .cat-games { background-image: url("/images/0/07/Ban2_games.jpg") }

Thanks for the investigation and finding the cause. I can't edit Common.css because I don't have the appropriate rights anymore. Tried reaching Elbarto. [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 10:47, 10 May 2025 (UTC)

'''Meg'''abits count. Mostly a marketing gimmick to show how huge the games were. The effective size in the following table is computed by removing padding (identical bytes) at the end of each ROM file.

Please disregard encrypted games (such as late KOFs), since encryption "hides" the stuffing.

"1 MEG" = 1M'''b''' = 1 Megabits = 128 kilobytes = 128k'''B'''.

{|class="wikitable sortable"
!'''ROMset'''!!'''Advertised size'''!!'''Total size (stuffed)'''!!'''Total size (effective)'''!!'''Used/Filled'''
|-
|[[2020bb]]
|46 MEGS
|6912KB (54 MEGS)
|5827KB (45,5 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 16%
|-
|[[3countb]]
|106 MEGS
|13568KB (106 MEGS)
|13561KB (105,9 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[alpham2]]
|47 MEGS
|6016KB (47 MEGS)
|5947KB (46,5 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[androdun]]
|34 MEGS
|4352KB (34 MEGS)
|4254KB (33,2 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[aodk]]
|178 MEGS
|22784KB (178 MEGS)
|21328KB (166,6 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 7%
|-
|[[aof]]
|102 MEGS
|13056KB (102 MEGS)
|12991KB (101,5 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[aof2]]
|178 MEGS
|22784KB (178 MEGS)
|22783KB (178 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[aof3]]
|298 MEGS
|38144KB (298 MEGS)
|37472KB (292,8 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[bakatono]]
|48 MEGS
|6912KB (54 MEGS)
|5870KB (45,9 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 16%
|-
|[[bangbead]]
|170 MEGS
|23680KB (185 MEGS)
|23021KB (179,9 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[bjourney]]
|50 MEGS
|6400KB (50 MEGS)
|6001KB (46,9 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 7%
|-
|[[blazstar]]
|346 MEGS
|44288KB (346 MEGS)
|42431KB (331,5 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 5%
|-
|[[breakers]]
|210 MEGS
|26880KB (210 MEGS)
|26045KB (203,5 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 4%
|-
|[[breakrev]]
|242 MEGS
|14592KB (114 MEGS)
|14075KB (110 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 4%
|-
|[[bstars]]
|50 MEGS
|6400KB (50 MEGS)
|6257KB (48,9 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[bstars2]]
|68 MEGS
|7424KB (58 MEGS)
|7350KB (57,4 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[burningf]]
|54 MEGS
|6912KB (54 MEGS)
|6800KB (53,1 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[crsword]]
|50 MEGS
|5888KB (46 MEGS)
|5820KB (45,5 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[ctomaday]]
|106 MEGS
|15616KB (122 MEGS)
|12879KB (100,6 MEGS)
|&lt;span style="background-color:#000;color:#000">################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">####&lt;/span> 18%
|-
|[[cyberlip]]
|50 MEGS
|6336KB (49,5 MEGS)
|6270KB (49 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[doubledr]]
|178 MEGS
|20736KB (162 MEGS)
|19313KB (150,9 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 7%
|-
|[[eightman]]
|46 MEGS
|5888KB (46 MEGS)
|5696KB (44,5 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 4%
|-
|[[fatfursp]]
|150 MEGS
|19200KB (150 MEGS)
|19199KB (150 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[fatfury1]]
|55 MEGS
|7040KB (55 MEGS)
|7029KB (54,9 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[fatfury2]]
|106 MEGS
|13568KB (106 MEGS)
|13567KB (106 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[fatfury3]]
|266 MEGS
|34048KB (266 MEGS)
|34040KB (265,9 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[fbfrenzy]]
|48 MEGS
|5888KB (46 MEGS)
|5580KB (43,6 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 6%
|-
|[[flipshot]]
|46 MEGS
|6912KB (54 MEGS)
|6544KB (51,1 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 6%
|-
|[[galaxyfg]]
|169 MEGS
|21760KB (170 MEGS)
|21738KB (169,8 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[ganryu]]
|178 MEGS
|22656KB (177 MEGS)
|22383KB (174,9 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[garou]]
|688 MEGS
|90624KB (708 MEGS)
|89556KB (699,7 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[ghostlop]]
|?
|11520KB (90 MEGS)
|9934KB (77,6 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 14%
|-
|[[goalx3]]
|110 MEGS
|14592KB (114 MEGS)
|13723KB (107,2 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 6%
|-
|[[gowcaizr]]
|186 MEGS
|23808KB (186 MEGS)
|23737KB (185,5 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[gpilots]]
|55 MEGS
|7040KB (55 MEGS)
|6935KB (54,2 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[gururin]]
|40 MEGS
|5312KB (41,5 MEGS)
|4347KB (34 MEGS)
|&lt;span style="background-color:#000;color:#000">################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">####&lt;/span> 19%
|-
|[[irrmaze]]
|106 MEGS
|13696KB (107 MEGS)
|13381KB (104,5 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[janshin]]
|?
|7424KB (58 MEGS)
|7212KB (56,3 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[jockeygp]]
|?
|20480KB (160 MEGS)
|20476KB (160 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[joyjoy]]
|22 MEGS
|2816KB (22 MEGS)
|2389KB (18,7 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 16%
|-
|[[kabukikl]]
|202 MEGS
|25856KB (202 MEGS)
|25313KB (197,8 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[karnovr]]
|122 MEGS
|15616KB (122 MEGS)
|15491KB (121 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[kizuna]]
|242 MEGS
|30976KB (242 MEGS)
|30516KB (238,4 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[kof2000]]
|688 MEGS
|90880KB (710 MEGS)
|89854KB (702 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[kof2001]]
|681 MEGS
|87296KB (682 MEGS)
|86859KB (678,6 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[kof2002]]
|681 MEGS
|87296KB (682 MEGS)
|87108KB (680,5 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[kof2003]]
|716 MEGS
|92160KB (720 MEGS)
|92153KB (720 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[kof94]]
|196 MEGS
|24832KB (194 MEGS)
|24802KB (193,8 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[kof95]]
|250 MEGS
|32000KB (250 MEGS)
|31859KB (248,9 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[kof96]]
|362 MEGS
|46336KB (362 MEGS)
|45877KB (358,4 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[kof97]]
|460 MEGS
|58624KB (458 MEGS)
|58016KB (453,3 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[kof98]]
|683 MEGS
|88448KB (691 MEGS)
|86888KB (678,8 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[kof99]]
|673 MEGS
|88448KB (691 MEGS)
|87150KB (680,9 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[kotm]]
|55 MEGS
|7040KB (55 MEGS)
|6897KB (53,9 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[kotm2]]
|74 MEGS
|9472KB (74 MEGS)
|9278KB (72,5 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[lastblad]]
|474 MEGS
|62720KB (490 MEGS)
|56006KB (437,6 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 11%
|-
|[[lastbld2]]
|554 MEGS
|70912KB (554 MEGS)
|69494KB (542,9 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[lbowling]]
|26 MEGS
|3328KB (26 MEGS)
|2873KB (22,4 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 14%
|-
|[[legendos]]
|50 MEGS
|5888KB (46 MEGS)
|5205KB (40,7 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 12%
|-
|[[lresort]]
|45 MEGS
|5888KB (46 MEGS)
|5803KB (45,3 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[magdrop2]]
|82 MEGS
|11008KB (86 MEGS)
|10360KB (80,9 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 6%
|-
|[[magdrop3]]
|174 MEGS
|22272KB (174 MEGS)
|21645KB (169,1 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[maglord]]
|46 MEGS
|5376KB (42 MEGS)
|5261KB (41,1 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[mahretsu]]
|42 MEGS
|5248KB (41 MEGS)
|5062KB (39,6 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 4%
|-
|[[marukodq]]
|118 MEGS
|15520KB (121,2 MEGS)
|14660KB (114,5 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 6%
|-
|[[matrim]]
|646 MEGS
|87296KB (682 MEGS)
|86783KB (678 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[miexchng]]
|78 MEGS
|9984KB (78 MEGS)
|9844KB (76,9 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[minasan]]
|?
|6912KB (54 MEGS)
|6243KB (48,8 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 10%
|-
|[[mosyougi]]
|58 MEGS
|7424KB (58 MEGS)
|7296KB (57 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[mslug]]
|BAD DUMP
|26880KB (210 MEGS)
|24859KB (194,2 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 8%
|-
|[[mslug2]]
|362 MEGS
|44288KB (346 MEGS)
|37555KB (293,4 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 16%
|-
|[[mslug3]]
|708 MEGS
|90880KB (710 MEGS)
|87721KB (685,3 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 4%
|-
|[[mslug4]]
|553 MEGS
|70912KB (554 MEGS)
|70308KB (549,3 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[mslug5]]
|708 MEGS
|90688KB (708,5 MEGS)
|90586KB (707,7 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[mslugx]]
|506 MEGS
|64768KB (506 MEGS)
|63538KB (496,4 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[mutnat]]
|54 MEGS
|6912KB (54 MEGS)
|6827KB (53,3 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[nam1975]]
|46 MEGS
|5888KB (46 MEGS)
|5753KB (44,9 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[ncombat]]
|46 MEGS
|5888KB (46 MEGS)
|5635KB (44 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 5%
|-
|[[ncommand]]
|54 MEGS
|6912KB (54 MEGS)
|6796KB (53,1 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[neobombe]]
|138 MEGS
|16640KB (130 MEGS)
|16094KB (125,7 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 4%
|-
|[[neocup98]]
|162 MEGS
|24832KB (194 MEGS)
|22664KB (177,1 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 9%
|-
|[[neodrift]]
|106 MEGS
|14592KB (114 MEGS)
|14411KB (112,6 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[neomrdo]]
|50 MEGS
|6912KB (54 MEGS)
|5888KB (46 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 15%
|-
|[[ninjamas]]
|330 MEGS
|42240KB (330 MEGS)
|41704KB (325,8 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[nitd]]
|166 MEGS
|21504KB (168 MEGS)
|20864KB (163 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[overtop]]
|210 MEGS
|26880KB (210 MEGS)
|25110KB (196,2 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 7%
|-
|[[panicbom]]
|46 MEGS
|5888KB (46 MEGS)
|5130KB (40,1 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 13%
|-
|[[pbobbl2n]]
|BAD DUMP
|19712KB (154 MEGS)
|16778KB (131,1 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 15%
|-
|[[pbobblen]]
|32 MEGS
|3328KB (26 MEGS)
|2524KB (19,7 MEGS)
|&lt;span style="background-color:#000;color:#000">###############&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#####&lt;/span> 25%
|-
|[[pgoal]]
|146 MEGAS
|18688KB (146 MEGS)
|16687KB (130,4 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 11%
|-
|[[pnyaa]]
|?
|22528KB (176 MEGS)
|22009KB (171,9 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[popbounc]]
|58 MEGS
|7424KB (58 MEGS)
|6821KB (53,3 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 9%
|-
|[[preisle2]]
|478 MEGS
|60544KB (473 MEGS)
|60461KB (472,4 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[pspikes2]]
|82 MEGS
|10496KB (82 MEGS)
|8253KB (64,5 MEGS)
|&lt;span style="background-color:#000;color:#000">################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">####&lt;/span> 22%
|-
|[[pulstar]]
|305 MEGS
|40192KB (314 MEGS)
|38509KB (300,9 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 5%
|-
|[[puzzledp]]
|30 MEGS
|3328KB (26 MEGS)
|2104KB (16,4 MEGS)
|&lt;span style="background-color:#000;color:#000">#############&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#######&lt;/span> 37%
|-
|[[quizdai2]]
|50 MEGS
|6400KB (50 MEGS)
|6215KB (48,6 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[quizdais]]
|34 MEGS
|6400KB (50 MEGS)
|5970KB (46,6 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 7%
|-
|[[quizkof]]
|122 MEGS
|15616KB (122 MEGS)
|15356KB (120 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[ragnagrd]]
|338 MEGS
|43264KB (338 MEGS)
|42788KB (334,3 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[rbff1]]
|346 MEGS
|44288KB (346 MEGS)
|44287KB (346 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[rbff2]]
|539 MEGS
|71040KB (555 MEGS)
|70947KB (554,3 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[rbffspec]]
|394 MEGS
|50432KB (394 MEGS)
|47999KB (375 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 5%
|-
|[[ridhero]]
|46 MEGS
|5888KB (46 MEGS)
|5728KB (44,8 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[roboarmy]]
|45 MEGS
|5888KB (46 MEGS)
|5833KB (45,6 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[rotd]]
|564 MEGS
|90368KB (706 MEGS)
|90180KB (704,5 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[s1945p]]
|681 MEGS
|87168KB (681 MEGS)
|86109KB (672,7 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[samsh5nd]]
|708 MEGS
|65664KB (513 MEGS)
|65663KB (513 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[samsho]]
|118 MEGS
|15104KB (118 MEGS)
|15103KB (118 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[samsho2]]
|202 MEGS
|25856KB (202 MEGS)
|25566KB (199,7 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[samsho3]]
|282 MEGS
|36096KB (282 MEGS)
|34904KB (272,7 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 4%
|-
|[[samsho4]]
|378 MEGS
|48384KB (378 MEGS)
|44787KB (349,9 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 8%
|-
|[[samsho5]]
|708 MEGS
|90880KB (710 MEGS)
|90857KB (709,8 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[savagere]]
|190 MEGS
|24832KB (194 MEGS)
|24449KB (191 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[sdodgeb]]
|190 MEGS
|18688KB (146 MEGS)
|18297KB (143 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[sengoku]]
|55 MEGS
|7040KB (55 MEGS)
|6990KB (54,6 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[sengoku2]]
|74 MEGS
|9472KB (74 MEGS)
|9397KB (73,4 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[sengoku3]]
|364 MEGS
|49280KB (385 MEGS)
|48006KB (375,1 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[shocktr2]]
|514 MEGS
|64768KB (506 MEGS)
|63358KB (495 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[shocktro]]
|346 MEGS
|44288KB (346 MEGS)
|40277KB (314,7 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 10%
|-
|[[socbrawl]]
|46 MEGS
|5888KB (46 MEGS)
|5759KB (45 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[sonicwi2]]
|102 MEGS
|13056KB (102 MEGS)
|11166KB (87,2 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 15%
|-
|[[sonicwi3]]
|154 MEGS
|20736KB (162 MEGS)
|18540KB (144,8 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 11%
|-
|[[spinmast]]
|90 MEGS
|11008KB (86 MEGS)
|10779KB (84,2 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[ssideki]]
|54 MEGS
|6912KB (54 MEGS)
|6834KB (53,4 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[ssideki2]]
|106 MEGS
|13568KB (106 MEGS)
|13567KB (106 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[ssideki3]]
|158 MEGS
|20736KB (162 MEGS)
|20167KB (157,6 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[ssideki4]]
|226 MEGS
|28928KB (226 MEGS)
|28364KB (221,6 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[stakwin]]
|98 MEGS
|12544KB (98 MEGS)
|10452KB (81,7 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 17%
|-
|[[stakwin2]]
|178 MEGS
|22784KB (178 MEGS)
|22333KB (174,5 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[strhoop]]
|94 MEGS
|12032KB (94 MEGS)
|11847KB (92,6 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[superspy]]
|55 MEGS
|7040KB (55 MEGS)
|6889KB (53,8 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[svc]]
|708 MEGS
|91136KB (712 MEGS)
|90623KB (708 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[tophuntr]]
|110 MEGS
|14592KB (114 MEGS)
|13600KB (106,3 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 7%
|-
|[[tpgolf]]
|62 MEGS
|7872KB (61,5 MEGS)
|7653KB (59,8 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[trally]]
|46 MEGS
|5888KB (46 MEGS)
|5812KB (45,4 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[turfmast]]
|133 MEGS
|18688KB (146 MEGS)
|17501KB (136,7 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 7%
|-
|[[twinspri]]
|146 MEGS
|18688KB (146 MEGS)
|18666KB (145,8 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[tws96]]
|122 MEGS
|15616KB (122 MEGS)
|15223KB (118,9 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[viewpoin]]
|74 MEGS
|9472KB (74 MEGS)
|8218KB (64,2 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 14%
|-
|[[vliner]]
|?
|1728KB (13,5 MEGS)
|949KB (7,4 MEGS)
|&lt;span style="background-color:#000;color:#000">###########&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#########&lt;/span> 46%
|-
|[[wakuwak7]]
|259 MEGS
|36096KB (282 MEGS)
|33379KB (260,8 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 8%
|-
|[[wh1]]
|82 MEGS
|10496KB (82 MEGS)
|10272KB (80,3 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 3%
|-
|[[wh2]]
|146 MEGS
|18688KB (146 MEGS)
|18651KB (145,7 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 1%
|-
|[[wh2j]]
|178 MEGS
|22784KB (178 MEGS)
|22454KB (175,4 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[whp]]
|226 MEGS
|28928KB (226 MEGS)
|28618KB (223,6 MEGS)
|&lt;span style="background-color:#000;color:#000">####################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">&lt;/span> 2%
|-
|[[wjammers]]
|74 MEGS
|9472KB (74 MEGS)
|8071KB (63,1 MEGS)
|&lt;span style="background-color:#000;color:#000">#################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">###&lt;/span> 15%
|-
|[[zedblade]]
|110 MEGS
|14080KB (110 MEGS)
|12952KB (101,2 MEGS)
|&lt;span style="background-color:#000;color:#000">##################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">##&lt;/span> 9%
|-
|[[zupapa]]
|46 MEGS
|19584KB (153 MEGS)
|18595KB (145,3 MEGS)
|&lt;span style="background-color:#000;color:#000">###################&lt;/span>&lt;span style="background-color:#AAA;color:#AAA">#&lt;/span> 6%
|}

[[Category:Games]]
[[Category:Cartridge systems]]

[[File:snkmemcard.jpg|thumb|SRAM memory card, showing the SRAM chip and voltage detection circuit. Picture by [[User:HPMAN|HPMAN]]]]

[[File:NEO-IC8_front.jpg|thumb|NEO-IC8, original SNK card. Picture by [[User:ArcadeTV|ArcadeTV]]]]
[[File:NEO-IC8_back.jpg|thumb|NEO-IC8, back of original SNK card. Picture by [[User:ArcadeTV|ArcadeTV]]]]

The NeoGeo home console and some [[MVS hardware|MVS]] cabs can use [[JEIDA V3]] memory cards to store game saves and/or high scores, allowing players to save their progress and continue on any system running the same game.

Even if the memory card [[68k memory map|address space]] can be freely used, games should only perform memory card operations through the [[CARD]] system ROM call to avoid data corruption.

=Supported card types=

The SP-S2 [[system ROM]] (and probably all the others) can handle 8 memory card sizes from 2KiB up to 16KiB, in 2KiB steps:
*2KiB
*4KiB
*6KiB
*8KiB
*10KiB
*14KiB
*16KiB

And 4 different card types:
*8 bits wide
*16 bits wide
*16 bits wide "doubled"
*"SNK ROM" cards

For 8-bit cards (all official SNK cards ?) only the lower byte is used, but accesses must '''always''' be done in words. This is because memory card accesses are only enabled for word or upper byte operations (/UDS 68k signal).

=Original SNK card=

The original SNK-branded memory card was a [[:File:CR2016_battery.jpg|battery-backed]] 8-bit wide 2KiB card using a [[LH5116|LH5116 SRAM chip]] and voltage switching circuitry.

Since it uses a battery, it may be prone to data loss if the voltage drops below 2V. Unlike the MVS [[backup RAM]] battery, the memory card one isn't rechargeable.

There are at least 2 known versions of the original SNK Memory Card, each with its individual design and circuit-board:&lt;br>
[[Image:NEO-IC8_versions.png|640px]]

The first version has the [[C10075-X2-2]] while the later one hase the [[EZ866]] board.

=CD systems=

A "virtual" memory card is embedded in [[CD systems]] as a 8KiB battery-backed SRAM chip.

=Data format=

All cards use the same format regardless of capacity, only regions sizes differ. Since the JEIDA data bus is 16-bits wide, make sure to double the address for 8-bit cards if you choose to access their memory directly.

The data is referred to as "blocks", one block being 64 bytes. The header always occupies the first block. Eg. A 2KiB card can hold (2048/64)-1 = 31 blocks.

The data is split into 5 regions:

==Header==

Always 64 bytes.

{|class="wikitable"
| '''Address'''
| '''Name'''
| '''Size'''
| '''Description'''
|-
|$0~$9
|
|10 bytes
|Zeros or "SNK ROM " (development unit ?)

For 16 bits "doubled" cards, $6 is set to $0001
|-
|$A
|CARD_SIZE
|word
|Address space used by the memory card. Eg. A 2KiB 8-bit card is $1000.
|-
|$C
|
|byte
|0
|-
|$D
|CARD_FAT_1_CHKSUM
|byte
|Checksum of FAT 1
|-
|$E
|CARD_FAT_2_CHKSUM
|byte
|Checksum of FAT 2
|-
|$F
|CARD_USERNAME_AVAILABLE
|byte
|0 : Username unavailable, !0 : Username available
|-
|$10
|CARD_USERNAME
|16 bytes
|Card holder's username
|-
|$20
|CARD_MAGIC
|16 bytes
|$4E $XX $45 $XX $4F $XX $2D $XX $47 $XX $45 $XX $4F $XX $80 $XX ("NEO-GEO", $80)
|-
|$30
|CARD_REGION
|byte
|Region of the system that formated the card, 0 = Japan, 1 = USA, 2 = Europe
|}

==Directory==

List of saves of 32, 64, 96, 128, 160, 192, 224 or 256 entries. The size depends on the card's capacity.

Note that since the header occupies the first block, there will always be at least one unused directory entry.

Each entry is 4 bytes, with the following format:

{| class="regdef"
| '''Address'''
| '''Size'''
| '''Description'''
|-
|$0
|byte
|Save sub-number (CARD_SUB), 0 to 15. $FF if entry is free.
|-
|$1
|word
|Game's [[NGH number]]
|-
|$3
|byte
|FAT entry index (see below)
|}

==FAT 1==

List of used blocks of 64, 128, 192, or 256 entries. The size depends on the card's capacity.
* $02 is a block reserved by the system ROM
* $01 is a block used by a game
* $00 is a free block

==FAT 2==

FAT 2 is simply a mirror of FAT 1.

If any of the FAT tables checksum is bad, the correct table is written over the other one. If both checksums are bad, the system ROM displays an error.

==Game Data==

Many games use only one block, but some may use more.

The first 20 bytes contain the data title (usually the game and stage name).

=Registers=

* Write is enabled if {{Reg|REG_CRDUNLOCK1}} and {{Reg|REG_CRDUNLOCK2}} are written to
* The WP (Write Protect) pin is read through bit 6 of {{Reg|REG_STATUS_B}}
* CD1 (Card Detect 1) is read through bit 4 of {{Reg|REG_STATUS_B}}
* CD2 (Card Detect 2) is read through bit 5 of {{Reg|REG_STATUS_B}}
** Both must be 0 if the card is inserted correctly
* Attribute memory is selected if {{Reg|REG_CRDREGSEL}} is written to, never used ?

=Pinout=

See [[Memory card pinout]].

[[Category:Cartridge systems]]

=Top row=

[[File:Lh5116_pinout.png|right|frame|LH5116 pinout]]

{|class="wikitable"
!Pin #||Name||Signal||Description||Goes to
|-
|1||bgcolor="#DDDDDD" colspan="4"|GND
|-
|2||bgcolor="#AACCFF"|D3||CDD3||rowspan="5"|Data bus||rowspan="5"|{{Chipname|NEO-G0}}
|-
|3||bgcolor="#AACCFF"|D4||CDD4
|-
|4||bgcolor="#AACCFF"|D5||CDD5
|-
|5||bgcolor="#AACCFF"|D6||CDD6
|-
|6||bgcolor="#AACCFF"|D7||CDD7
|-
|7||bgcolor="#AA77FF"|/CE1||CRDC||Chip enable 1||{{Chipname|NEO-C1}}
|-
|8||bgcolor="#FFFF77"|A10||CDA10||Address||{{Chipname|NEO-E0}}
|-
|9||bgcolor="#AA77FF"|/OE||CRDO||Output enable||{{Chipname|NEO-C1}}
|-
|10||bgcolor="#FFFF77"|A11||CDA11||rowspan="5"|Address bus||rowspan="5"|{{Chipname|NEO-E0}}
|-
|11||bgcolor="#FFFF77"|A9||CDA9
|-
|12||bgcolor="#FFFF77"|A8||CDA8
|-
|13||bgcolor="#FFFF77"|A13||CDA13
|-
|14||bgcolor="#FFFF77"|A14||CDA14
|-
|15||bgcolor="#AA77FF"|/WE|| ||Write enable||HC32
|-
|16||bgcolor="#AA77FF"|/BUSY||Low when card is busy||colspan="2"|Not used
|-
|17||bgcolor="#FF8888" colspan="4"|VCC
|-
|18||bgcolor="#FF4444" colspan="4"|VPP
|-
|19||bgcolor="#FFFF77"|A16||CDA16||rowspan="11"|Address bus||rowspan="11"|{{Chipname|NEO-E0}}
|-
|20||bgcolor="#FFFF77"|A15||CDA15
|-
|21||bgcolor="#FFFF77"|A12||CDA12
|-
|22||bgcolor="#FFFF77"|A7||CDA7
|-
|23||bgcolor="#FFFF77"|A6||CDA6
|-
|24||bgcolor="#FFFF77"|A5||CDA5
|-
|25||bgcolor="#FFFF77"|A4||CDA4
|-
|26||bgcolor="#FFFF77"|A3||CDA3
|-
|27||bgcolor="#FFFF77"|A2||CDA2
|-
|28||bgcolor="#FFFF77"|A1||CDA1
|-
|29||bgcolor="#FFFF77"|A0||CDA0
|-
|30||bgcolor="#AACCFF"|D0||CDD0||rowspan="3"|Data bus||rowspan="3"|{{Chipname|NEO-G0}}
|-
|31||bgcolor="#AACCFF"|D1||CDD1
|-
|32||bgcolor="#AACCFF"|D2||CDD2
|-
|33||bgcolor="#AA77FF"|WP||WP||High if card is write-protected||{{Chipname|NEO-C1}}
|-
|34||bgcolor="#DDDDDD" colspan="4"|GND
|}

=Bottom row=

{|class="wikitable"
!Pin #||Name||Signal||Description||Goes to
|-
|35||bgcolor="#DDDDDD" colspan="4"|GND
|-
|36||bgcolor="#DDDDDD"|/CD1||CD1||Card detect||{{Chipname|NEO-C1}}
|-
|37||bgcolor="#AACCFF"|D11||CDD11||rowspan="5"|Data bus||rowspan="5"|{{Chipname|NEO-G0}}
|-
|38||bgcolor="#AACCFF"|D12||CDD12
|-
|39||bgcolor="#AACCFF"|D13||CDD13
|-
|40||bgcolor="#AACCFF"|D14||CDD14
|-
|41||bgcolor="#AACCFF"|D15||CDD15
|-
|42||bgcolor="#AA77FF"|/CE2||CRDC||Chip enable 2||{{Chipname|NEO-C1}}
|-
|43||bgcolor="#AA77FF"|/VS1||colspan="3" rowspan="3"|Not used
|-
|44||bgcolor="#AA77FF"|/IORD
|-
|45||bgcolor="#AA77FF"|/IOWR
|-
|46||bgcolor="#FFFF77"|A17||CDA17||rowspan="5"|Address bus||rowspan="5"|{{Chipname|NEO-E0}}
|-
|47||bgcolor="#FFFF77"|A18||CDA18
|-
|48||bgcolor="#FFFF77"|A19||CDA19
|-
|49||bgcolor="#FFFF77"|A20||CDA20
|-
|50||bgcolor="#FFFF77"|A21||CDA21
|-
|51||bgcolor="#FF8888" colspan="4"|VCC
|-
|52||bgcolor="#FF8888" colspan="4"|VCC
|-
|53||bgcolor="#FFFF77"|A22||CDA22||rowspan="2"|Address bus||rowspan="2"|{{Chipname|NEO-E0}}
|-
|54||bgcolor="#FFFF77"|A23||CDA23
|-
|55||bgcolor="#FFFF77"|A24||colspan="3" rowspan="5"|Not used
|-
|56||bgcolor="#FFFF77"|A25
|-
|57||bgcolor="#AA77FF"|/VS2
|-
|58||bgcolor="#AA77FF"|RESET
|-
|59||bgcolor="#AA77FF"|/WAIT
|-
|60||NC||colspan="3"|Reserved
|-
|61||bgcolor="#AA77FF"|/REG|| ||Select attribute memory||HC32
|-
|62||bgcolor="#AA77FF"|BVD2||rowspan="2"|Battery voltage detect||colspan="2" rowspan="2"|Not used
|-
|63||bgcolor="#AA77FF"|BVD1
|-
|64||bgcolor="#AACCFF"|D8||CDD8||rowspan="3"|Data bus||rowspan="3"|{{Chipname|NEO-G0}}
|-
|65||bgcolor="#AACCFF"|D9||CDD9
|-
|66||bgcolor="#AACCFF"|D10||CDD10
|-
|67||bgcolor="#DDDDDD"|/CD2||CD2||Card detect||{{Chipname|NEO-C1}}
|-
|68||bgcolor="#DDDDDD" colspan="4"|GND
|}

[[Category:Cartridge systems]]
[[Category:Chips]]




=Address decode masks=

Decode masks aren't verified !

Decode masks are used to know which register will be mapped to a given address, they can be seen as a sort of mirroring range notation.

A "1" bit means that the corresponding address bit is involved in decoding, a "0" means it's ignored.

For example, {{Reg|REG_P1CNT}}'s base is $300000 and its mask is $FE0001:
&lt;pre>
BASE 00110000 00000000 00000000
MASK 11111110 00000000 00000001
     0011000x xxxxxxxx xxxxxxx0
&lt;/pre>

This means that it's also accessible at $300002, $300004, $300006... up to $31FFFE. The highest address is BASE OR (NOT MASK).

==Mirror guesser==

&lt;div id="mirror-guesser">&lt;/div>
&lt;div id="mguessresult">&lt;/div>

=Register descriptions=

==I/O registers==

===REG_P1CNT===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|[[Joypad]] port 1 inputs (active low)
{{8BitRegister|D|1|C|1|B|1|A|1|Right|1|Left|1|Down|1|Up|1}}
|?
|}

*Address: $300000
*Decode mask: $FE0001
*Handled by: {{Chipname|NEO-C1}}

&lt;br clear=all>
----

===REG_DIPSW===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|[[Hardware DIPs]] (active low) {{8BitRegister|Freeze game|1|Freeplay|1|Enable [[Multiplayer]]|1|Multiplayer ID code|2|0:Normal controller&lt;br>1:Mahjong keyboard|1|0:1 coin chute&lt;br>1:2 coin chutes|1|Settings mode|1}}
|Kick [[watchdog]]
|}

*Address: $300001
*Decode mask: $FE0081 (not sure for write)
*Handled by: {{Chipname|NEO-F0}} (read), {{Chipname|NEO-B1}} (write)

&lt;br clear=all>
----

===REG_SYSTYPE===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|{{8BitRegister|[[Test button]]|1|[[NEO-F0|Type]]&lt;br/>0: 2 slots&lt;br/>1: 4 or 6 slots|1|?|6}}
|?
|}

Reads the unused [[Hardware DIPs|DSW2]] on {{PCB|MV4}} boards. Used for system ID on other boards.

*Address: $300081
*Decode mask: $FE0081
*Handled by: {{Chipname|NEO-F0}}

&lt;br clear=all>
----

===REG_SOUND===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|[[68k/Z80 communication|Read Z80 reply code]]
|Send command to {{Chipname|Z80}}
|}

*Address: $320000
*Decode mask: $FE0001
*Handled by: {{Chipname|NEO-C1}}

&lt;br clear=all>
----

===REG_STATUS_A ===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|Switch inputs are active low
{{8BitRegister|[[RTC]] data bit|1|RTC time pulse|1|0:4-SLOT&lt;br>1:6-SLOT|1|[[Coin_switch|Coin-in]] 4|1|Coin-in 3|1|[[Service button]]|1|Coin-in 2|1|Coin-in 1|1}}
|?
|}

*Address: $320001
*Decode mask: $FE0001
*Handled by: {{Chipname|NEO-F0}}

&lt;br clear=all>
----

===REG_P2CNT===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|Joypad port 2 inputs (active low)
{{8BitRegister|D|1|C|1|B|1|A|1|Right|1|Left|1|Down|1|Up|1}}
|?
|}

*Address: $340000
*Decode mask: $FE0001
*Handled by: {{Chipname|NEO-C1}}

&lt;br clear=all>
----

===REG_STATUS_B===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|On cart-based systems
{{8BitRegister|0:AES&lt;br>1:MVS|1|1:[[Memory card]]&lt;br>is write protected|1|00:Memory card&lt;br>correctly inserted|2|Select P2|1|Start P2|1|Select P1|1|Start P1|1|}}
|?
|-
|On CD systems
{{8BitRegister|Always 0|4|Select P2|1|Start P2|1|Select P1|1|Start P1|1|}}
|?
|}

*Address: $380000
*Decode mask: $FE0001
*Handled by: {{Chipname|NEO-C1}}

The player controls bits are active low.

&lt;br clear=all>
----

===REG_POUTPUT===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|Joypad ports [[Pinouts#joypad ports|outputs]]
{{8BitRegister|?|2|P2 outputs|3|P1 outputs|3}}
|}

*Address: $380001
*Decode mask: $FE0071
*Handled by: {{Chipname|NEO-D0}}

&lt;br clear=all>
----

===REG_CRDBANK===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|{{8BitRegister| |5|Memory card bank selection|3}}
|}

*Address: $380011
*Decode mask: $FE0071
*Handled by: {{Chipname|NEO-D0}}

&lt;br clear=all>
----

===REG_SLOT===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|{{8BitRegister|?|5|Slot #|3|}}
(Mirror of REG_POUTPUT on the AES)
|}

*Address: $380021
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-F0}}

&lt;br clear=all>
----

===REG_LEDLATCHES===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|{{8BitRegister|?|2|Latch LED2 data|1|Latch LED1 data|1|Latch [[marquee]] data|1|?|3}}
LED data is latched on 1 to 0 transition.
|}

*Address: $380031
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-F0}}

&lt;br clear=all>
----

===REG_LEDDATA===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|8-bit data for credits displays and the [[marquee]]. See [[MV-LED]].
|}

*Address: $380041
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-F0}}

&lt;br clear=all>
----

===REG_RTCCTRL===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|MAME upd4990a_control_16_w {{8BitRegister||5|[[RTC]] Strobe|1|RTC Clock|1|RTC DIN|1|}}
|}

*Address: $380051
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-F0}}

&lt;br clear=all>
----

===REG_RESETCC1===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|Any, [[coin counter]] 1 floats
|}

*Address: $380061
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-I0}}

&lt;br clear=all>
----

===REG_RESETCC2===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|Any, [[coin counter]] 2 floats
|}

*Address: $380063
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-I0}}

&lt;br clear=all>
----

===REG_RESETCL1===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|Any, [[coin lockout]] 1 floats
|}

*Address: $380065
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-I0}}

&lt;br clear=all>
----

===REG_RESETCL2===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|Any, [[coin lockout]] 2 floats
|}

*Address: $380067
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-I0}}

&lt;br clear=all>
----

===REG_SETCC1===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|Any, coin counter 1 sinks current
|}

*Address: $3800E1
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-I0}}

&lt;br clear=all>
----

===REG_SETCC2===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|Any, coin counter 2 sinks current
|}

*Address: $3800E3
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-I0}}

&lt;br clear=all>
----

===REG_SETCL1===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|Any, coin lockout 1 sinks current
|}

*Address: $3800E5
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-I0}}

&lt;br clear=all>
----

===REG_SETCL2===

{|class="regdef" style="float:right; margin-left:16px; width:600px;"
|'''Read'''
|'''Write'''
|-
|?
|Any, coin lockout 2 sinks current
|}

*Address: $3800E7
*Decode mask: $FE00F1
*Handled by: {{Chipname|NEO-I0}}

==System registers==

Data written doesn't matter. Odd byte writes only. Decode mask: $FE0001.

Registers go in pairs, bit 4 of the address is actually the data bit.

Handled by a 74HC259 addressable latch on cart systems. 

{| class="regdef"
|'''Address'''
|'''Name'''
|'''Write'''
|-
|$3A0001
|REG_NOSHADOW
|Normal video output
|-
|$3A0011
|REG_SHADOW
|[[Video DAC|Darken]] video output
|-
|$3A0003
|REG_SWPBIOS
|Use the |BIOS [[Vector_table_swap|vector table]]
|-
|$3A0013
|REG_SWPROM 	
|Use the cart's vector table
|-
|$3A0005
|REG_CRDUNLOCK1
|Enable writes to [[memory card]] (unused in CD systems)
|-
|$3A0015
|REG_CRDLOCK1
|Disable writes to memory card (unused in CD systems)
|-
|$3A0007
|REG_CRDLOCK2
|Disable writes to memory card (unused in CD systems)
|-
|$3A0017
|REG_CRDUNLOCK2
|Enable writes to memory card (unused in CD systems)  
|-
|$3A0009
|REG_CRDREGSEL
|Enable "Register select" for memory card
|-
|$3A0019
|REG_CRDNORMAL
|Disable "Register select" for memory card
|-
|$3A000B
|REG_BRDFIX	
|Use the embedded [[SFIX ROM]] and [[SM1]] ROM
|-
|$3A001B
|REG_CRTFIX 	
|Use the cart's [[S ROM]] and [[M1 ROM]]
|-
|$3A000D
|REG_SRAMLOCK 	
|Write-protects [[backup RAM]] (MVS)
|-
|$3A001D
|REG_SRAMUNLOCK 	
|Unprotects backup RAM (MVS)
|-
|$3A000F
|REG_PALBANK1 	
|Use [[palette RAM|palette]] bank 1
|-
|$3A001F
|REG_PALBANK0 	
|Use palette bank 0
|}

==Video registers==

Handled by the [[LSPC]]. Byte writes are only effective on even addresses and they store the same data in both bytes. Odd addresses aren't mapped ? Decode mask: $FE0001.

{| class="regdef"
|'''Address'''
|'''Name'''
|'''Read'''
|'''Write'''
|-
|$3C0000
|REG_VRAMADDR 	
|Read from [[VRAM]] (address doesn't change)
|Sets VRAM address
|-
|$3C0002
|REG_VRAMRW
|Read from VRAM (address doesn't change)
|Write to VRAM (modulo is applied after)
|-
|$3C0004
|REG_VRAMMOD
|Reads VRAM address modulo
|Sets VRAM address modulo
|-
|$3C0006
|REG_LSPCMODE
|{{16BitRegister|Raster line counter.&lt;br>See [[Display_timing#Vertical|Display timing]]|9|0|3|1:50Hz&lt;br>0:60Hz ([[GPU|LSPC2]] only)|1|[[Auto animation]] counter|3}}
|{{16BitRegister|Auto animation speed&lt;br>(in frames)|8|[[Timer interrupt]]&lt;br>mode|3|Timer interrupt enable|1|Disable auto animation|1|Unused|3}}
Reset value: ????????00000---
|-
|$3C0008
|REG_TIMERHIGH
|Like REG_VRAMADDR.
|16 highest bits of the [[timer interrupt|timer]] reload value.
|-
|$3C000A
|REG_TIMERLOW
|Like REG_VRAMRW.
|16 lowest bits of the timer reload value.
|-
|$3C000C
|REG_IRQACK 	
|Like REG_VRAMMOD.
|[[68k interrupts|Interrupt]] acknowledge.
{{8BitRegister|Unused|5|Ack VBlank IRQ|1|Ack timer IRQ|1|Ack IRQ3|1}}
|-
|$3C000E
|REG_TIMERSTOP
|Like REG_LSPCMODE.
|Bit 0=1: Stops timer counter during first and last 16 lines (32 total) when in PAL mode.
|}

==NeoGeo CD registers==

[[NEO-MGA]] / [[LC8953]] / [[LC98000]] ?

===CD drive===

{| class="regdef"
|'''Address'''
|'''Name'''
|'''Size'''
|'''Read'''
|'''Write'''
|'''Handled by'''
|-
|$FF0161
|REG_CDDINPUT
|Byte
|{{8BitRegister|-|3|CDCK input|1|4-bit bus from the [[CD drive]]|4}}
|?
|[[NEO-MGA]]
|-
|$FF0163
|REG_CDDOUTPUT
|Byte
|?
|{{8BitRegister|-|4|4-bit bus to the [[CD drive]]|4}}
|[[NEO-MGA]]
|-
|$FF0165
|REG_CDDCTRL
|Byte
|?
|{{8BitRegister|-|4|Must be 0|2|Signal selection&lt;br>0:4-bit bus direction&lt;br>1:HOCK output|1|State&lt;br>Dir:0:Out 1:In&lt;br>HOCK:0:Low 1:High|1}}
|[[NEO-MGA]]
|-
|$FF0167
|REG_CDDSTAT
|Byte
|[[CD drive]] status lines.{{8BitRegister|-|3|MUTE|1|SBSO|1|SCOR|1|WFCK|1|EXCK|1}}
|{{8BitRegister|-|7|EXCK|1}}
|[[NEO-MGA]]
|}

===Video===

{| class="regdef"
|'''Address'''
|'''Name'''
|'''Size'''
|'''Read'''
|'''Write'''
|'''Handled by'''
|-
|$FF0111
|REG_DISBLSPR
|Byte
|?
|1=Disable 0=Enable sprites
|rowspan="3"|[[NEO-GRC]]/[[NEO-OFC]]
|-
|$FF0115
|REG_DISBLFIX
|Byte
|?
|1=Disable 0=Enable fix layer
|-
|$FF0119
|REG_ENVIDEO
|Byte
|?
|1=Enable 0=Disable video output.
|}

===Memory===

{| class="regdef"
|'''Address'''
|'''Name'''
|'''Size'''
|'''Read'''
|'''Write'''
|'''Handled by'''
|-
|$FF01A1
|REG_SPRBANK
|Byte
|?
|Upload zone 1MiB SPR DRAM bank selection (2 LSBs).
|?
|-
|$FF01A3
|REG_PCMBANK
|Byte
|?
|Upload zone 512KiB PCM DRAM bank selection (1 LSB).
|?
|-
|$FF01A7
|REG_???BANK
|Byte
|?
|$A00000 zone bank number. What is this ?
|?
|-
|$FF0121
|REG_UPMAPSPR
|rowspan="8"|Byte
|rowspan="8"|?
|NeoSetSpriteSlot(1);
Set [[68k memory map|upload zone]] to SPR [[DRAM]]
|rowspan="8"|?
|-
|$FF0123
|REG_UPMAPPCM
|Set upload zone to PCM DRAM
|-
|$FF0127
|REG_UPMAPZ80
|Set upload zone to Z80 DRAM
|-
|$FF0129
|REG_UPMAPFIX
|Set upload zone to FIX DRAM
|-
|$FF0141
|REG_UPUNMAPSPR
|Unset SPR DRAM to upload zone
|-
|$FF0143
|REG_UPUNMAPPCM
|Unset PCM DRAM to upload zone
|-
|$FF0147
|REG_UPUNMAPZ80
|Unset Z80 DRAM to upload zone
|-
|$FF0149
|REG_UPUNMAPFIX
|Unset FIX DRAM to upload zone
|}

===DMA===

{| class="regdef"
|'''Address'''
|'''Name'''
|'''Size'''
|'''Read'''
|'''Write'''
|'''Handled by'''
|-
|$FF0061
|?
|Byte
|?
|Bit 6: Execute DMA microcode
|rowspan="7"|[[LC8953]]
|-
|$FF0064~$FF0067
|REG_DMA_ADDR1
|Longword
|?
|Sets DMA source address.
|-
|$FF0068~$FF006B
|REG_DMA_ADDR2
|Longword
|?
|Sets DMA destination address.
|-
|$FF006C~$FF006F
|REG_DMA_VALUE
|Longword
|?
|Sets DMA value for filling.
|-
|$FF0070~$FF0073
|REG_DMA_COUNT
|Longword
|?
|Sets DMA length.
|-
|$FF007E
|REG_DMA_MODE
|Word
|?
|Sets DMA mode.
|-
|$FF007E~$FF008E
|?
|Words
|?
|Microcode (16x 9-bit opcodes)
|}

===Misc===

{| class="regdef"
|'''Address'''
|'''Name'''
|'''Size'''
|'''Read'''
|'''Write'''
|'''Handled by'''
|-
|$FF0002
|?
|Word
|?
|Enables Vector 22 interrupts. NeoRaine calls load_files.
|rowspan="8"|[[LC8953]]
|-
|$FF0004
|?
|Word
|?
|CDM3-2 BIOS writes 0,1,3,7
|-
|$FF0006
|?
|Word
|?
|CDM3-2 BIOS writes 0x71FF, CDZ writes 0x71FF
|-
|$FF0008
|?
|Word
|?
|CDM3-2 BIOS writes 0x0000, CDZ writes 0x0000
|-
|$FF000A
|?
|Word
|?
|CDM3-2 BIOS writes 0x7E40, CDZ writes 0x7E00
|-
|$FF000C
|?
|Word
|?
|Read and stored on vector 23 interrupt.
|-
|$FF000F
|?
|Byte
|?
|[[68k interrupts|Interrupt]] acknowledge.
{{8BitRegister|?|2|Vector 21|1|Vector 22|1|Vector 23|1|?|3}}
|-
|$FF0010/11
|?
|Byte
|?
|CDM3-2 BIOS writes $FE
|-
|$FF0017
|?
|Byte
|colspan="2"|CD mode, maybe CDDA mute ? Bit 0: 0=Audio 1=Data.
|?
|-
|$FF0101
|?
|Byte
|colspan="2"|LC8951 register address (4 LSB)
|rowspan="2"|[[LC89515]]
|-
|$FF0103
|?
|Byte
|colspan="2"|LC8951 register  value
|-
|$FF0105
|REG_TRANSAREA
|Byte
|?
|Set active transfer area
*0:Sprites
*1:ADPCM
*4:Z80
*5:Fix
|?
|-
|$FF0108
|?
|Word
|?
|CDM3-2 BIOS writes $5555
|?
|-
|$FF010C
|?
|Word
|?
|CDM3-2 BIOS writes $5555 and reads
|?
|-
|$FF011C
|REG_CDCONFIG
|Word
|{{16BitRegister|1|2|CD Mech&lt;br>0:TOP/CDZ&lt;br>1:FRONT|1|Lid Status&lt;br>(Opposite on CDZ)|1|Configuration&lt;br>jumpers|4|?|8}}
|?
|[[NEO-CDD boards|NEO-CDD board]]
|-
|$FF016D
|
|Byte
|?
|MapVectorTable(!(byteValue == 0xFF));
|rowspan="4"|[[NEO-MGA]]
|-
|$FF016F
|REG_UPLOAD_EN
|Byte
|?
|Enable/disable writes to the [[68k memory map|upload zone]] ($E00000)
|-
|$FF0181
|REG_CDIRQ_EN
|Byte
|?
|Bit 0: Enable CD drive interrupt
|-
|$FF0183
|REG_Z80RST
|Byte
|?
|Active-low Z80 RESET ($0/$FF)
|}

===CDDA===

{| class="regdef"
|'''Address'''
|'''Name'''
|'''Size'''
|'''Read'''
|'''Write'''
|'''Handled by'''
|-
|$FF0188
|REG_CDDALEFTL
|rowspan="2"|Word
|rowspan="2"|See [[Reading CDDA sound levels]]
|rowspan="2"|No effect
|rowspan="2"|[[NEO-MGA]]
|-
|$FF018A
|REG_CDDARIGHTL
|-
|$FF01FC
|?
|Word
|?
|CDDA control ?
|?
|-
|$FF01FE
|?
|Word
|?
|CD music/data switch ?
|?
|}

[[Category:Base system]]
[[Category:Code]]

[[File:Aes_cxk5814.jpg|thumb|[[VRAM]] chip, note the "-35" marking. 35ns is the highest speed requirement in the NeoGeo.]]

Memory speed (or speed grade) is a value representing the maximum time it takes for a memory chip to output valid data after its address is changed.

It is essential for memory chips to be fast enough to avoid crashes or glitches. When replacing RAMs, replacing the [[system ROM]] or making cartmods, care must be taken to use chips with the appropriate speed grades.

Speed is usually indicated on the chip. It is actually a time value (speed = 1/t) specified in nanoseconds or tens of nanoseconds.

During the specified time, the data output isn't guaranteed to be valid. So if the chip is too slow, the system might catch wrong bits resulting in unstable operation.

Regarding the NeoGeo, faster than required (lower value) isn't a problem, slower than required (higher value) is bad.

A slower chip can work in some cases if you're lucky, but you should never expect stable operation in all conditions. For example, some 120ns chips might work in place of a 100ns one, but a slight variation in voltage or temperature could cause crashes or resets. Taking the risk isn't worth it.

=Requirements summary=

See the related section in the [[VRAM]], [[Palette RAM]], [[P ROM]], [[V ROM]], [[S ROM]], [[C ROM]], and [[M1 ROM]] pages.

{|class="wikitable"
!Memory kind
!Maximum value
!Mclks
!Proof
|-
|Z80 RAM
|rowspan="2"|&lt;500ns (2 MHz)
|rowspan="2"|12? (500ns)
|rowspan="2"|Z80 read cycle
|-
|M1 ROM
|-
|Lower VRAM
|120ns (8.33 MHz)
|3 (125ns)
|Picture
|-
|Upper VRAM
|35ns (28.57 MHz) 
|1 (41.7ns)
|Picture
|-
|Palette RAM
|120ns (8.33 MHz)
|3 (125ns)
|Picture
|-
|L0 ROM
|120ns ? (8.33 MHz)
|?
|
|-
|P ROM
|rowspan="4"|150ns (6.67 MHz)
|rowspan="4"|4 (167ns)
|rowspan="4"|SNK EPROM
|-
|System ROM
|-
|68k RAM
|-
|Backup RAM
|-
|V ROM
|200ns (5 MHz)
|6 (250ns)
|YM2610 read cycle
|-
|S ROM
|200ns ? (5 MHz)
|5? (208ns)
|
|-
|C ROM
|200ns ? (5 MHz)
|5? (208ns)
|
|-
|Memory card
|200ns ? (5 MHz)
|5? (208ns)
|
|}

=Standard speed grades=

* -250 (250ns)
* -200 '''or -20''' (200ns)
* -150 '''or -15''' (150ns)
* -120 '''or -12''' (120ns)
* -90 (90ns)
* -70 (70ns)
* -55 (55ns)
* -35 (35ns).

Note the possible confusion. If the value is less than 30 you probably have to add a 0, even if SRAM is now available in 25ns (not 250ns) speed grades.

Check the datasheets.

=DRAM=

DRAM (CD systems) is way more complex than SRAM, timings and sequences are primordial.

[[Category:Chips]]
[[Category:Base system]]
[[Category:Repairs]]

#REDIRECT [[Metal_Slug_-_Super_Vehicle-001]]

{{GameInfo|right
|en_title=Metal Slug - Super Vehicle-001
|jp_title=Metal Slug - Super Vehicle-001
|jp_title2=メタルスラッグ
|developer=Nazca
|ngh_id=201
|megcount=193
|tcrf=https://tcrf.net/Metal_Slug_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=mslug
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=24/05/96
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=05/07/96
}}

==Credits==

Sound: Hiya !, Jim

Planing: Meeher, Kire-nag

Program: Hamachan, Andy, A. Kurooka, T.yokota, H.Yamada, Pierre

Design: Akio, Susumu, Max.D, Tomohiro, T.Okui, Kozo

[[Category:Games]]

#REDIRECT [[Metal_Slug_2_-_Super_Vehicle-001/II]]

{{GameInfo|right
|en_title=Metal Slug 2 - Super Vehicle-001/II
|jp_title=Metal Slug 2 - Super Vehicle-001/II
|jp_title2=メタルスラッグ 2
|developer=SNK
|ngh_id=241
|megcount=362
|tcrf=https://tcrf.net/Metal_Slug_2_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=mslug2
|mvs_date=1998
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA512Y
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=02/04/98
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=25/06/98
}}

==Technical features==
* Lags. For real.
* Uses only 32bit writes to $3C0000 to update [[VRAM]] and VRAM address instead of using word writes to $3C0002.  Is one of the reason it lags so badly but it also means the code is interrupt safe. [[Timer interrupt|Raster interrupts]] writing to VRAM might conflict with VRAM writes in the main program.  Also allows it to work properly on overclocked systems since the VRAM writing is so slow.

==Credits==

Planning: Meeher

Design: Akio, Susumu, Cannon, Tomo(hiro), Kuichin, Kozo, Kon.Kitakichine, J.Yoshii, Ozi, Fukunishi, Nakamata, Hikaru, Megumi Imanichi

Program: Andy, Hamachan, Nakatsuka, Zen, Seeker, Pierre, Kohki, Hirokun

Sound: Hiya !

Producer: T.Nishiyama

[[Category:Games]]

{{GameInfo|right
|en_title=Metal Slug 3
|jp_title=Metal Slug 3
|jp_title2=メタルスラッグ 3
|developer=SNK
|ngh_id=256
|megcount=708
|tcrf=https://tcrf.net/Metal_Slug_3_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=mslug3
|mvs_date=2000
|mvs_pchip=NEO-SMA
|mvs_pboard=PROGLBA
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=01/06/2000 (Japan)
17/09/2001 (USA)
}}

*Set 1 ([[NEO-SMA]] protection): P ROMs are marked 256-PG
*Set 3 (no protection): P ROMs are marked 256-PH

http://mvs.gotwalls.com/index.php/Metal_Slug_3

==Credits==

Planning: Akio, Meeher

Enemy sequence: Arita, Narusawa

Character chief: Akio

Background chief: Susumu

Design: Cannon, Tomo, Kozo, Kuichin, FLYING FOX, Curry

Programming wizard: Andy

Enemy's brain: Aba

Program: Tecchan-Take, Dramania Hide, Fujisawa, Nakatsuka, Seeker

Sound: Hiya !, Bero-ou, Hori_Hori, Q_Jirou, Maitaro

Producer: T.Nishiyama

[[Category:Games]]

{{GameInfo|right
|en_title=Metal Slug 4
|jp_title=Metal Slug 4
|jp_title2=メタルスラッグ 4
|developer=Mega
|editor=Playmore
|ngh_id=263
|megcount=553
|tcrf=https://tcrf.net/Metal_Slug_4_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=mslug4
|mvs_date=2002
|mvs_pchip=
|mvs_pboard=PROGBK2
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=12/06/2002
}}

==Credits==

Hyper Organizer: Sang Min Lee

Producer: Hong Ick Cho

Character designer: Joo Hwan Sohn

Background designer: Yong hee lee

Producer: Keiko Ijuu

Sub planner: Masafumi Fujii, Kazuki ito

Main programmer: Hirosi Hisikawa

Sub programmer: Kazuaki Ezato

Character designer: Masahiro Maeda, Yosikazu Nisikawa, Nana Maeda, Kentaro Hayasi, Ryo Fujii

Background designer: Reiko Nagasima, Nami Takasaki

Illustration: Tonko, Naohisa Yamaguti, Masayuki Fukuoka

Sound producer: Studio Aqua, Toshikazu Tanaka

[[Category:Games]]

{{GameInfo|right
|en_title=Metal Slug 5
|jp_title=Metal Slug 5
|jp_title2=メタルスラッグ 5
|developer=SNK Playmore
|editor=SNK Playmore
|ngh_id=268
|megcount=708
|tcrf=https://tcrf.net/Metal_Slug_5_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=n
|mvs_romset=mslug5
|mvs_date=2003
|mvs_pchip=
|mvs_pboard=PROGBK3S
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=17/02/2004
}}

[[Category:Games]]

#REDIRECT [[Metal_Slug_X_-_Super_Vehicle-001]]

{{GameInfo|right
|en_title=Metal Slug X - Super Vehicle-001
|jp_title=Metal Slug X - Super Vehicle-001
|jp_title2=メタルスラッグ X
|developer=SNK
|ngh_id=250
|megcount=506
|tcrf=https://tcrf.net/Metal_Slug_X_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=mslugx
|mvs_date=1999
|mvs_pchip=
|mvs_pboard=PROGEOP
|mvs_cboard=CHA512Y
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=27/05/99
}}

Protected MVS &amp; AES release that uses the [[PROGEOP]] board, which is exclusive to this game. The ROMs aren't encrypted but the game includes protection code which will display a red warning screen and hang if it fails.

=Protection=

The protection is a major upgrade to the one using the [[SNK-9201]] chip. It's a continuously running streaming challenge/response setup. If ever the responses are incorrect or go out of sync, the game displays the following text and hangs:

[[File:Mslugx_warning.png]]

A Toshiba "0103" custom chip and an Altera CPLD are used for security and P2 bankswitching.

=Notable strings=

==Errors/debug==

&lt;pre>
LASER_DIR_ERR
RANGE_DIFF_ERR
RANGE_DIFF_ERR
RANGE_DIFF_ERR
HYOUKA_ERR_01
HYOUKA_ERR_02
TAMA_DIR_ERR
takasa err
NOMINI HERI
hp is zero
kiken err
anshin err
RANK_IN PlayerChrNumber Error
RANK IN trapped
RANK_IN Record Number Error
get_player_auto_repeat_buff ERROR
Option Error    wParaDoDead
Option Error    wParaTurnH
Option Error    wParaDoPress
Option Error    wParaDoDead
TIME ATTACK ERROR
HELI_RIDE_EFFECT_ERROR
SET_HELI_PATTERN_ERROR
HAND STAY ERROR
HAND RUN ERROR
MAKE SHOT ERROR
TAMA_DIR_ERR
Option Error   left n right
NO CEIL ERR
JUMP_LENGTH_ERR
ITEM Option Error point view
ITEM Option Error   ItemNumber
DeathColorTimer
DeathColorTimer
DOG_ERROR
GENSOKU_SPEED_ERR
ARAB_REMAIN_ERR
DeathColorTimer error
roop_b_desu
roop_b_desu
Turibasi_scroll_desu
&lt;/pre>

==Banned hiscore names==
&lt;pre>
SEX
SM
S M
SM
AAA
ASS
GAY
FAG
&lt;/pre>

=See also=

* [[Repairing Metal Slug X]]

[[Category:Games]]

#REDIRECT [[Money Puzzle Exchanger]]

#REDIRECT [[Minasanno Okagesamadesu! Daisugorokutaikai]]

{{GameInfo|right
|jp_title=Minasanno Okagesamadesu! Daisugorokutaikai
|jp_title2=みなさんのおかげさまです
|developer=Monolith Corp.
|editor=Monolith Corp.
|ngh_id=027
|megcount=54
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=minasan
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-8MB
|mvs_cboard=CHA-8M
|aes_release=y
|aes_release_jp=y
|aes_romset=minasan
|aes_date=01/07/91
}}

&lt;span style="position: fixed; right: 0; bottom: 0px;">[[File:Minasanno_nightmare.png]]&lt;/span>

[[Category:Games]]

#REDIRECT [[Spin Master]]

[[Category:Games]]

#REDIRECT [[Money Puzzle Exchanger]]

[[Category:Games]]

{{GameInfo|right
|en_title=Money Puzzle Exchanger 
|jp_title=Money Idol Exchanger
|jp_title2=マネーアイドルエクスチェンジャー
|developer=Face
|editor=Face
|ngh_id=231
|megcount=78
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=miexchng
|mvs_date=1997
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA42G-3B
}}

[[Category:Games]]

#REDIRECT [[Syougi No Tatsujin - Master of Syougi]]

Sprites can be moved individually if they're not [[Sticky bit|stuck together]]. If they are, the sprite block can be moved by only setting the [[sprites#driving sprite|driving sprite]]'s position. The chained sprites will move accordingly.

Like every location in [[VRAM]], these positions can be updated mid-frame to create [[scanline effects]].

=== Horizontal position ===
The horizontal (X) position is set in VRAM, in [[Sprites|SCB4]]. It's relative to the left screen border.

Example: writing $0010 to $8402, puts sprite #2 at 16 pixels from the left.

ASM routine to set the X position of a given sprite:
&lt;syntaxhighlight>
;D0: Sprite #
;D1: X position
SetSprX:
    addi.w  #SCB4,d0
    move.w  d0,VRAM_ADDR    ; Set VRAM address to SCB4+sprite #
    lsl.w   #7,d1           ; Put position value to the left
    move.w  d1,VRAM_RW
    rts
&lt;/syntaxhighlight>

=== Vertical position ===
The vertical (Y) position is set in VRAM, in [[Sprites|SCB3]]. It's reversed (496-Y), and relative to the top screen border.
A value of $1F0 sets the sprite to Y=0, $110 sets it at 224 (right out of the visible area).

Example: writing $F100 ((496-14)&lt;&lt;7) at VRAM address $8205, puts sprite #5 at 14 pixels from the top.

Be aware that the vertical position word also holds the size and the sticky bit of the sprite.

ASM routine to set the Y position of a given sprite:
&lt;syntaxhighlight>
;D0: Sprite #
;D1: Y position
SetSprY:
    addi.w  #SCB3,d0
    move.w  d0,VRAM_ADDR    ; Set VRAM address to SCB3+sprite #
    neg.w   d1              ; Do 496-position
    addi.w  #496,d1
    lsl.w   #7,d1           ; Put position value to the left
    move.w  VRAM_RW,d2      ; Read VRAM
    andi.w  #$007F,d2       ; Preserve the sticky bit and size attributes
    or.w    d1,d2           ; Change position value
    move.w  d2,VRAM_RW
    rts
&lt;/syntaxhighlight>

==Example==

[[File:nyandemo.png|right]]

Animates ~100 individual and grouped sprites.

Source and romset: [[Media:nyanmvs.zip|nyanmvs.zip]]

[[Category: Code]]
[[Category:Graphics Code]]

#REDIRECT [[Metal Slug - Super Vehicle-001]]

#REDIRECT [[Metal Slug 2]]

#REDIRECT [[Metal Slug 3]]

#REDIRECT [[Metal Slug 4]]

#REDIRECT [[Metal Slug 5]]

#REDIRECT [[Metal Slug X - Super Vehicle-001]]

A NeoGeo multicart is an [[bootleg|unofficial]] compilation cartridge, containing a selection of games. Most of them are of the [[MVS hardware|arcade type]] but some can be played on the home console by using an [[MVS to AES adapter]]. The [[161-in-1 Series 1]] has been converted to home cart format.

Many of these contain multiple versions or hacks of a given game, as it can be seen on the usually provided list.

See http://wiki.arcadeotaku.com/w/MVS_Multicart

Dedicated pages:

* [[161-in-1 Series 1]]
* [[138-in-1]]

==Brute force method==

Early multicarts worked in pair with a complex add-on board which had to be connected to the system's [[JAMMA connector pinout|JAMMA connector]] and the cartridge itself via a ribbon cable.

The board has relays on the +5V and +12V lines to control power to the MVS board, and a large LPC2214 microcontroller to generate the menu display itself.

When a selection is made, the game code is presented to the cartridge as a binary word via the ribbon cable, the MCU stops generating video and the MVS board is powered up.

Changing games requires the user to press a combination of buttons, making the add-on board cut the power to the MVS board and display the menu again.

==Software method==

A few years later, menus running on the MVS hardware itself were made and embedded in the cartridge's memory, making everything simpler and cheaper.

The game bank is set by the software through custom registers mapped in the [[68k memory map|second cartridge zone]], which are implemented in large CPLDs.

[[Category:Cartridge systems]]

Multiplayer can refer to:

* 4P-capable games like [[Kizuna Encounter - Super Tag Battle]] using the [[NEO-FTC1B board]] on a single cab.
* Multi-system cable-linked games like [[League Bowling]], [[Riding Hero]] and [[Thrash Rally]].

The linkable [[cartridges]] have a dedicated {{Chipname|HD6301}} MCU and use a 3.5mm stereo jack cable to communicate with each other.

[[File:Comcircuit.png|300px|thumb|right|MVS comm circuit]]

The cartridges are fitted with two 3.5mm jack plugs to daisy chain up to 4 systems. Both jack plugs can be swapped, there is no in or out. The cabinet ID is set with the [[hardware DIPs]].

=Protocol=

Data is transmitted by the MCU using its SCI module. A data frame is composed of a start bit, 8 data bits and one stop bit. The data is NRZ encoded and the baud rate appears to be 62500. See source on the MCU page.

The data is then carried on a common [https://en.wikipedia.org/wiki/RS-485 RS-485] bus formed by the linked cartridges.

&lt;center>
[[File:Cominstr2.png|300px|Riding Hero comm instructions (1/2)]]
[[File:Cominstr1.png|300px|Riding Hero comm instructions (2/2)]]
&lt;/center>

[[Category:Cartridge systems]]

#REDIRECT [[Ganryu]]

[[Category:Games]]

{{GameInfo|right
|en_title=Mutation Nation
|jp_title=Mutation Nation
|jp_title2=ミューテイションネイション
|developer=SNK
|ngh_id=014
|megcount=54
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=mutnat
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=mutnat
|aes_date=17/04/92
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=25/02/95
}}

[[Category:Games]]

#REDIRECT [[Mutation Nation]]

{{GameInfo|right
|en_title=NAM-1975
|jp_title=NAM-1975
|jp_title2=ナム-1975
|developer=SNK
|ngh_id=001
|megcount=46
|tcrf=https://tcrf.net/NAM-1975
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=nam1975
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-NAM
|mvs_cboard=CHA-32
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=nam1975
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

*C: 6*512
*P1: 512
*S: 128
*V1: 512
*V2: 3*512
*V mux: no

[[Category:Games]]

{{ChipInfo
|picture=Neo-244.jpg
|pkg=QFP64R
|manu=fujitsu
|date=1992 ?
|gates=
|used_on={{PCB|SLOT4F}}
}}

Just a bunch of buffers for second revision 4-slot MVS boards.

=Pinouts=

==Generic==

{{Pinout|NEO-244|640}}

==SLOT4F==

&lt;gallery>
File:NEO-244_mv4f_a1_pinout.png|A1: Buffers for 68k address lines
File:NEO-244_mv4f_a2_pinout.png|A2: Buffers for control lines
File:NEO-244_mv4ft_b2_pinout.png|B2: Buffers for Z80 address lines
File:NEO-244_mv4ft_c2_pinout.png|C2: Buffers for P bus lines
File:NEO-244_mv4ft_d2_pinout.png|D2: Buffers for P bus and other lines
File:NEO-244_mv4ft_e2_pinout.png|E2: Buffers for ADPCM lines
&lt;/gallery>

[[Category:Chips]]

{{ChipInfo
|picture=Neo-253.jpg
|pkg=QFP64R
|manu=fujitsu
|date=1992 ?
|gates=
|used_on={{PCB|SLOT4F}}
}}

Quintuple 74HC253 4-to-1 multiplexers with common select lines, making ten 4-to-1 switches in one chip. Used to switch read-only buses. The inputs are named according to the related slot: A is slot #1, B is slot #2...

Only (?) used on second revision 4-slot MVS systems. Not to be confused with the more common {{Chipname|NEO-273}}.

=Pinout=

[[File:Neo-253_pinout.png|512px]]

OpenOffice Draw file: [[File:neo-253.odg]]

Select signals come from {{Chipname|NEO-F0}} SLOTA and SLOTB.

==SLOT4F @ 5E==

Cartridge [[wait cycle]] configuration and [[Z80]] bus.

*Mux 1: PWAIT0
*Mux 2: PWAIT1
*Mux 10~3: SDD7~SDD0

Outputs go to CN9.

==SLOT4F @ 5D==

[[Sprites]] and [[fix layer]] graphics.

*Mux 1: CR30
*Mux 2: CR31
*Mux 10~3: FIXD7~FIXD0

==SLOT4F @ 5C==

Sprite graphics.

*Mux 10~1: CR29~CR20

==SLOT4F @ 5B==

Sprite graphics.

*Mux 10~1: CR19~CR10

==SLOT4F @ 5A==

Sprite graphics.

*Mux 10~1: CR9~CR0

[[Category:Chips]]

{{ChipInfo
|picture=Neo-257.jpg
|pkg=QFP64R
|manu=fujitsu
|date=1990 ?
|gates=
|used_on={{PCB|MV2B}}...
}}

Four "74HC257" quad 2-to-1 multiplexers with a common select line and separate output enables.

Makes 16 switches in one chip (32 inputs, 16 outputs).

Used in dual slot MVS systems to switch between carts.

Select signal comes from one of the "SLOT" outputs of {{Chipname|NEO-F0}} ?

=Internal logic=

'''This is NOT verified'''.

See https://github.com/neogeodev/SNKVerilog/tree/master/NEO-257

=Repair=

The NEO-257 is known to fail on damaged [[MV2B]] and [[MV2F]] boards. If some pins are dead, they can be lifted and wired to a 74LS257. '''These instructions only work for the MV2B chips at L4 and K4'''.

* Wire the NEO-257 data inputs to any of the 74LS257 input pairs (in correct order).
* Wire the 74LS257 output to the output pad.
* Wire the NEO-257 pin 17 to the 74LS257 select input.
* Wire power, the 74LS257 output enable to ground, and don't forget to ground the unused inputs if using a CMOS part.

=Pinouts=

Information provided by Channelmaniac. '''Pins 2 and 3 could be "enable" pins'''.

* A*, B*: Inputs
* Y*: Outputs
* 17 SELECT: A if low, B if high
* 18 is an active low output enable for Y0~Y7
* 33 and 34 are probably ORed together to provide an active low output enable for Y8~Y15
* 35 is an active high enable for entire chip

==MV2B @ L4==

Used to switch the upper 16 bits of the sprite graphics bus.

[[File:Neo-257_L4_pinout.png|512px]]

OpenOffice Draw file: [[File:neo-257_L4.odg]]

== MV2B @ K4==

Used to switch the lower 16 bits of the sprite graphics bus.

[[File:Neo-257_K4_pinout.png|512px]]

OpenOffice Draw file: [[File:neo-257_K4.odg]]

== MV2B @ J11==

SYSTEM and SYSTEMB might be reversed ?

[[File:Neo-257_J11_pinout.png|512px]]

OpenOffice Draw file: [[File:neo-257_J11.odg]]

[[Category:Chips]]
[[Category:Repairs]]

{{ChipInfo
|picture=crt_273.jpg
|pkg=QFP64R
|manu=fujitsu
|date=1992 ?
|gates=
|used_on={{PCB|MVS cartridge}}s
}}

The NEO-273 chip is used in cartridges to demultiplex the [[P bus]] to [[C ROM]] and [[S ROM]] addresses (graphics). It replaces the discrete components that were used in early boards such as [[CHA board|CHA-32]]. 

This chip was later superseded by {{Chipname|NEO-CMC}} which performs the same functions along with a lot of other things.

For cartridges that use this chip but have more than 8MiB of sprite graphics data, extra bits were added using discrete chips. An added 74LS74 (2 bits) in [[CHA256]] boards for example increases the C ROM capacity from 8MiB to 32MiB (256Mbits).

=Demultiplexing=

* The C ROM address is latched on the rising edge of {{Sig|PCK1B|PCK1B}}.
* The S ROM address is latched on the rising edge of {{Sig|PCK2B|PCK2B}}.

Mapping of the [[P bus]] to the ROM address lines:

{|class="wikitable"
!P BUS||P19||P18||P17||P16||P15||P14||P13||P12||P11||P10||P9||P8||P7||P6||P5||P4||P3||P2||P1||P0
|-
|C address||A3||A2||A1||A0||A20||A19||A18||A17||rowspan=2|A16||rowspan=2|A15||rowspan=2|A14||rowspan=2|A13||rowspan=2|A12||rowspan=2|A11||rowspan=2|A10||rowspan=2|A9||rowspan=2|A8||rowspan=2|A7||rowspan=2|A6||rowspan=2|A5
|-
|S address||colspan=4| ||A4||A2||A1||A0
|}

Note that A4 ({{Sig|CA4|CA4}}) of the C ROMs and A3 ({{Sig|2H1|2H1}}) of the S ROM are not part of the P bus and come straight from the cartridge edge, bypassing this chip.

P20~23 are left out or routed to additional latches if needed.

An inverted C_A20 signal is available on pin 47 to allow cartridges which use 2MiB C ROMs to switch between 2 pairs without the need for an additional inverter chip.

=Internals=

It includes one 16-bit latch (to address a 128KiB S ROM) and one 20-bit latch (to address 8MiB of 2*16bits [[C ROM]]s).

=Pinout=

{{Pinout|NEO-273|640}}

=Repair=

The NEO-273 doesn't appear to fail often. If some outputs are dead, their pins can be lifted and wired to a 74LS74 (2 outputs), a 74LS171 (4 outputs) or [[74LS273]] (8 outputs).

* Wire the data input to the appropriate P bus line (see table above)
* Wire the output to the address pad
* Wire the clock to either PCK1B or PCK2B depending on the affected address bus.
* Wire power and don't forget to ground the unused inputs if using a CMOS part.

[[Category:Chips]]
[[Category:Repairs]]

Second (?) version of the AES main board.

=Board map=

Original picture by BIG BEAR.

[[File:neo-aes3-3.jpg|640px|center]]

* 1A: [[Power supply]] barrel jack connector
* 1C: Audio/video output [[pinouts|DIN connector]]
* 1EF: [[Video encoder]]
* 1M and 1P: Slow [[VRAM]] chips
* 2ABC: [[Video DAC]]
* 2F: Color burst oscillator
* 2H: {{Chipname|NEO-G0}}
* 2JK: [[L0 ROM]]
* 2MN: Fast [[VRAM]] chips
* 3ABC: Palette RAM latches
* 3PQ: {{Chipname|LSPC2-A2}}
* 4AB: [[Palette RAM]] chips
* 4F~M: Cartridge [[AES_cartridge_pinout|slot]]
* 4Q: System latch
* 5J: {{Chipname|NEO-C1}}
* 5PQR: [[System ROM]]
* 6ABC: {{Chipname|NEO-B1}}
* 6EFGH: [[68k]] CPU
* 6J: Piece of tape protecting the PCB from being scratched by the plastic case
* 6LMN: [[Z80]] CPU
* 7C: [[Reset]] button
* 7D: First [[68k user RAM]] chip
* 7FGH: {{Chipname|YM2610}} soundchip
* 7L: {{Chipname|NEO-D0}}
* 7N: [[Z80 RAM]]
* 7Q: {{Chipname|NEO-E0}}
* 8C: Power supply inductor
* 8D: Second 68k [[68k user RAM]] chip
* 8LMN: Main [[clock]] and [[video PLL]] circuit
* 8OPQR: [[Memory card]] slot
* 9C: [[Power supply]] controller
* 9E: [[Joypad]] input [[CRE401|filters]]
* 9F: {{Chipname|YM3016}}
* 9HIJK: Analog sound circuit
* 9M: More joypad input filters
* 10B: Power switch
* 10F: [[Pinouts#Joypad_ports|P1 connector]]
* 10H: Headphone 3.5mm stereo jack connector
* 10J: Headphone volume slider
* 10M: [[Pinouts#Joypad_ports|P2 connector]]

=Differences with the [[NEO-AES board]]=

* Uses the second generation chipset ({{Chipname|NEO-B1}}, {{Chipname|NEO-C1}}, {{Chipname|LSPC2-A2}}).
* Analog audio stuff is grouped in one spot.
* Supposedly power input problem was patched to exclusively work with [[power requirements|9V power supplies]] however there have been cases reported where this didn't happen so make sure to have a look at the [[power requirements]] page for a better understanding.

[[Category:Cartridge systems]]

[[File:neo-aes3-4_pcb.jpg|thumb|Picture wanted.]]

Third (?) version of the AES board.

=Differences with the [[NEO-AES3-3 board]]=

Todo.

[[Category:Cartridge systems]]

Fourth (?) version of the AES main board.

=Board map=

Original picture by BIG BEAR.

[[File:neo-aes3-5.jpg|640px|center]]

* 1A: [[Power supply]] barrel jack connector
* 1C: Audio/video output [[pinouts|DIN connector]]
* 1EF: [[Video encoder]]
* 1M &amp; 1P: Slow [[VRAM]] chips
* 1N: Red power LED
* 2ABC: [[Video DAC]]
* 2F: Color burst oscillator
* 2H: {{Chipname|NEO-G0}}
* 2JK: [[L0 ROM]]
* 2MN: Fast [[VRAM]] chips
* 3ABC: Palette RAM latches
* 3PQ: {{Chipname|LSPC2-A2}}
* 4AB: [[Palette RAM]] chips
* 4F~M: Cartridge [[AES_cartridge_pinout|slot]]
* 4Q: System latch
* 5J: {{Chipname|NEO-C1}}
* 5PQR: [[System ROM]]
* 6ABC: {{Chipname|NEO-B1}}
* 6EFGH: [[68k]] CPU
* 6J: Piece of tape protecting the PCB from being scratched by the plastic case
* 6LMN: [[Z80]] CPU
* 7B: Power "regulation" circuit (transistor and big resistor)
* 7C: [[Reset]] button
* 7D: First [[68k user RAM]] chip
* 7FGH: {{Chipname|YM2610}} soundchip
* 7L: {{Chipname|NEO-D0}}
* 7N: [[Z80 RAM]]
* 7Q: {{Chipname|NEO-E0}}
* 8D: Second 68k [[68k user RAM]] chip
* 8LMN: Main [[clock]] and [[video PLL]] circuit
* 8OPQR: [[Memory card]] slot
* 9E: [[Joypad]] input [[CRE401|filters]]
* 9F: {{Chipname|YM3016}}
* 9HIJK: Analog sound circuit
* 9M: More joypad input filters
* 10B: Power switch
* 10F: [[Pinouts#Joypad_ports|P1 connector]]
* 10H: Headphone 3.5mm stereo jack connector
* 10J: Headphone volume slider
* 10M: [[Pinouts#Joypad_ports|P2 connector]]

=Differences with the [[NEO-AES3-3 board]]=

Todo: Change to "differences with [[NEO-AES3-4 board]]".

* Red power LED added (invisible through case)
* Layout and components changes in the analog video section.
* Can work with [[power requirements|5V or 9V power supplies]] depending on board configuration (both were planned).
* Different audio op-amps.

[[Category:Cartridge systems]]

[[File:neo-aes3-6_pcb.jpg|thumb|Neo Geo AES 3-6 board]]

Fifth (?) version of the AES board.

=Differences with the [[NEO-AES3-5 board]]=

* "NTSC only" zone indicating optional components (what are those for ?). PAL/NTSC jumpers.

[[File:neo-geo-aes-3-6-ntsc-only.jpg|thumb|NTSC Only Section - Neo Geo AES 3-6]]

* Layout and components changes in the analog video section (again).

[[File:neo-geo-aes-3-6-video.jpg|thumb|Video Out Section - Neo Geo AES 3-6]]

* Exclusively works with [[power requirements|9V power supplies]].

[[Category:Cartridge systems]]

[[File:4-1.jpg|thumb|Neo Geo AES 4-1 board]]

Seems to be the sixth and latest board revision.

Some (all ?) units appear to be heavily shielded with a metal cover and conductive coating on the plastic shell.

=Differences with the [[NEO-AES3-6 board]]=

* The power supply circuit was (finally) moved next to the power connector.
* Most through-hole chips were replaced by their surface mount versions.
* The PLCC version of the [[68k]] CPU was used. Also tiny Z80.
* The [[System_ROM|SP1 ROM]] is an OTP part.
* Resistor networks were added on bus lines, maybe as an attempt to reduce radiated noise.
* TC9018P composite sync generator.
* {{Sig|SYNC|SYNC}}/NEW-SYNC jumper.
* {{Sig|BNKB|BNKB}}/RBNKB jumper.

[[Category:Cartridge_systems]]

First known version of the AES board, made (and maybe assembled) by NEC. Uses the first generation chipset {{Chipname|PRO-B0}}, {{Chipname|PRO-C0}}, {{Chipname|LSPC-A0}}.

In later use of this board version, a [[video PLL|video cleaner]] board was added.

Some consoles also have a metal shield connected to ground.

=Voltage protection=

The voltage protection circuit changed during the production of the board:
* The first boards simply had no voltage protection. Meaning that using a higher than [[power requirements|5V power supply]] would fry everything.
* Later on, components were added to dump excessive voltage as heat (see below).
* Even later, the [[NEO-POWER-0]] board was added as a factory mod to allow the safe use of 9V power supplies.

The voltage protection circuit starts operating as soon as the input voltage goes above 5.4V. If used with a 9V power supply for an extended period of time, it may fail due to excessive heat. Q2 and/or D1 may need to be replaced.

[[File:Neo-aes_power.png|400px]] 
[[File:Neo-aes_power2.png|400px]]

=Board map=

[[File:neo-aes.jpg|640px|center]]

* 1A: [[Power supply]] barrel jack connector
* 1C: Audio/video output [[pinouts|DIN connector]]
* 1F: Main [[clock]] circuit
* 1I: [[68k user RAM]] chips
* 1J: System latch
* 1KL: [[System ROM]]
* 1OPQ: Analog sound circuit
* 2EF: [[Video DAC]]
* 2Q: {{Chipname|YM3016}}
* 3B: [[Video encoder]] and color burst oscillator
* 3EF: Palette RAM latches
* 3HIJK: [[68k]] CPU
* 3LMNO: {{Chipname|YM2610}} soundchip
* 4F~M: Cartridge [[AES_cartridge_pinout|slot]]
* 4PQ: [[Palette RAM]] chips
* 5CD: {{Chipname|LSPC-A0}}
* 5FG: [[L0 ROM]]
* 5IJK: [[Z80]] CPU
* 6M: [[Z80 RAM]]
* 7B: Slow [[VRAM]] chips
* 7C: [[Reset]] button
* 7H: {{Chipname|PRO-B0}}
* 7K: {{Chipname|PRO-C0}}
* 8E: Fast [[VRAM]] chips
* 8OPQR: [[Memory card]] slot
* 9C: Voltage protection circuit
* 9EF: [[Joypad]] input [[CRE401|filters]]
* 9HIJK: Analog sound circuit
* 9LM: More joypad input filters
* 10B: Power switch
* 10F: [[Pinouts#Joypad_ports|P1 connector]]
* 10H: Headphone 3.5mm stereo jack connector
* 10J: Headphone volume slider
* 10M: [[Pinouts#Joypad_ports|P2 connector]]

[[Category:Cartridge systems]]
[[Category:Repairs]]

{{ChipInfo
|picture=aes_b1.jpg
|pkg=QFP160
|manu=fujitsu
|date=1992 ?
|gates=
|used_on={{PCB|NEO-AES3-4 board|NEO-AES3-4}}...
}}

[[File:b1die.jpg|right|thumb|(Damaged) B1 die showing pre-built memory cells.]]

The NEO-B1 chip is found in second generation cartridge-based systems.

=Graphics=

Both [[fix layer|fix]] graphics from the [[S ROM]] and serialized sprite graphics from the [[C ROM]]s are fed to NEO-B1 for display on screen via 2 pairs of alternating line buffers. Sprite graphics come from the C ROM multiplexer ({{Chipname|NEO-ZMC2}}, {{Chipname|PRO-CT0}} or {{Chipname|NEO-CMC}}), while fix graphics come directly from the currently enabled fix ROM. Two pixels are written at a time.

Sprite rendering is done in the internal [[line buffers]].

The chip outputs the [[palette RAM]] address to select colors for pixel output. The data output of the palette RAM is latched by a pair of 8bit registers, which in turn feed the [[video DAC]]. The NEO-B1 handles address bus switching between the [[68k]] bus and palette RAM. Priority is always given to the 68k which results in harmless display glitches when games access palette RAM during active display.

=Watchdog=

The [[watchdog]] is integrated into NEO-B1. {{Sig|HALT|HALT}} and {{Sig|RESET|RESET}} are generated by this chip on power-on and whenever the 68k fails to kick the watchdog in time. The write to {{Reg|REG_DIPSW}} is decoded on the chip instead of using a signal from {{Chipname|NEO-C1}}.

Watchdog can be disabled by bringing pin 94 DOGE to ground (J2 jumper on main board).

=Pinout=

{{Pinout|NEO-B1|640}}


=Signals=

*A1~A21, A22I, A23I: [[68k]] address bus and modified upper lines
*FIX0~FIX7: Fix ROM data bus
*PCK1/PCK2: Latch signals coming from {{Chipname|LSPC2-A2}}
*PA0~PA11: Palette RAM address bus
*GAD0~GAD3, GBD0~GBD3: Sprite pixel data (2 pixels)
*CK1~CK4: Clocks for each buffer
*WE1~WE4: Write enable for each buffer
*SS1/SS2: Mode select for each pair of buffers
*LD1/LD2: Buffer address reload signals
*TMS0: Buffer order selection
*DOGE: [[Watchdog]] enable (internal pullup)
*FLIP: Flip display horizontally ? Always tied to ground
*XMM, XTRE, XTWE: Test mode enable, direct read and write signals
*TDO0~TDO11: Line buffers test data output
*VCCON: [[Reset]] signal

[[Category:Chips]]

{{ChipInfo
|picture=cd2_buf.jpg
|pkg=QFP48
|manu=fujitsu
|date=1994 ?
|gates=
|used_on={{PCB|MV1A}} {{PCB|MV1B}} {{PCB|NEO-CDM3-2_board}}
}}

Dual 74HC245 octal transceivers in one chip.
This chip is extensively used in [[CD systems]] to multiplex subsystem and {{Chipname|68k}} accesses to [[DRAM]]s.

Also found on late [[MVS hardware|MVS]] boards.

==Pinout==

{{Pinout|NEO-BUF|512px}}

==Replacement==
[[File:Neo-buf_bypass.jpg|thumb|Picture from MVS-Scans]]
On the {{PCB|MV1A}} and {{PCB|MV1B}}, one NEO-BUF chip is used as a uni-directionnal buffer for the [[68k]] data bus. Some of these faulty chips were replaced by small passive pass-through boards by third parties, which may cause some games to crash:
* MV1B: GA1 on the SLOT1B board
* MV1A: GA11

[[Category:Chips]]
[[Category:Repairs]]

{{ChipInfo
|picture=aes_c1.jpg
|pkg=QFP100R
|manu=fujitsu
|date=1992 ?
|gates=
|used_on={{PCB|NEO-AES3-4 board|NEO-AES3-4}}...
}}

The NEO-C1 is a multi-purpose keystone chip used for address decoding, inter-CPU communications, [[wait cycle]] generation, and [[joypad|player input]]s on systems based on the 2nd generation chipset.

It maps itself to [[68k]] even byte accesses.

=Pinout=

{{Pinout|NEO-C1|900}}

=Internal schematics=

https://github.com/furrtek/SiliconRE/tree/master/SNK/NEO-C1

=Signals=

==Inputs==

{{Reg|REG_P1CNT}}:
* IN00: Up P1
* IN01: Down P1
* IN02: Left P1
* IN03: Right P1
* IN04: A P1
* IN05: B P1
* IN06: C P1
* IN07: D P1

{{Reg|REG_P2CNT}}:
* IN10: Up P2
* IN11: Down P2
* IN12: Left P2
* IN13: Right P2
* IN14: A P2
* IN15: B P2
* IN16: C P2
* IN17: D P2

{{Reg|REG_STATUS_B}}:
* IN20: Start P1
* IN21: Select P1
* IN22: Start P2
* IN23: Select P2
* IN24: Memory card inserted
* IN25: Memory card inserted
* IN26: Memory card write protect
* IN27: System type (home/arcade)

==68k==

*A17~A21: [[68k]] address bus
*A22I~A23I: [[NEO-E0]] address input
*D8~D15: 68k data bus
*R/W, UDS, LDS, AS, DTACK: 68k bus control signals
*68KCLK: 12MHz 68k clock
*ROMWAIT, PWAIT0, PWAIT1, PDTACK: signals from cart PROG board to configure [[wait cycle]]s.

==Decoded signals==

The following output and write enables have an upper(U)/lower(L) byte enable signal based on /UDS and /LDS from the 68k.

*ROMOEU, ROMOEL: $000000-$0FFFFF read, 68k program ROM on cart / vector table
*WRU, WRL, WWU, WWL: $100000-$1FFFFF read/write [[68k user RAM]]
*PORTOEU, PORTOEL, PORTWEU, PORTWEL: $200000-$2FFFFF read/write, 68k program ROM and/or security chips on cart
*SROMOEU, SROMOEL: $C00000-$CFFFFF read [[system ROM]]
*SRAMOEU, SRAMOEL, SRAMWEU, SRAMWEL: $D00000-$DFFFFF read/write [[battery-backed RAM]]

When A23I A22I A21 A20 = 1100 and RW = 1, either SROMOEU and SROMOEL should be low depending on UDS and LDS.

The following are expected to be word accessed, byte writes and reads are ignored or do not work as expected.

*CRDO, CRDW: $800000-$BFFFFF read/write [[memory card]]
*CRDC: Memory card select
*LSPOE, LSPWE: $3C0000-$3DFFFF read/write [[LSPC2-A2]]
*PAL: $400000-$7FFFFF read/write [[palette RAM]]

==Z80 I/O==

*SDD0~SDD7: [[Z80]] data bus used for [[68k/Z80 communication]]
*SDZ80R, SDZ80W: read / write signals for Z80 communication
*SDW: signals that 68k has written a byte to Z80 port, will make [[NEO-D0]] generate an interrupt if enabled
*SDZ80CLR: reset stored byte

==CONNECTIONS (French)==

For 3.3--> 3.6 Neo Geo Board Version

{| class="wikitable"
! SCHEM !! PIN !! M68 000 !! NEO-E0 !! NEO- B1 !! REAR SLOT !! FRONT SLOT !! Work RAM1 !! Work RAM2 !! NEO- GO !! 74H C04 !! CRE 401 /5 !! CRE 401 /4 !! CRE 401 /3 !! CRE 401 /2 !! CRE 401 /1 !! LSPC- A2 !! NEO- DO !! Z80 !! HM 6116 !! YM 2610 !! 74HC 259 !! NEO- PO !! CARD IC !! 74HC 32
|-
| DIPRD0 || 1 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| DIPRD1 || 2 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| VCC || 3 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| NC || 4 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| ROMOEU || 5 ||  ||  ||  || 21A ||  ||  ||  || 60 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| WRU || 6 ||  ||  ||  ||  ||  || 22 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| WWU || 7 ||  ||  ||  ||  ||  || 27 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| LSPOE || 8 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 172 ||  ||  ||  ||  ||  ||  ||  || 
|-
| LSPWE || 9 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 173 ||  ||  ||  ||  ||  ||  ||  || 
|-
| PORTOEU || 10 ||  ||  ||  || 28A ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| PORTWEU || 11 ||  ||  ||  || 30A ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| SROMOEU || 12 ||  || 60 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| SRAMOEU || 13 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| SRAMWEU || 14 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| GND || 15 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| PAL || 16 ||  ||  ||  ||  ||  ||  ||  || 39 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| VPA || 17 || 21 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| PADRS || 18 ||  ||  ||  || 48A ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| DTACK || 19 || 10 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| A17 || 20 || 45 || 36 || 112 || 19B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| A18 || 21 || 46 || 37 || 113 || 20B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| A19 || 22 || 47 || 38 || 114 || 21B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| A20 || 23 || 48 || 48 || 115 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| A21 || 24 || 50 || 49 || 116 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| A22I || 25 ||  || 55 || 117 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| A23I || 26 ||  || 54 || 118 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| CRDC || 27 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 7 &amp; 42 || 
|-
| VCC || 28 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| SDW || 29 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 33 ||  ||  ||  ||  ||  ||  || 
|-
| CRDO || 30 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 9 || 
|-
| CRDW || 31 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 5
|-
| RW || 32 || 9 ||  || 91 || 19A ||  ||  ||  || 40/52 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| UDS || 33 || 7 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| LDS || 34 || 8 ||  || 89 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| AS || 35 || 6 ||  || 88 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| 68KCLC || 36 || 15 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 22 ||  ||  ||  ||  ||  ||  || 
|-
| ROMWAIT || 37 ||  ||  ||  || 28B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| PWAIT0 || 38 ||  ||  ||  || 30B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| PWAIT1 || 39 ||  ||  ||  || 31B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| GND || 40 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| PDTACK || 41 ||  ||  ||  || 29B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN00 || 42 ||  ||  ||  ||  ||  ||  ||  ||  ||  || 3 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| INO1 || 43 ||  ||  ||  ||  ||  ||  ||  ||  ||  || 5 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN02 || 44 ||  ||  ||  ||  ||  ||  ||  ||  ||  || 7 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN03 || 45 ||  ||  ||  ||  ||  ||  ||  ||  ||  || 9 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN04 || 46 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 3 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN05 || 47 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 5 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN06 || 48 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 7 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| D8 || 49 || 61 ||  ||  || 11A ||  || 11 ||  || 31 ||  ||  ||  ||  ||  ||  || 13 ||  ||  ||  ||  ||  || 10 ||  || 
|-
| D9 || 50 || 60 ||  ||  || 12A ||  || 12 ||  || 32 ||  ||  ||  ||  ||  ||  || 14 ||  ||  ||  ||  ||  || 9 ||  || 
|-
| D10 || 51 || 59 ||  ||  || 13A ||  || 13 ||  || 33 ||  ||  ||  ||  ||  ||  || 15 ||  ||  ||  ||  ||  || 8 ||  || 
|-
| D11 || 52 || 58 ||  ||  || 14A ||  || 15 ||  || 34 ||  ||  ||  ||  ||  ||  || 16 ||  ||  ||  ||  ||  || 7 ||  || 
|-
| VCC || 53 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| NC || 54 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| D12 || 55 || 57 ||  ||  || 15A ||  || 16 ||  || 47 ||  ||  ||  ||  ||  ||  || 18 ||  ||  ||  ||  ||  || 6 ||  || 
|-
| D13 || 56 || 56 ||  ||  || 16A ||  || 17 ||  || 48 ||  ||  ||  ||  ||  ||  || 19 ||  ||  ||  ||  ||  || 5 ||  || 
|-
| D14 || 57 || 55 ||  ||  || 17A ||  || 18 ||  || 49 ||  ||  ||  ||  ||  ||  || 20 ||  ||  ||  ||  ||  || 4 ||  || 
|-
| D15 || 58 || 54 ||  ||  || 18A ||  || 19 ||  || 50 ||  ||  ||  ||  ||  ||  || 21 ||  ||  ||  ||  ||  || 3 ||  || 
|-
| IN07 || 59 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 9 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN10 || 60 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 7 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN11 || 61 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 9 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN12 || 62 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 3 ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN13 || 63 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 5 ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN14 || 64 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 7 ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| GND || 65 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN15 || 66 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 9 ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN16 || 67 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 3 ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN17 || 68 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 5 ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN20 || 69 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 3 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN21 || 70 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 5 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN22 || 71 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 7 ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN23 || 72 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 9 ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| IN24 || 73 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 36 || 
|-
| SDD0 || 74 ||  ||  ||  ||  || 40B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 14 || 9 || 2 ||  ||  ||  || 
|-
| SDD1 || 75 ||  ||  ||  ||  || 41B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 15 || 10 || 3 ||  ||  ||  || 
|-
| SDD2 || 76 ||  ||  ||  ||  || 42B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 12 || 11 || 4 ||  ||  ||  || 
|-
| SDD3 || 77 ||  ||  ||  ||  || 43B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 8 || 13 || 5 ||  ||  ||  || 
|-
| VCC || 78 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| NC || 79 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| SDD4 || 80 ||  ||  ||  ||  || 44B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 7 || 14 || 6 ||  ||  ||  || 
|-
| SDD5 || 81 ||  ||  ||  ||  || 45B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 9 || 15 || 7 ||  ||  ||  || 
|-
| SDD6 || 82 ||  ||  ||  ||  || 46B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 10 || 16 || 8 ||  ||  ||  || 
|-
| SDD7 || 83 ||  ||  ||  ||  || 47B ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 13 || 17 || 9 ||  ||  ||  || 
|-
| SDZ80R || 84 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 41 ||  ||  ||  ||  ||  ||  || 
|-
| SDZ80W || 85 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 43 ||  ||  ||  ||  ||  ||  || 
|-
| SDZ80CLR || 86 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 44 ||  ||  ||  ||  ||  ||  || 
|-
| IN25 || 87 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 67 || 
|-
| IN26 || 88 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 33 || 
|-
| IN27 || 89 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| GND || 90 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| ROMOEL || 91 ||  ||  ||  || 22A ||  ||  ||  || 61 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| WRL || 92 ||  ||  ||  ||  ||  ||  || 22 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| WWL || 93 ||  ||  ||  ||  ||  ||  || 27 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| PORTOEL || 94 ||  ||  ||  || 29A ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| PORTWEL || 95 ||  ||  ||  || 31A ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| SROMOEL || 96 ||  || 61 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| SRAMOEL || 97 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| SRAMWEL || 98 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 
|-
| BITWO || 99 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 60 ||  ||  ||  ||  ||  ||  || 
|-
| BITW1 || 100 ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  ||  || 14 ||  ||  || 
|-
|}

*Headaches and loss of a tenth of vision by Illusionrip

[[Category:Chips]]

The audio/video and power boards in top-loading NeoGeo CD consoles.

The version for the front-loading console is [[CD-ANA-2_board|CD-ANA-2]].

=NEO-CDA3-1=
[[File:Neocda31.jpg]]

Carries a {{Chipname|YM3016}} DAC, [[LC78815]] CDDA DAC, 2 quad op-amps, a [[CXA1645]] video encoder, 2 7805 regulators, a LM2930 8V regulator and various transistors.

Connectors, from left to right (need exact pinouts):
*YM2610 to YM3016 serial data
*CDDA left, right, clock
*RGB video and sync
*CD 5V, 10V CD, 5V logic, Ground

=NEO-CDA4-1=

[[File:Neocda41.jpg]]

Same as the NEO-CDA3-1, but with only one dual op-amp and a second [[LC78815]] instead of the [[YM3016]] (which isn't needed anymore with boards using the {{Chipname|NEO-YSA}} chip, capable of outputting LC78815-compatible data).

24M08 regulator instead of the LM2930 ?

Connectors, from left to right (need exact pinouts):
*CDDA left, right, clock
*NEO-YSA left, right, clock
*RGB video and sync
*CD 5V, 10V CD, 5V logic, Ground

=Power supply circuit=

Circuits for both versions of the board seem to be identical.

[[File:Neo-cda3-1.png]]

Both +5V and +10V supply voltages are limited to 5V and 11.4V by means of a pair of (strange) protection circuits made of transistors to bring the voltage down by dissipating heat through resistors R15 and R18 if needed. The +5V input is used to power the main board. The +10V input is used to power the CD drive, and 3 linear regulators for the op-amps and audio DACs.

A thermal fuse (one-time use ?) is coupled to Q3 with a blob of silicone, preventing the console from being turned on again if excessive heat was generated.

[[Category:Repairs]]
[[Category:Chips]]

Boards holding the [[Pinouts#Joypad_ports|joypad connectors]], lid and power switch, and configuration jumpers in top-loading [[CD systems]].

=NEO-CDD3-1=
[[File:Neo-cdd3-1_schematic.png|300px|thumb|NEO-CDD3-1 schematic]]

The power switch simply connects the yellow "LAND1" wire to ground.

Two {{Chipname|NEO-BUF}} chips are use to switch the 68k data bus appropriately.

All inputs go through [[CRE401]] RC networks.

Pin 38 of GA1 (tied to VCC) tells the [[system ROM]] that the system is a top-loader in {{Reg|REG_CDCONFIG}}.

No other versions of this board exist ?

[[File:Neocdd31.jpg]]

[[File:Neocdd31b.jpg]]

[[Category:CD systems]]
[[Category:Chips]]

#REDIRECT [[NEO-CDD board]]

Top-loading NeoGeo CD board.

&lt;center>[[File:cdm3-1_pcb.jpg]]&lt;/center>

[[NEO-BUF]],
[[NEO-SFT]],
[[NEO-OFC]],
[[NEO-GRC]],
[[68k|68k CPU]],
[[68k user RAM|68k RAM]],
[[Battery-backed RAM]],
[[Palette RAM]],
[[Z80|Z80 CPU]],
[[YM2610]],
[[DRAM]],
[[VRAM]],
[[LC8953]],
[[LC89515]],
[[NEO-MGA]],
[[NEO-SUD]],
[[NEO-VOC]],
[[Clock]],
[[System ROM]],
[[PSRAM]],
[[LO|LO ROM]]

[[Category:CD systems]]

Top-loading NeoGeo CD board.

&lt;center>[[File:cdm3-2_pcb.jpg]]&lt;/center>

Only the DRAM layout seems to have changed from the {{PCB|NEO-CDM3-1 board}}.

[[NEO-BUF]],
[[NEO-SFT]],
[[NEO-OFC]],
[[NEO-GRC]],
[[68k|68k CPU]],
[[68k user RAM|68k RAM]],
[[Battery-backed RAM]],
[[Palette RAM]],
[[Z80|Z80 CPU]],
[[YM2610]],
[[DRAM]],
[[VRAM]],
[[LC8953]],
[[LC89515]],
[[NEO-MGA]],
[[NEO-SUD]],
[[NEO-VOC]],
[[Clock]],
[[System ROM]],
[[PSRAM]],
[[LO|LO ROM]]

[[Category:CD systems]]

Top-loading NeoGeo CD board.

&lt;center>[[File:cdm4-1_pcb.jpg]]&lt;/center>

[[NEO-BUF]],
[[NEO-SFT]],
[[NEO-OFC]],
[[NEO-GRZ]],
[[68k|68k CPU]],
[[68k user RAM|68k RAM]],
[[Battery-backed RAM]],
[[Palette RAM]],
[[Z80|Z80 CPU]],
[[NEO-YSA]],
[[DRAM]],
[[VRAM]],
[[LC98000]],
[[LC89515]],
[[NEO-MGA]],
[[Clock]],
[[System ROM]],
[[PSRAM]],
[[LO|LO ROM]]

[[Category:CD systems]]

Top-loading NeoGeo CD board.

&lt;center>[[File:cdm2_4-2mobo.jpg]]&lt;/center>

Only the DRAM layout seems to have changed from the {{PCB|NEO-CDM4-1 board}}.

[[NEO-BUF]],
[[NEO-SFT]],
[[NEO-OFC]],
[[NEO-GRZ]],
[[68k|68k CPU]],
[[68k user RAM|68k RAM]],
[[Battery-backed RAM]],
[[Palette RAM]],
[[Z80|Z80 CPU]],
[[NEO-YSA]],
[[DRAM]],
[[VRAM]],
[[LC98000]],
[[LC89515]],
[[NEO-MGA]],
[[Clock]],
[[System ROM]],
[[PSRAM]],
[[LO|LO ROM]]

[[Category:CD systems]]



=Schematic=

By l_oliveira. Pretty much what {{Chipname|NEO-273}} is.

[[File:neo_cha.png]]

[[Category:Cartridge boards]]

{{ChipInfo
|picture=crt_cmc.jpg
|pkg=QFP180
|manu=toshiba
|date=1999 ?
|gates=A lot
|used_on={{PCB|CHAFIO}}...
}}

[[File:brd_cmcnoref.jpg|thumb|"CMC50"]]

Late SNK custom chip used for protection, bankswitching and latching on [[CHAFIO]] [[CHA board]]s.

Descrambling/decryption infos can be found in [[https://github.com/mamedev/mame/blob/master/src/devices/bus/neogeo/prot_cmc.cpp  MAME:prot_cmc.c]]

==Versions==
This chip is a TC190G series Toshiba ASIC developed between 1990 and 1994. Two versions of the chip are known to exist:

*TC190G06CF7'''042'''
*TC190G06CF7'''050'''

They contain the logic for:
*{{Chipname|NEO-ZMC2}}
*{{Chipname|NEO-273}}
*New scrambling system that interlaces M1 + (C* + S1) to decrypt all the graphics ROMs data in real time (042 version).
*New scrambling system that interlaces M1 + (C* + S1) to decrypt all the graphics ROMs data and Sound Driver ROM data in real time (050 version).

The first released NEO-MVS CHAFIO PCBs came out with the '''042''' version of NEO-CMC, on the following cartridges:
*[[Zupapa!]]
*[[The King of Fighters '99 - Millennium Battle]]
*[[Ganryu]]
*[[Garou - Mark of the Wolves]]
*[[Strikers 1945 Plus]]
*[[Prehistoric Isle 2]]
*[[Metal Slug 3]]
*[[Bang Bead]]
*[[Nightmare in the Dark]]
*[[Sengoku 3]]

On this version only the [[S ROM|S1]] and [[C ROM]]s are encrypted and M1 remains unencrypted. Almost one year later, SNK decided to add one more layer, this time also encrypting M1. This new NEO-CMC chip had the '''050''' reference and was found in the following cartridges:
*[[Jockey Grand Prix]]
*[[The King of Fighters 2000]]
*[[The King of Fighters 2001]]
*[[Metal Slug 4]]
*[[Rage of the Dragons]]
*[[The King of Fighters 2002]]
*[[Matrimelee]]
*[[Pochi and Nyaa]]
*[[Metal Slug 5]]
*[[SNK vs. Capcom - SVC Chaos]]
*[[Samurai Shodown V]]
*[[The King of Fighters 2003]]
*[[Samurai Shodown V Special]]

To this day, no one has produced a reproduction of these chips.

==Fix handling==

See [[fix bankswitching]].

==Encryption==

Todo.

=Pinout=
[[File:Neocmc_7050_7042_pinout.png|x600px]]

OpenOffice Draw file: [[File:Neocmc_7050_7042.odg]]

'''Signals:'''
 CXe_D[0..15]: C odd data bus
 CXo_D[0..15]: C even data bus
 CX_A[0..21]: C1~8 address bus (NEO-MVS &amp; NEO-AEG)
 CX_A[0..'''22''']: C1~4 address bus ('''NEO-MVH only''')
 
 Pin : 32 connects to Mitsumi (PST600D) reset generator to re-initialize the NEO-CMC in case of power failure.
 Pins: 87 and 88 contains a RC circuit clock driver like in a 8085 with X1 and X2 pinouts
 Pins: 89 and 92 are interconnected.
 -----------------------------------------------
 Pins: 62~69, 71~78, 80~84 are configured in:
      '''NEO-MVS CHAFIO''' as '''CR31~CR24, CR23~CR16, CR15~CR11''' respectively
      NEO-AEG CHAFIO as '''  NC~NC  ,   NC~NC  ,   NC~NC'''
 -----------------------------------------------
 Pins: 102, 103~106, 107~110, 112~113 are configured in:
      '''NEO-MVS CHAFIO''' as '''CR10, CR9~CR6 ,  CR5~CR2 ,  CR1~CR0'''
      NEO-AEG CHAFIO as '''NC  ,GBD3~GBD0, GAD3~GAD0, DOTB~DOTA'''
 -----------------------------------------------
 Pin : 94 is configured in:
      '''NEO-MVS CHAFIO''' as '''NC '''
      NEO-AEG CHAFIO as '''12M'''
 -----------------------------------------------
 Pin :147 is configured in:
      '''NEO-MVS CHAFIO''' (2003.07.24) as M1_CE
      '''NEO-MVS CHAFIO''' (1999.06.14) as NC
      NEO-AEG CHAFIO (2003.07.24) as M1_CE
      NEO-AEG CHAFIO (1999.08.10) as NC
 -----------------------------------------------
 Pin :153 is configured in:
      NEO-MVS (ALL) as '''VCC'''
      NEO-AEG (ALL) as GND

'''Comparing MVH PCBs vs MVS &amp; AES Cartridges'''
 Pin :147 is configured in:
      '''NEO-MVH MVOC   (2003.11.03)''' as '''M1_CE''' (KOF2003 pcb)
      '''NEO-MVH MVOBR  (2003.08.04)''' as '''M1_CE''' (MSLUG5 pcb)
      '''NEO-MVH MVOB   (2003.07.09)''' as '''NC   ''' (SVC pcb) - '''M1_CE (fixed by wirewrapps)'''
      '''NEO-MVH MVO    (2003.06.05)''' as '''NC   ''' (SVC pcb) 
      NEO-MVS CHAFIO (2003.07.24) as M1_CE
      NEO-MVS CHAFIO (1999.06.14) as NC
      NEO-AEG CHAFIO (2003.07.24) as M1_CE
      NEO-AEG CHAFIO (1999.08.10) as NC
 -----------------------------------------------
 Pin :152 is configured in:
      '''NEO-MVH (MVOC)''' as '''VCC'''
      '''NEO-MVH (MVO, MVOB, MVOBR)''' as '''GND'''
      NEO-MVS (ALL) as GND
      NEO-AEG (ALL) as GND
 -----------------------------------------------
 Pin :153 is configured in:
      '''NEO-MVH (ALL)''' as '''VCC'''
      NEO-MVS (ALL) as '''VCC'''
      NEO-AEG (ALL) as GND
 -----------------------------------------------
 Pin :154 is configured in:
      '''NEO-MVH (MVO, MVOB, MVOBR, MVOC)''' as '''C2C1_OE'''
      NEO-MVS (ALL) as NC
      NEO-AEG (ALL) as NC
 -----------------------------------------------
 Pin :155 is configured in:
      '''NEO-MVH (MVO, MVOB, MVOBR, MVOC)''' as '''C4C3_OE'''
      NEO-MVS (ALL) as NC
      NEO-AEG (ALL) as NC
 -----------------------------------------------
 Pin :158 is configured in:
      '''NEO-MVH (MVO, MVOB, MVOBR, MVOC)''' as '''NC'''
      NEO-MVS (ALL) as C8C7_OE
      NEO-AEG (ALL) as C8C7_OE
 -----------------------------------------------
 Pin :159 is configured in:
      '''NEO-MVH (MVO, MVOB, MVOBR)''' as '''NC'''
      '''NEO-MVH (MVOC)''' as '''C6C5_OE'''
      NEO-MVS (ALL) as '''C6C5_OE'''
      NEO-AEG (ALL) as '''C6C5_OE'''
 -----------------------------------------------
 Pin :160 is configured in:
      '''NEO-MVH (MVO, MVOB, MVOBR)''' as '''NC'''
      '''NEO-MVH (MVOC)''' as '''C4C3_OE'''
      NEO-MVS (ALL) as '''C4C3_OE'''
      NEO-AEG (ALL) as '''C4C3_OE'''
 -----------------------------------------------
 Pin :161 is configured in:
      '''NEO-MVH (MVO, MVOB, MVOBR)''' as '''NC'''
      '''NEO-MVH (MVOC)''' as '''C2C1_OE'''
      NEO-MVS (ALL) as '''C2C1_OE'''
      NEO-AEG (ALL) as '''C2C1_OE'''
 -----------------------------------------------
 Pin :189 is configured in:
      '''NEO-MVH (MVO, MVOB, MVOBR, MVOC)''' as '''A22''' (128Mbit) (connected from CMC to the driver input and from output to C ROM's A22)
      NEO-MVS (ALL) as NC
      NEO-AEG (ALL) as NC
 -----------------------------------------------
 Pin :190 is connected from CMC to the driver input, but NC from it's output:
      '''NEO-MVH (MVO, MVOB, MVOBR, MVOC)''' as A23 (256Mbit) ('''assumption''' it's prepared for big size C ROMs )
      NEO-MVS (ALL) as NC
      NEO-AEG (ALL) as NC
 -----------------------------------------------
 Pin :191 is connected from CMC to the driver input, but NC from it's output:
      '''NEO-MVH (MVO, MVOB, MVOBR, MVOC)''' as A24 (512Mbit) ('''assumption''' it's prepared for big size C ROMs)
      NEO-MVS (ALL) as NC
      NEO-AEG (ALL) as NC

'''Final Notes'''
 '''NOTE1:''' There are no pinout differences between NEO-CMC42 and NEO-CMC50 however, differences can be spotted between previous and later board releases with respect to some setup lines and pin 147. A substantial setup difference can be found comparing the boards of AES and MVS releases. The way the chip access and delivery the graphic data is different between them and both configurations are available inside the NEO-CMC that is configured by the setup of the board itself. So the NEO-CMC is '''interchangeable between boards''' between MVS, AES, and MVH embedded. See the releases at ([[CHAFIO]])
 
 '''NOTE2:''' In case somebody wonders, it's impossible to downgrade or upgrade NEO-CMCs between different versions (from 42 to 50 and vice-versa). The reason is that it's impossible without preparing the game for that and the algorithm to do it is unknown.
 
 '''NOTE3:''' In MVH with embedded CHAFIO the NEO-CMC50 (pin 147 as M1_CE) is native present on the follow releases: 2003.08.04 (MSLUG 5) and 2003.11.03 (KOF2003). However on releases 2003.06.05 and 2003.07.09, both from SVCChaos (set1 and set2), that pin is natively configured as NC, but artificially fixed on set2 by wirewraps.
 
 '''NOTE4:''' In MVH release '''2003.11.03 (KOF2003) only''', there is one configuration change that not appear in any other board AES, MVS or MVH. '''The pin 152 is connected to VCC'''. This require further investigation to check what's being switched. Perhaps from 64mbits to 128Mbits?
 
 '''NOTE5:''' In MVH (ALL) the pins: 
        189 is connected to through buffer driver to A22 (128Mbit), 
        190 and 191 are pre-connected to the buffer drivers and left as NCs from there. 
        The assumption here is that the CMC is ready for bigger C Roms (256Mbit and 512Mbit). 
        Question: Would be easy left them shorted to VCC or GND. Why make parallel tracks without necessity?).

[[Category:Chips]]

{{ChipInfo
|picture=aes_d0.jpg
|pkg=QFP64R
|manu=fujitsu
|date=1990 ?
|gates=
|used_on={{PCB|MV4}} and many more...
}}

* Clock divider
* {{Chipname|Z80}} memory and [[Z80 port map|port]] control
* {{Chipname|YM2610}} interface
* [[Memory card]] bank selection
* [[Joypad]] outputs

Maybe similar to {{Chipname|NEO-SUD}} on the NeoGeo CD. Close to the audio hardware.

=Pinout=

{{Pinout|NEO-D0|640}}


=Internal schematic of Z80 section=

[[File:Neo-d0_sd.png]]

=NEC Board AES Version (NEO-D0 made with TTL Logic) =

[[File:Neo-d0 Board NEC.png]]

=Signals=

* {{Sig|D*|D*}}: {{Chipname|68k}} data bus for [[joypad]] outputs
* {{Sig|BNK*|BNK*}}: [[Memory card]] upper address lines to {{Chipname|NEO-E0}}
* {{Sig|A4|A4}}: 68k address line for decoding
* {{Sig|6116CS|6116CS}}: [[Z80 RAM]] select
* 2610*: YM2610 control outputs
* {{Sig|OUT*|OUT*}}: Joypad outputs
* {{Sig|SDMRD|SDMRD}}: Z80 ROM/RAM read
* {{Sig|SDMRW|SDMRW}}: Z80 RAM write
* {{Sig|SDRD*|SDRD*}}: Z80 port read to {{Chipname|NEO-ZMC}} in cartridge
* {{Sig|SDZ80CLR|SDZ80CLR}}: Clear command code in {{Chipname|NEO-C1}}
* {{Sig|SDZ80RD|SDZ80RD}}: Read command code from {{Chipname|NEO-C1}}
* {{Sig|SDZ80WR|SDZ80WR}}: Write reply code to {{Chipname|NEO-C1}}

[[Category:Chips]]

{{ChipInfo
|picture=neo-dcr-t.jpg
|pkg=QFP100R
|manu=toshiba
|date=1995 ?
|gates=
|used_on={{PCB|MV1B}} ...
}}

Chip found on late [[MVS hardware|MVS]] boards and next to the [[Hardware DIPs|DIP switches]] on [[ROM-Only boards]].

* Address decoding
* Coin I/O
* [[Memory_mapped_registers#System_registers|System register]]
* [[Wait cycle]] generator

=Pinout=

{{Pinout|NEO-DCR|900}}

* DIPRD0 and DIPRD1 go to a {{Chipname|NEO-BUF}} chip to gate the remaining DIP switch bits and RTC inputs
* Pin 85 might be an input
* No [[memory card]] control signals ?

[[Category:Chips]]

{{ChipInfo
|picture=aes_e0.jpg
|pkg=QFP64R
|manu=fujitsu
|date=1991 ?
|gates=
|used_on={{PCB|NEO-AES3-3}} ...
}}

Just a 24-bit buffer and logic for [[68k vector table]] swapping.

=68k vector table swapping=
The 68k vector table seen by the 68k is selected by writing to {{Reg|REG_SWPROM}} (table from the game) or {{Reg|REG_SWPBIOS}} (table from the [[system ROM]]).

A22Z and A23Z are used in place of A22 and A23 to make the address appear to address decoding chips as a system ROM access instead of a [[P ROM]] access.

The {{Sig|VEC|VEC}} signal comes from the 74H259 system latch.

*A Bios CRC Error could be a faulty NEO-E0

{|class="wikitable"
!rowspan=2|Address||colspan=2|Maps to
|-
!VEC = 0||VEC = 1
|-
|$000000~$00007F||$C00000~$C0007F||$000000~$00007F
|-
|$000080~$BFFFFF||colspan=2|No change
|-
|$C00000~$C0007F||$000000~$00007F||$C00000~$C0007F
|-
|$C00080~$FFFFFF||colspan=2|No change
|}

Verilog from [[User:Kyuusaku]]:
&lt;pre>{A23Z,A22Z} = A[23:22] ^ 2{~|{A[21:7],^A[23:22],VEC}}&lt;/pre>

=Pinouts=

==Input to output map==

* 64 -> 5
* 1 -> 6
* 2 -> 7
* 3 -> 8
* 4 -> 9
* 15 -> 11
* 16 -> 12
* 17 -> 13
* 18 -> 14
* 19 -> 22
* 20 -> 23
* 21 -> 24
* 31 -> 27
* 32 -> 28
* 33 -> 29
* 34 -> 30
* 36 -> 39
* 37 -> 40
* 38 -> 41
* 48 -> 43
* 49 -> 44
* 50 -> 45
* 51 -> 46
* 52 -> 47
* 53 -> 55 if VEC is high
* 54 -> 56 if VEC is high

==Console==

On the AES, the AND gate is used to make /SROMOE from (/SROMOEL AND /SROMOEU).

==MV2B &amp; MV2-01 @ H7 pinout==

* 55 = sPCK1B
* 56 = sPCK2B
[[P_bus]] buffer

==MV2B @ G2 pinout==

{|
|
[[File:Neo-e0_G2_pinout.png|512px]]

OpenOffice Draw file: [[File:Neo-e0_mv2b_G2.odg]]
|
*A1~A23: [[68k]] address bus
*MCA0~MCA23: [[memory card]] address bus
*BNK0~BNK2: memory card banking from [[NEO-D0]]
*VEC: [[System ROM]] vector table swapping enable
|}

==MV2B @ F7 pinout==

{|
|
[[File:Neo-e0_F7_pinout.png|512px]]

OpenOffice Draw file: [[File:Neo-e0_mv2b_F7.odg]]
|
Acts just as a buffer.

*s*: signals to both slots
|}

==MV2F @ E1 pinout (to be confirmed) and AES==

{|
|
[[File:Neo-e0_pinout.png|512px]]

OpenOffice Draw file: [[File:neo-e0.odg]]
|
*A1~A23: 68k address bus
*Y0~Y23: memory card address bus
*BNK0~BNK2: comes from [[NEO-D0]], [[memory card]] bank
*VEC: System ROM vector table swapping
*ANI0, ANI1, AND0: AND gate used to generate ROMOE from (ROMOEU and ROMOEL)
|}

[[Category:Chips]]

[[File:aes_biosep0.jpg|right|thumb|Toshiba EP0 System ROM found on an AES board]]

EP0 is the name of the 128kB ROM containing the [[68k]] code for the system ROM embedded in AES systems.

It's mapped in the [[68k memory map|68k's address space]] from $C00000 to $C1FFFF, and mirrored over to $D00000.

See [[System ROM]].

[[Category:Chips]]

{{ChipInfo
|picture=mvs_f0.jpg
|pkg=QFP64R
|manu=fujitsu
|date=1991 ?
|gates=
|used_on={{PCB|MV1FZS}} {{PCB|MV1-1}} ...
}}

MVS specific chip.

* [[RTC]] interface
* [[Hardware DIPs]] and cab switches reading
* [[Coin counter]]s interface
* LEDs and [[marquee]] outputs
* Slot selection for multi-slot boards

Note: {{Sig|SYSTEMB|SYSTEMB}} is used to gate the SLOT* outputs.

=Pinout=

{{Pinout|NEO-F0|640px}}

=Signals=

==CPU==
*A4~A7: [[68k]] address bus
*D0~D7: 68k data bus

==RTC==
4990*: [[uPD4990]] RTC interface

IN3 {{Sig|DIPRD1|DIPRD1}}: Output IN300~IN304 to D0~D4 and CALTP/CALDOUT to D6/D7 (read $320001). D5 is IN00 ?

==I/O==
{{Sig|DIPRD0|DIPRD0}}: Output to D0~D7 depending on state of A7:
* A7 low: output dipswitch states DIP00~DIP07 (read $300001)
* A7 high: output IN01 to D7 (test switch) and TYPE to D6 (read $300081)

==Slot select==
*SLOTA~SLOTC: binary slot selection
*SLOT0~SLOT5: decoded slot selection (active low)

=Connections=
MV1F:
*IN00: Ground
*IN01: Test switch
*IN300: P1 Coin switch
*IN301: P2 Coin switch
*IN302: Service switch
*IN303/IN304: VCC

MV2B:
*IN303: NEO-E0 H6 50 (BNK0)
*IN304: 3 of PRO-C0, NEO-E0 H6 48

[[Category:Chips]]

[[File:Ftc1b.jpg|thumb|Picture courtesy of [[http://www.mvs-scans.com MVS-Scans]]. EDGE1 is on the right, EDGE2 on the left.]]

[[Multiplayer]] [[extension board]] used with [[Kizuna Encounter - Super Tag Battle]] to allow 4 players to play on the same system. It forms a Y splitter with 2 [[JAMMA connector pinout|JAMMA]] edges to connect two displays, two pair of speakers and two sets of 2-player controls.

It multiplexes the inputs by using selection signals coming from a 4-wire (actually 2 used) cable that connects to the [[output port]] of the {{PCB|MV1B}} or {{PCB|MV1C}}, it also provides video signal buffering and power for the speakers ([[power amp]] under the heatsink).

=Inputs=

The {{Reg|REG_POUTPUT}} register is used to detect the board and select which set of inputs to read.
* OUT1: set selection
* OUT2: seems unused
* OUT3: used for board detection by some versions of the [[system ROM]]

{|class="wikitable"
!OUT1||P1 reads||P2 reads
|-
|low||EDGE 1 P1||EDGE 2 P1
|-
|high||EDGE 1 P2||EDGE 2 P2
|}

When OUT3 is high, it simulates presses on particular buttons:
* EDGE 1 player 1 button A
* EDGE 2 player 1 button A
* EDGE 1 player 2 button B
* EDGE 2 player 2 button B

=Schematic=

[[File:Ftc1b_schematic.png|800px]]

[[Category:Cartridge systems]]
[[Category:Chips]]

{{ChipInfo
|picture=Aes_g0.jpg
|pkg=QFP64R
|manu=fujitsu
|date=1992 ?
|gates=
|used_on={{PCB|MV2B}} ...
}}

Quadruple 245 with additional OR and AND gates. Predecessor of {{Chipname|NEO-BUF}}.

=Internal logic=

Schematic is wrong: A and B sides are flipped !

{|
|
[[File:neo-g0_internal.png]]
|
*Pin 51 is enable for MCD0~MCD15
*Pin 39 is enable for PALD0~PALD15
*Pin 40 is direction select for D0~D7
*Pin 52 is direction select for D8~D15
|}

=Pinouts=

==AES==

Palette RAM and memory card access. Palette RAM /WE and P1 ROM /OE generation.

{|
|
{{Pinout|NEO-G0_aes|512}}
|
*D0~D15: [[68k]] data bus
*PALD0~PALD7: Lower [[palette RAM]] data bus
*PAUD0~PAUD7: Upper palette RAM data bus
*MCD0~MCD15: [[Memory card]] data bus

*PAL: Palette RAM address decode from [[NEO-C1]]
*R/W: R/W from 68k
*PALWE: Palette RAM /WE, output made from PAL OR R/W

*ROMOEL, ROMOEU: from PRO-C0
*ROMOE: Cartridge [[P ROM]] /OE, output made from ROMOEU AND ROMOEL
|}

&lt;div style="clear: left;">&lt;/div>

==MV2B==

&lt;gallery>
File:Neo-g0_J4_pinout.png|J4: 68k data bus access for both slots. DS0,DS1: Slot 68k data enables from [[NEO-I0]]. OpenOffice Draw file: [[File:neo-g0_mv2b_J4.odg]]
File:Neo-g0_J12_pinout.png|J12: ADPCM buses access for both slots. 10 AS04: negated /ROE from YM2610, 12 AS04: negated /POE from YM2610. SLOT0, SLOT1: enables from [[NEO-F0]]. OpenOffice Draw file: [[File:neo-g0_mv2b_J12.odg]]
File:Neo-g0_C7_pinout.png|B7: Palette RAM and memory card access. Palette RAM /WE and System ROM /OE generation. 28 C0 (PAL ?):Palette RAM address decode from [[PRO-C0]]. OpenOffice Draw file: [[File:neo-g0_mv2b_C7.odg]]
&lt;/gallery>

[[Category:Chips]]

{{ChipInfo
|picture=cd2_grc.jpg
|pkg=QFP208
|manu=fujitsu
|date=1994 ?
|gates=
|used_on={{PCB|NEO-CDM3-2 board}} {{PCB|MV1A}}
}}

First version of the all-in-one video controller, used in [[CD_hardware_versions|CD systems]] (except CDZ) and some MVS boards.

Regroups {{Chipname|LSPC2-A2}}, {{Chipname|NEO-B1}} and upper [[VRAM]].

Later version: {{Chipname|NEO-GRC2}}.

=Pinout=

[[File:Neo-grc_pinout.png|640px]]

{{ChipInfo
|picture=Neo-grc-t.jpg
|pkg=QFP208
|manu=toshiba
|date=1995 ?
|gates=
|used_on=Some {{PCB|MV1ACH}}
}}

OpenOffice Draw file: [[File:Neo-grc.odg]]

Pin 203 = 68KCLKB, thanks Rom1

[[Category:Chips]]

#REDIRECT [[NEO-GRC2]]

{{ChipInfo
|picture=Neo-grc2-f.jpg
|pkg=QFP208
|manu=fujitsu
|date=1995 ?
|gates=
|used_on={{PCB|MV1B}}
}}

Second version of the all-in-one [[VDC]].

Has embedded fast [[VRAM]], which means that [[VIDEO RAM ERROR]]s at or above $8000 on boards using this chip are bad news.

Also has embedded [[palette RAM]], so [[COLOR RAM ERROR]]s are equally bad news.

Slow VRAM is still external.

On Mv1b, pin 204 is 68clk

=Pinout=

[[File:Neo-grc2_pinout.png|800px]]

[[File:Neo-grc2.odg]]

[[Category:Chips]]

[[File:brd_grz.jpg|thumb|NEO-GRZ chip. Picture courtesy of [[http://www.mvs-scans.com MVS-Scans]].]]

Very late (last ?) revision of the [[NEO-GRC2]] chip, used on the [[MV1C]], [[CDZ]] and [[ROM-Only boards|ROM-only arcade boards]].

Integrates the video logic, fast VRAM, palette RAM, the line buffers and the [[L0 ROM]] in one chip. Slow VRAM is still external.

Palette RAM and video RAM errors above $8000 are generally bad news.

Uses a 3.3V power supply for its core, 5V for i/o.

[[Category:Chips]]

[[File:hycs.jpg|thumb]]
[[File:hycs.png|thumb]]

Original bodge board from SNK to fix [[V ROM]] selection on a few {{PCB|PROGBK2R}} and {{PCB|PROGBK3R}} based carts:

* [[SNK_vs._Capcom_-_SVC_Chaos]]
* [[Samurai_Shodown_V]]

Apparently used to disable the V1 ROM for a short period at power on, possibly to allow [[NEO-PCM2]] to read the decryption parameters properly. Removing the board causes corrupt sound or games to show a "bank error".

MM311: Mitsumi PST600D reset generator (4.2V threshold). Forces V1 /CS high at startup, then lets the PCM2 signal through.

[[Category:Cartridge systems]]
[[Category:Chips]]

{{ChipInfo
|picture=neo-i0.jpg
|pkg=QFP64R
|manu=fujitsu
|date=1990 ?
|gates=
|used_on={{PCB|MV2B}} {{PCB|MV1-1}} ...
}}

MVS specific chip that does a bunch of unrelated things.

* [[S ROM]] 16bit address latch for the [[SFIX ROM]], same as S ROM portion of {{Chipname|NEO-273}}
* [[SM1]] /CS output when {{Chipname|Z80}} is reading from ROM and onboard ROMs are enabled
* {{Sig|ROMOE|ROMOE}} output for cartridge(s) [[PROG board]]
* Video sync inversion (or not) to [[JAMMA_connector_pinout|JAMMA connector]]
* [[Coin counter]] and [[coin lockout]] outputs

=Pinout=

{{Pinout|NEO-I0|640px}}

*A1~A3,A7: {{Chipname|68k}} address bus
*P0~P15: [[P bus]]
*Q01~Q18: [[SFIX ROM]] address lines
*SM1CS(ORO0): [[SM1]] ROM chip select, made from SYSTEM(ORI0) OR SDROM(ORI1)
*SYNCOUT = SYNCIN XOR SYNCREV (SYNCREV always tied to ground ?)
*Q21, Q22: METER1, METER2
*Q23, Q24: LOCK1, LOCK2
*DS0, DS1: Data select for 2-slot systems made from SLOT0, SLOT1, PORTADRS and ROMOE, goes to a {{Chipname|NEO-G0}}
*COUNTOUT: Address decode from {{Chipname|NEO-F0}}

[[Category:Chips]]

{{ChipInfo
|picture=cd2_mga.jpg
|pkg=QFP160
|manu=toshiba
|date=1994 ?
|gates=?
|used_on={{PCB|MV1A}}...
}}

Just {{Chipname|NEO-MGA}} made by Toshiba instead of Fujitsu.

Both are pin-compatible and can be swapped.

[[Category:Chips]]

{{ChipInfo
|picture=cd1_neo-mga.jpg
|pkg=QFP160
|manu=fujitsu
|date=1994 ?
|gates=?
|used_on={{PCB|CDROM-2 board|CDROM-2}}, {{PCB|MV1A}}...
}}

Multi-purpose chip found in CD systems and some late MVS boards:
* NEO-MGA in the CD1 model (front loading).
* {{Chipname|NEO-MGA-T}} in the CD2 model (top loading) and {{PCB|MV1A}} MVS boards, can be swapped with NEO-MGA.
* {{Chipname|NEO-MGA2-SA}} in the [[CDZ]], replaces the {{Chipname|LC8953}} ?

It is used for address decoding, communication with the [[CD drive]], for refreshing {{Chipname|68k}} [[DRAM]], and for buffering serial [[CDDA]] data.

=CD pinout=

Pin 93: GND !

[[File:Neo-mga_CD_pinout.png|700px]]

[[File:Neo-mga_cd.odg]]

=MV1A pinout=

[[File:Neo-mga_MV1A_pinout.png|700px]]

[[File:Neo-mga_mv1a.odg]]

=Signals=

* DRM*, RAS, CAS, WRITE: See TC514400 DRAM datasheet.
* X*: See [[LC8953]] datasheet.

[[Category:Chips]]

{{ChipInfo
|picture=cd2_ofc.jpg
|pkg=QFP144
|manu=fujitsu
|date=1994 ?
|gates=
|used_on={{PCB|NEO-CDM3-2 board}}, {{PCB|NEO-CDM4-2_board}}...
}}

[[DRAM]] interface for [[sprites|sprite]] graphics in [[CD systems]].

[[Category:Chips]]

{{ChipInfo
|picture=brd_pcm2.jpg
|pkg=QFP120
|manu=fujitsu
|date=2001 ?
|gates=
|used_on=[[Cartridges]], [[ROM-Only boards]]
}}

Second version of {{Chipname|PCM}}. [[V ROM]] (de)multiplexer, decryption and [[P ROM]] banking chip.

=Pinout=

[[File:Neo-pcm2_pinout.png|800px]]

OpenOffice Draw file: [[File:neo-pcm2.odg]]

[[Category:Chips]]

[[File:Neo-power-0.jpg|thumb|Photo stolen from Photobucket user kyo_244.]]

NEO-POWER-0 is an add-on board found in some late first generation home consoles ([[NEO-AES board]]).

It was probably added to prevent users from frying their system by using [[Power_requirements|9V power supplies]].

The board itself is a simple step-down converter, allowing to safely use voltages up to 12V.

The circuit was then included as part of later revisions of the main board.

=Pinout=

Red: 5V out. Yellow: 7.5V to 12V. Black: ground.

[[Category:Base system]]

{{ChipInfo
|picture=brd_pvc.jpg
|pkg=QFP144
|manu=fujitsu
|date=2003 ?
|used_on={{PCB|Cartridges}} {{PCB|MV1FZS}}...
}}

Chip used for bankswitching and security. Connected to the [[P ROM]]s in [[ROM-Only boards|ROM-only]] boards and late cartridges: [[SNK vs. Capcom - SVC Chaos]], [[Metal Slug 5]] and [[The King of Fighters 2003]]. 

Has 8KiB of embedded RAM organized as 4096 16bit words (maybe just 4080 words ?).

From [[https://github.com/mamedev/mame/blob/master/src/devices/bus/neogeo/prot_pvc.cpp#L83 MAME's source]]:

Accesses are done in the [[68k memory map|$2FE000~$2FFFFF range]].

=Bankswitching=

The data mapped to $200000~$2FDFFF comes from ROM address {$2FFFF2, $2FFFF0 MSB} + $100000.

''Example'': if $0131 is written to $2FFFF2, and $2A00 is written to $2FFFF0, the data mapped starts at $11312A.

=Protection: color=

The chip provides two functions to pack and unpack colors. This is merely to make the games depend on the hardware to work correctly.

* Pack: Write ---GGGGg---BBBBb to $2FFFE8, and -------D---RRRRr to $2FFFEA, get the regular [[palettes|palette]] word from $2FFFEC (DrgbRRRRGGGGBBBB).
* Unpack: Write a palette word to $2FFFE0, get R/G/B values from $2FFFE2 (000GGGGg000BBBBb) and $2FFFE4 (0000000D000RRRRr).

=Protection: scrambling=

The P ROMs data is scrambled. Unscrambling is done on the fly by this chip. Each game has a different algorithm/table.

[[Category:Chips]]

{{ChipInfo
|picture=neo-sdr-t.jpg
|pkg=QFP100R
|manu=toshiba
|date=1994 ?
|gates=
|used_on={{PCB|MV1B}} {{PCB|MV1C}} {{PCB|Neo Print}}...
}}

Chip found on late [[MVS hardware|MVS]] boards. 

* [[Joypad]] I/O
* {{Chipname|Z80}} address and port decoding
* [[68k/Z80 communication]] latches and interrupt generation, similarly to {{Chipname|NEO-D0}}
* [[68k]] interrupts latch ?

=Pinout=

{{Pinout|NEO-SDR|900px}}

[[Category:Chips]]

[[File:cd2_sft.jpg|right|thumb|NEO-SFT chip found on a CDM3-2 board.]]

"Sprite F T" ?

Found in CD systems, next to [[NEO-GRC]] and [[NEO-OFC]].

[[Category:Chips]]

{{ChipInfo
|picture=crt_sma.jpg
|pkg=QFP144
|manu=Seiko Epson
|date=1999 ?
|gates=?
|used_on={{PCB|PROGLBA}} {{PCB|PROGSMA}}
}}

Info from [[https://github.com/mamedev/mame/blob/master/src/devices/bus/neogeo/sma.cpp MAME's source]]

Security chip found connected to the [[P ROM]]s in [[The King of Fighters '99 - Millennium Battle]] (not all sets), [[The King of Fighters 2000]] (not all sets), [[Metal Slug 3]] (not all sets) and in [[Garou - Mark of the Wolves]] (all sets) [[cartridges]]. Bankswitches the [[68k memory map|second megabyte]] ($200000~$2FFFFF) of P ROM space and provides a 16bit pseudo-random number generator.

Upon system reset, the PRN is initialized to $2345.

The chip always (?) replies $9A37 on reads.

The stamp marking suggests that it is a programmable chip (OTP ?).

=Pinout=

{{Pinout|NEO-SMA|640}}

Pin list by [[User:hpman]].

=PRNG=

16bit LSFR with taps at bits 2, 3, 5, 6, 7, 11, 12, 15. Each read steps the register.

[[File:Smalfsr.png]]

=Bankswitching=

Bankswitching is done by unscrambling the written bank number and using a 64 entry (256 bytes) lookup table to map the P ROM into $200000~$2FFFFF.

==KOF 99==

[[File:Smabskof99.png|300px|thumb]]

*Bankswitching write at $2FFFF1
*Read chip presence at $2FE447
*PRN at $2FFFF8 and $2FFFFA

Bankswitch LUT (P2 ROM address):

{|class="wikitable"
! !!0!!1!!2!!3!!4!!5!!6!!7!!8!!9!!A!!B!!C!!D!!E!!F
|-
!0
|$000000||$100000||$200000||$300000||$3CC000||$4CC000||$3F2000||$4F2000||$407800||$507800||$40D000||$50D000||$417800||$517800||$420800||$520800
|-
!1
|$424800||$524800||$429000||$529000||$42E800||$52E800||$431800||$531800||$54D000||$551000||$567000||$592800||$588800||$581800||$599800||$594800
|-
!2
|$598000||?||?||?||?||?||?||?||?||?||?||?||?||?||?||?
|-
!3
|?||?||?||?||?||?||?||?||?||?||?||?||?||?||?||?
|}

==Garou==

*Bankswitching write at $2FFFC0
*Read chip presence at $2FE447
*PRN at $2FFFCC and $2FFFF0


"KF" chip revision:

Bank scambling=12,14,6,7,9,5

{|class="wikitable"
! !!0!!1!!2!!3!!4!!5!!6!!7!!8!!9!!A!!B!!C!!D!!E!!F
|-
!0
|$000000||$100000||$200000||$300000||$280000||$380000||$2D0000||$3D0000||$2F0000||$3F0000||$400000||$500000||$420000||$520000||$440000||$540000
|-
!1
|$498000||$598000||$4A0000||$5A0000||$4A8000||$5A8000||$4B0000||$5B0000||$4B8000||$5B8000||$4C0000||$5C0000||$4C8000||$5C8000||$4D0000||$5D0000
|-
!2
|$458000||$558000||$460000||$560000||$468000||$568000||$470000||$570000||$478000||$578000||$480000||$580000||$488000||$588000||$490000||$590000
|-
!3
|$5D0000||$5D8000||$5E0000||$5E8000||$5F0000||$5F8000||$600000||?||?||?||?||?||?||?||?||?
|}

"KE" chip revision:

Bank scambling=13,11,2,14,8,4

{|class="wikitable"
! !!0!!1!!2!!3!!4!!5!!6!!7!!8!!9!!A!!B!!C!!D!!E!!F
|-
!0
|$000000||$100000||$200000||$300000||$280000||$380000||$2D0000||$3D0000||$2C8000||$3C8000||$400000||$500000||$420000||$520000||$440000||$540000
|-
!1
|$598000||$698000||$5A0000||$6A0000||$5A8000||$6A8000||$5B0000||$6B0000||$5B8000||$6B8000||$5C0000||$6C0000||$5C8000||$6C8000||$5D0000||$6D0000
|-
!2
|$458000||$558000||$460000||$560000||$468000||$568000||$470000||$570000||$478000||$578000||$480000||$580000||$488000||$588000||$490000||$590000
|-
!3
|$5D8000||$6D8000||$5E0000||$6E0000||$5E8000||$6E8000||$6E8000||$000000||$000000||$000000||$000000||$000000||$000000||$000000||$000000||$000000
|}

==Metal Slug 3==

[[File:Smabsms3.png|300px|thumb]]

*Bankswitching write at $2FFFE5
*Read chip presence at $2FE447
*PRN at $2FFFF8 and $2FFFFA

Bankswitch LUT (P2 ROM address):

{|class="wikitable"
! !!0!!1!!2!!3!!4!!5!!6!!7!!8!!9!!A!!B!!C!!D!!E!!F
|-
!0
|$000000||$020000||$040000||$060000||$070000||$090000||$0B0000||$0D0000||$0E0000||$0F0000||$120000||$130000||$140000||$150000||$180000||$190000
|-
!1
|$1A0000||$1B0000||$1E0000||$1F0000||$200000||$210000||$240000||$250000||$260000||$270000||$2A0000||$2B0000||$2C0000||$2D0000||$300000||$310000
|-
!2
|$320000||$330000||$360000||$370000||$380000||$390000||$3C0000||$3D0000||$400000||$410000||$440000||$450000||$460000||$470000||$4A0000||$4B0000
|-
!3
|$4C0000||?||?||?||?||?||?||?||?||?||?||?||?||?||?||?
|}

==KOF 2000==

[[File:Smabskof2k.png|300px|thumb]]

*Bankswitching write at $2FFFED
*Read chip presence at $2FE447
*PRN at $2FFFD8 and $2FFFDA

Bankswitch LUT (P2 ROM address):

{|class="wikitable"
! !!0!!1!!2!!3!!4!!5!!6!!7!!8!!9!!A!!B!!C!!D!!E!!F
|-
!0
|$000000||$100000||$200000||$300000||$3F7800||$4F7800||$3FF800||$4FF800||$407800||$507800||$40F800||$50F800||$416800||$516800||$41D800||$51D800
|-
!1
|$424000||$524000||$523800||$623800||$526000||$626000||$528000||$628000||$52A000||$62A000||$52B800||$62B800||$52D000||$62D000||$52E800||$62E800
|-
!2
|$618000||$619000||$61A000||$61A800||?||?||?||?||?||?||?||?||?||?||?||?
|-
!3
|?||?||?||?||?||?||?||?||?||?||?||?||?||?||?||?
|}

[[Category:Chips]]

{{ChipInfo
|picture=cd2_sud.jpg
|pkg=QFP100R
|manu=yamaha
|date=1994 ?
|gates=
|used_on={{PCB|CDM3-2}}...
}}

Memory mapper and handler for the {{Chipname|Z80}}, it also buffers incoming sound commands from the {{Chipname|68k}}.

=Pinout=

=Signals=

[[Category:Chips]]

[[File:cd2_voc.jpg|right|thumb|NEO-VOC chip on a CDM3-2 board.]]

Used to handle ADPCM [[DRAM]] in CD systems. Yamaha markings.

[[Category:Chips]]

{{ChipInfo
|picture=Cd2_ysa.jpg
|pkg=QFP160
|manu=yamaha
|date=1994 ?
|gates=A lot !
|used_on={{PCB|NEO-CDM4-1|NEO-CDM4-1 board|}}
}}

NEO-YSA is an SNK ASIC regrouping (at least) the {{Chipname|YM2610}}, {{Chipname|NEO-VOC}} and {{Chipname|NEO-SUD}} chips.
The output is compatible with the {{Chipname|LC78815}} DAC and therefore does not need a {{Chipname|YM3016}}.

The next version is {{Chipname|NEO-YSA2}}.

=Pinout=

To do.

[[Category:Chips]]

{{ChipInfo
|picture=brd_ysa2.jpg
|pkg=QFP144
|manu=yamaha
|date=1999 ?
|gates=A lot !
|used_on={{PCB|MV1C|}}, [[CDZ]], [[ROM-Only boards]]...
}}

Later version of the {{Chipname|NEO-YSA}} chip. Contains a {{Chipname|YM2610}}, the {{Chipname|Z80}} CPU and its [[Z80 RAM|RAM]]. It is also used to handle player input.

Can be used with a [[http://www.datasheetcatalog.org/datasheet/rohm/bu9480f.pdf BU9480F]] 16bit stereo DAC.

=Pinout=

{{Pinout|NEO-YSA2|640}}

Pin 23: Input, read REG_STATUS_B.

=Test points=

Waveforms on test points during crosshatch screen:

&lt;gallery>
Neo-ysa2_tp4.png|TP4
Neo-ysa2_tp5.png|TP5
Neo-ysa2_tp6.png|TP6
Neo-ysa2_tp7.png|TP7
Neo-ysa2_tp8.png|TP8
&lt;/gallery>

TP9, TP10 (under the board) and TP11 are all high.

[[Category:Chips]]

{{ChipInfo
|picture=crt_zmc.jpg
|pkg=SOIC24
|manu=fujitsu
|date=1991 ?
|gates=
|used_on=[[cartridges]]
}}

{{Chipname|Z80}} '''M'''emory '''C'''ontroller. Handles the [[Z80]] bankswitching in cartridges. To save pins, the Z80's upper address line are also used as data input. The chip's write strobe SDRD0 is [[Z80 port map|port]] address decoded inside the system.

=Pinout=

{{Pinout|NEO-ZMC|512}}

Pins 10, 11, 12 may be M1 higher address bits ?

* SDA0, SDA1, SDA8~15: Z80 address bus
* M1 A11~M1 A18: [[M1 ROM]] address lines
* SDRD0: Decoded write signal from {{Chipname|NEO-D0}} (latch on rising edge)

=Operation=

SDA8~SDA15 are used for the bank number (data), SDA0 and SDA1 for selecting the window.

{|class="wikitable"
!SDA1
!SDA0
!Z80 port
!Window
!Address range
!Size
!Latch size
|-
|0||0||$08||0||$F000~$F7FF||2KiB||8 bits
|-
|0||1||$09||1||$E000~$EFFF||4KiB||7 bits
|-
|1||0||$0A||2||$C000~$DFFF||8KiB||6 bits
|-
|1||1||$0B||3||$8000~$BFFF||16KiB||5 bits
|}

==Details==
[[File:Neo-zmz_operation.png|thumb]]

SDRD0 must be high before configuring banks.

To configure a bank to be accessed (e.g. bank 1 in the $8000~$BFFF range):
* Set SDRD0 low (prepare for new bank configuration, outputs are tri-stated)
* Set SDA0~15 = '''$8103''', select 16KiB bank 1 in window 3 (Why $8103 and not just $0103 ?)
* Set SDRD0 high (latch bank, ready to convert inputs to proper output signals)
* Now, when the Z80 reads the '''$8000~BFFF''' range, NEO-ZMC will map this to the M1 ROM zone '''$04000~$07FFF'''

[[Category:Audio system]]
[[Category:Chips]]

{{ChipInfo
|picture=mvs_zmc2.jpg
|pkg=QFP80R
|manu=fujitsu
|date=1990
|gates=
|used_on={{PCB|MV1FZS}} [[Cartridges]]...
}}

{{Chipname|NEO-ZMC}} and {{Chipname|PRO-CT0}} in one package.

Can address up to 4MiB of [[M1 ROM]].

Found in second revision [[MVS hardware|MVS]] boards (for the PRO-CT0 logic only), and AES cartridges.

=Pinout=

{{Pinout|NEO-ZMC2|640px}}

NEO-ZMC part:
*SDA0,SDA1,SDA8~SDA15: [[Z80]] address bus 
*MA11~MA21: M ROM address outputs 

PRO-CT0 part, inputs:
*12M: 12MHz clock, outputs next pixel on falling edge.
*C0~C31: C ROM data bus (2*16 bits). Gives all the pixel data needed for a 8 pixel line.
*H: When high, reverse bit order of pixels shifted out (used for [[sprites]] horizontal flipping)
*EVEN: Swap A/B pixels.
*LOAD: Latch C ROM data on rising edge of 12M.
Outputs:
*DOTA: High when pixel A is opaque (color > 0)
*DOTB: High when pixel B is opaque (color > 0)
*GAD0~GAD3: Pixel A color index
*GBD0~GBD3: Pixel B color index

[[Category:Chips]]

NG:DEV.TEAM is a German video game development company founded and held by Timm and René Hellwig, most known for having released unlicensed games for the NeoGeo AES, MVS and CD.

==Technology==

It is unknown if the Hellwig brothers actively participated in the development on the cartridges and programmer, or if an independent design office was contracted.

The cartridges are flash-based, and edge programmable with the addition of a ribbon cable for /WE and /CE signals with a custom made programmer visible in a picture from [[http://www.facebook.com/ngdevteam?v=wall NG:DT's Facebook account]].

The PROG boards host 3.3V flash for P and PCM-A only, along with a huge LPC2468F NXP microcontroler and other chips such as Cypress dual port RAM and Xilinx CPLDs, depending on versions.

The CHA boards are only made of flash and buffer chips. All the boards are 4 layers.

The programmer hosts a similar NXP microcontroller, 2 Xilinx Spartans for signal routing and one slot for each kind of board (AES/MVS). It is apparently able to program AES and MVS boards from files on a SD card, or via USB.

Production cost estimation:

[[Category:Games]]

[[Image:NGEM2K-gameover.png|thumb|Screenshot of cart version]]
[[NGEM2K]] is a small homebrew puzzle game made by [[User:Blastar]].

== Technical features  ==
CD version:
* Uses [[DRAM upload]]s for graphics
* Fits in one [[PRG file]] (2048 bytes)

[[Category:Games]]

[[Image:NGFX.png|thumb|right|NGFX editor main interface.]]
'''NGFX''' is a graphics viewing and editing program by blastar. Other programs in the NGFX suite include a color fade calculator and an image grid and map tool.

==Links==
* [http://blastar.citavia.de/ blastar's site]

[[Category:Tools]]
[[Category:Graphics Tools]]

"Neo-Geo Graphic Tool Suite" by evo.

Found as an archive including 4 executables and a text file.

Decode.exe and Recode.exe are used for [[Sprite graphics format|sprite tiles]], decode8.exe and recode8.exe for [[Fix graphics format|fix tiles]].

The decoders take two [[C ROM]]s or one [[S ROM]] and output a 4BPP SNES planar type file compatible with [[YY-CHR]] and [[Tile molester]]. Recorders do exactly the opposite.

===Warning===

It seems recode8.exe is broken, it inverts some color indexes:

&lt;pre>
Normal  Converted
0	0
1	1
2	2
3	5
4	3
5	7
6	9
7	B
8	4
9	8
A	A
B	C
C	6
D	D
E	E
F	F
&lt;/pre>

This isn't a problem when editing existing ROMs without knowing the palettes, but becomes one when importing converted graphics.

[[Category:Tools]]
[[Category:Graphics Tools]]

The NGH number is the game's unique identifier used for [[Memory card|saves and highscores]] and probably other things. It is always stored in the [[68k program header]] in BCD format at address $108. Some later unlicenced games and bootlegs use a hex value.

See [[:Category:Games]]

How can we get homebrew numbers organised ? Can this page be used as a reference for new numbers ?


==Used ranges==
*0001~0099
*0100~0199 (Korean releases, see below)
*0200~0272
*0300~0306 (NG:Dev.Team releases)


==Range 100~199 partially used by official Korean NeoGeo releases==
*0122: Pae Wang Jeon Seol (Samurai Shodown IV)
*0123: Quiz Daisousa Sen
*0124: Real Bout Fatal Fury Special
*0134: The Last Soldier (Last Blade)
*0140: Real Bout Fatal Fury 2
*0151: The King of Fighters 99 ([[NEO-SMA]] protected version)
*0152: The King of Fighters 99 
*0163: Saulabi Spirits (Samurai Shodown II)
*0187: Fighters Swords (Samurai Shodown III)
*0195: Real Bout Fatal Fury
*0196: Art of Fighting 3

While some of this range will be vacant, looking at the above, at minimum there is a very good chance of a Korean version of 'Last Blade 2' using NGH 0143.

 
==Free ranges (apart from those known to be already taken listed below)==
*0273~0299
*0401~9999(?)


==Known NGH used by unlicenced or homebrew games==
*0300: Last Hope
*0301: Fast Striker
*0302: Last Hope: Pink Bullets
*0303: Gunlord
*0304: Neo XYX
*0305: Razion
*0306: Kraut Buster (not yet released)

*03E7: V-Liner
 
*0400: Le Cortex CPHD (and also another game Astro Smash)

*0420: Xevious (tcdev) (beta)

*0421: Donkey Kong (tcdev) (not yet released)

*0422: Galaxian (tcdev) (beta)

*0423: Pengo (tcdev) (not yet released)

*0501: Knights Chance (NeoBitz)

*2000: Neo No Panepon

*9999: Neo Pong

*BB01: Xeno Crisis (Bitmap Bureau)

*FE01: Project Neon (FULLSET)

*FEDC: Super Bubble Pop

==Known NGH used by bootlegs and hacks==
*0275: The King of Fighters 10th Anniversary (bootleg)
 
*0299: Metal Slug 6 (bootleg)
*0941: Metal Slug 2 Turbo (hack)

*0F48: Treasure of the Caribbean (bootleg, not an official proto version)
 
*5003: Crouching Tiger hidden Dragon 2003 (bootleg)
*5008: The King of Fighters 10th Anniversary Extra Plus (bootleg)
*5232: King of Gladiator (bootleg)
*5246: Lansquenet 2004 (bootleg)
*9237: 161in1 Multigame (on cold boot).

==Unknown NGH numbers for known homebrew releases==
Currenty there are no known homebrew games with unknown NGH numbers.

==Other NGH oddities==
*0008: Jockey Grand Prix (this NGH is suspected to have been allocated to Sun Shine / Block Paradise)
*069C: Fatal Fury 3 (NeoGeo CD version only)
 
 
[[Category:Base system]]

[[File:MS3prog.jpg|thumb|Metal Slug 3 first revision PROG board]]

Some [[MVS cartridge]]s were shipped with a special NeoGeo Pocket cartridge-like daughterboard replacing two of the [[P ROM]]s on [[PROGLBA]] PROG boards by flash memory.

This practice is thought to have been used for shortening the time-to-market of some games, allowing to start production without having the games fully debugged. This board allowed easy servicing of first versions of the game programs: If a critical bug was found, carts could be easily reprogrammed using SNK's NGPC flash writer which was certainly sitting somewhere in their [[SNK factories|factory]].

[[Category:Chips]]
[[Category:Cartridge systems]]

[[File:NJM2066.png|right|thumb]]

The 2066 is a dual headphone driver chip commonly found as NJM 2066 or JRC 2066D .
&lt;p>This driver chip is used in the [[AES hardware|AES]] and in some [[MVS hardware|MVS]] for the headphone circuit.&lt;/p>
&lt;p>Found in DILP-16.&lt;/p>

==Pinout==

[[File:NJM2066sch.png]]

=Datasheet=

[[https://console5.com/techwiki/images/c/c1/NJM2066.pdf Original datasheet]]

[[Category:Chips]]

#REDIRECT [[NAM-1975]]

#REDIRECT [[Ninja Combat]]

#REDIRECT [[Ninja Commando]]

{{GameInfo|right
|en_title=Neo-Geo Cup '98 - The Road to the Victory
|jp_title=Neo-Geo Cup '98 - The Road to the Victory
|jp_title2=ネオジオカップ '98
|developer=SNK
|ngh_id=244
|megcount=162
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=neocup98
|mvs_date=1998
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA512Y
|aes_release=y
|aes_release_jp=y
|aes_date=30/07/98
}}

[[Category:Games]]

[[Image:Screencap_neotet.png|thumb|In-game screenshot]]
'''NeoGeo 2 Player Tetris''' is a simple Tetris game created by Crim in 2008 using the NeoBitz dev tools.

==Links==
* [https://github.com/Crim/NeoGeo-2-Player-Tetris Project on github]

[[Category:Games]]

Unofficial technical reference document for programming and repairs (or just repairs ?).

Authored with http://www.scribus.net/ (open source and free Win/Linux software)

See [[NeoGeo programming cheatsheet]].

=To add=

* Memory maps
* IC locations on boards
* SNK chip pinouts
* 74 series chip pinouts used in NeoGeo systems from http://mil.ufl.edu/3701/pinouts/

=Revisions=

* 02/14/2016: First layout proposal [[File:Ngcheatsheet 02142016.zip]]

[[Category:Repairs]]

Todo. What's to be included:

* [[68k program header|ROM header]]
* [[68k vector table]] + [[68k exception handling|exception stack frames]]
* [[68k interrupts|Interrupts]]
* [[Memory mapped registers|Memmapped registers]]
* GPU ref + timings ([[Display timing]])

==System ROM Calls==
:''Main Page: [[BIOS calls]]''

===Shared===
These calls are shared between cart systems and CD systems.

{|class="wikitable"
! Address
! Short Name
! Description
|-
| 0xC00444
| &lt;code>[[SYSTEM_RETURN]]&lt;/code>
| Returns control to the system ROM.
|-
| 0xC0044A
| &lt;code>[[SYSTEM_IO]]&lt;/code>
| Reads inputs and updates the relevant RAM locations.
|-
| 0xC00450
| &lt;code>[[CREDIT_CHECK]]&lt;/code>
| &amp;nbsp;
|-
| 0xC00456
| &lt;code>[[CREDIT_DOWN]]&lt;/code>
| &amp;nbsp;
|-
| 0xC00468
| &lt;code>[[CARD]]&lt;/code>
| Memory card handler.
|-
| 0xC0046E
| &lt;code>[[CARD_ERROR]]&lt;/code>
| &amp;nbsp;
|-
| 0xC004C2
| &lt;code>[[FIX_CLEAR]]&lt;/code>
| Clears most of the fix layer, aside from the left and rightmost sides.
|-
| 0xC004C8
| &lt;code>[[LSP_1st]]&lt;/code>
| Set up sprites.
|}

===MVS only===
These calls only work properly on MVS systems.

{|class="wikitable"
! Address
! Short Name
! Description
|-
| 0xC0045C
| &lt;code>[[READ_CALENDAR]]&lt;/code>
| Reads current calendar values into RAM.
|-
| 0xC00462
| &lt;code>[[SETUP_CALENDAR]]&lt;/code>
| Sets up the calendar.
|}

===CD only===
These calls only work properly on CD systems.

[[Category:Code]]
[[Category:Tools]]

[[Image:Screencap_neo2048.png|thumb|Screenshot]]
'''Neo 2048''' is a Neo-Geo port of the game 2048, coded by Nicole Express.

==Links==
* [http://nicole.express/2021/high-speed-coding-neo-geo.html High Speed Coding for the Neo-Geo!] (release blog post)
* [https://github.com/nicolebranagan/neo2048 GitHub repository]

[[Category:Games]]

{{GameInfo|right
|en_title=Neo Bomberman
|jp_title=Neo Bomberman
|jp_title2=ネオ・ボンバーマン
|developer=Hudson
|ngh_id=093
|megcount=138
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=neobombe
|mvs_date=1997
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Neo Drift Out - New Technology
|jp_title=Neo Drift Out - New Technology
|jp_title2=NEOドリフトアウト
|developer=Visco
|ngh_id=213
|megcount=106
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=neodrift
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256B
|cd_release=y
|cd_release_jp=y
|cd_date=26/07/96
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Neo-Geo CD Special
|jp_title=Neo-Geo CD Special
|jp_title2=
|developer=SNK
|editor=SNK
|ngh_id=205
|cd_release=y
|cd_release_jp=y
|cd_date=12/12/95
}}

[[Category:Games]]

The Neo Geo Deck "Room Amusement System" was a special version of the Neo Geo hardware meant to be used as a pay-per-play system in hotel rooms. It's basically a hardened 1-slot arcade system with a TV output.

The {{PCB|GIT-M}} main board was custom designed for the system. It uses the [[LSPC|second generation chipset]] and no special chips. A large relay on it might be used for software control of power to the TV set.

It uses a special [[system ROM]] "SP-1 V1.3 DB8C". [[Memory card]]s aren't supported but [[backup RAM]] is present. Headers and [[Pinouts#Joypad_ports|DA-15]] connectors are used for inputs.

The {{PCB|GIT-SW}} daughter board seems to be an additional video switching/conversion board (two Omron G6A-434P-12V relays and RGB amp ?).

[[Category:Cartridge systems]]

Sold by Japangameonline, uses the same components as the [[fusion converter]] except for the AND gates.

Todo: check if the CPLD bitstream is the same.

Details: [[http://bidouillouzzz.blogspot.fr/2017/10/review-du-neo-mvs-adapter-for-neo-geo.html here (FR)]].

[[Category:Cartridge systems]]

{{GameInfo|right
|en_title=Neo Mr. Do!
|jp_title=Neo Mr. Do!
|jp_title2=NEO ミスター・ドゥ!
|developer=Visco
|editor=Visco
|ngh_id=207
|megcount=50
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=neomrdo
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA42G-3B
}}

[[Category:Games]]

The Neo Print was a small photo booth from 1996 which ran on a MVS-inspired board, with a camera and printer interface. &lt;strike>Players&lt;/strike> users could overlay various frames (stored in cartridges) to their picture, before printing them to sticky photo paper.

PCB picture: http://mvs.gotwalls.com/images/e/e1/Pstm-p1_set1_top_nocover.jpg

[[File:Neoprtsize.jpg|thumb|Ridiculously small photo stickers (also called stamps).]]

It was apparently exported to the US for some time ([[https://www.youtube.com/watch?v=wxRtYq7qRu4 video ad on Youtube]]).

Note: '''Please keep all infos regarding the Neo Print on this page''' as it has little to do hardware- and software-wise with the NeoGeo game systems.

=Wiring=

From left to right, cartridge label towards you.

* VCN1: GND, GND, +5V, +5V. Draws around 2A with one cart but nothing else connected. Expect 2.5A max ?
* RGB OUT: For monitor (pinout ?)
* S-VOUT: For monitor and printer capture ?
* CCD S-VIN: Camera input, '''requires NTSC'''. Luma only (greyscale) can work.
* EX-SVIN: ?
* PRT-SVIN: Input from printer (why ?)
* FL: Flash trigger (pinout ?)
* COIN: 3rd pin is the coin switch, active low, pull high. Causes an error before attract mode if left floating.
* COUNT: 7th pin triggers test mode, active low.
* CTRL: From the 6th pin: LEFT, RIGHT, OK, CANCEL, GND. Active low.
* VCN2: 9~12V for audio amp and bulbs.

* PRT2: Printer remote. See printer's manual. Both BUSY lines can be tied together ?
* PRT1: Printer remote also (needed or just for backup ?). The BUSY line can be tied with the 2 other ones ?

To pass the printer check before attract mode, put the busy lines low for approx. 20ms after the end of each transmission on REMOTE (DIN pin 6).

=Cartridges=

* The cartridges have the exact same mechanical format as MVS cartridges.
* The [[PROG board]]s have an identical pinout, some in fact are simple MVS [[PROGBK1]] boards.
* The [[CHA board]]s are custom made for the Neo Print and have a different pinout, they have no [[fix layer|fix]] and special graphics ROMs.
* Electrical safety compatibility with MVS carts ? Apparently they just freeze on a black screen without damage.

Blue-labelled cartridges can run alone.

Pink-labelled cartridges are extensions that can only run with a blue one on 2-slots Neo Print boards (they do exist !). Those cartridges only contain graphics ROMs.

=Board=

Called PSTM-P1. Not JAMMA compatible.

* Has [[Backup RAM]] and an [[RTC]].
* Separate 24MHz and 8MHz oscillators.
* 68K runs at 12MHz.
* Five 16V8 PALs for glue logic.
* {{Chipname|NEO-SDR-T}} chip for generic I/O and dipswitches.
* The board doesn't have an embedded [[system ROM]], the cartridge's program does everything.

It appears that there is only one type of motherboard, only the vertical daughter board with the cartridge slots changes between 1-slot and 2-slots Neo Print systems.

=Video=

[[File:Neoprintacq.jpg|320px|thumb|Neo Print video A-to-D section.]]

* The video rendering logic is very different from the regular NeoGeo systems. 
* Graphics from the cartridge are loaded from a 16-bit bus.
* No shrinking ? Maybe no sprites at all ?
* The video outputs are "genlocked" to the camera's video signal, '''no valid NTSC input signal means no output'''.
* {{Chipname|PSTG-SNK}} is used as the only custom graphics chip.
* The camera's video is not simply overlaid with generated graphics but digitized and processed as tiles.
* VRAM is made of 4*128kB 8-bit SRAM, probably as 2*256k words.
* A NEC µPC662 triple 8(?) bit video DAC feeds a common Fujitsu MB3516 RGB encoder chip for output.
* 6x NEC µPD42280 dual-port video RAMs (2 fields for each color component) filled by 3x NEC µPC659 video ADCs.
* NEC µPC1862 video sync maestro (NTSC).
* 2x Sony CXA1585 chips for s-video to RGB conversion.
* 2x Mitsubishi M52065 triple 2-to-1 high speed analog switches.

To do: Video path diagram.

=Dipswitches=

To do. Are they of any use ?

=Audio=

Sound comes from the same {{Chipname|YM2610}}-{{Chipname|YM3016}} pair as on the NeoGeo. They're driven by a [[Z80]] and fed by regular [[V ROM]]s (ADPCM-B is not used, as in [[CD systems]]).

=Printer=

The stock printer in the Neo Print cab was a Mitsubishi CP-710E "analog video sublimation printer". The Neo Print board talks to the printer via its remote control port through the PRT1 and PRT2 ports (mini DIN 8 and stereo jack).

The printer actually does a "screengrab" from the S-video signal in its internal memory before printing. Apparently, the printer itself does the picture arrangement (1x2, 2x2, or 4x4) and rotation processing to fit on paper, not the Neo Print board itself.

As the photo paper was pre-cut, the Neo Print could only make 4x4 sheets.

=Camera=

Looks like a standard color NTSC CCTV module with C-mount lens.

[[File:npcam.jpg]]
(From a picture by Psykick from Neo-arcadia.com)

Probably any S-video capable NTSC camera works.

[[Category:Cartridge systems]]

[[Image:Screencap_neopleague.png|thumb|Screenshot of gameplay]]
[[Neo Puzzle League]] is a homebrew puzzle game made by [[User:Blastar]]. It is the sequel of [[Neo no Panepon]].

[[Category:Games]]

[[Image:NeoSoundBuilder.png|thumb|right|Neo Sound Builder main interface.]]
'''Neo Sound Builder''' is a program by Jeff Kurtz which allows for the creation of V ROMs/PCM files and M1/Z80 files.

==Links==
* [https://www.facebook.com/Neobitz/photos/a.462349983789893.110879.221161891242038/1093044660720419/?type=3 Release announcement]

[[Category:Tools]]
[[Category:Sound Tools]]

[[File:NeoSpriteViewer_Screenshot.png|thumb|320px]]
A simple website that allows viewing the tiles from C ROMs and S ROMs. Click on a tile to pull up a detailed view of it showing the index values for each pixel.

https://neospriteviewer.mattgreer.dev/

[[Category:Tools]]
[[Category:Graphics Tools]]

[[Image:Screencap_neothunder.png|thumb|Screenshot]]
'''Neo Thunder''' is a horizontal shooter created by Sebastian Mihai.

==Links==
* [http://sebastianmihai.com/main.php?t=22&amp;n=Neo-Geo-development-Neo-Thunder Neo Thunder Project Page]

[[Category:Games]]

{{GameInfo|right
|en_title=Neo Turf Masters 
|jp_title=Big Tournament Golf
|jp_title2=ビッグトーナメント ゴルフ
|developer=Nazca
|ngh_id=200
|megcount=133
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=turfmast
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256B
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=01/03/96
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=01/05/1996
}}

Neo Turf Masters is a golf game made by Nazca, known to have caused headaches to emulator authors.

==Field rendering==

It relies on the [[timer interrupt]] to fake perspective and rotation for the course's ground.

Undistorted sprites (trees...) are [[sprite shrinking|shrunk]] and overlayed on top according to the view's angle.

[[File:Turfmast_raster.gif]]]

==Character sprites==

They appear to be color-reduced photographs.

[[Category:Games]]

[[Image:Screencap_neonopon.png|thumb|Screenshot of gameplay]]
[[Neo no Panepon]] is a homebrew puzzle game made by [[User:Blastar]]. It is the prequel to [[Neo Puzzle League]].

[[Category:Games]]

#REDIRECT [[Neo Bomberman]]

#REDIRECT [[Neo-Geo Cup '98 - The Road to the Victory]]

#REDIRECT [[The wiki]]

#REDIRECT [[Neo Drift Out - New Technology]]

[[File:Ngpg01.png|thumb|320px]]
Small tool for Windows that allows to create a 16 color [[palettes]] with RGB sliders, or from a .PAL file (which can come from Photoshop, Paint.NET...). Output in ASM format only.

==Download==
* [[File:Ngpg01.zip]]

[[Category:Tools]]
[[Category:Graphics Tools]]

#REDIRECT [[Neo Mr. Do!]]

The Neopen BIOS is an open-source [[system ROM]] project for Neo-Geo cartridge systems, created by [[User:ElBarto|ElBarto]] and [[User:furrtek|furrtek]].

==Links==
* [https://github.com/neogeodev/neopenbios ''neopenbios'' project on GitHub]

[[Category:Base system]]

{{GameInfo|right
|en_title=Nightmare in the Dark
|jp_title=Nightmare in the Dark
|jp_title2=ナイトメアインザダーク
|developer=Eleven / Gavaking
|ngh_id=260
|megcount=166
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=nitd
|mvs_date=2000
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Ninja Combat
|jp_title=Ninja Combat
|jp_title2=ニンジャコンバット
|developer=Alpha Denshi Co.
|ngh_id=009
|megcount=46
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ncombat
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-EP
|mvs_cboard=CHA-32
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=ncombath
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=31/10/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Ninja Commando
|jp_title=Ninja Commando
|jp_title2=ニンジャコマンドー
|developer=Alpha Denshi Co.
|ngh_id=050
|megcount=54
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ncommand
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=ncommand
|aes_date=29/05/92
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=31/10/94
}}

To do: How are the intro's letter made ?

[[Category:Games]]

#REDIRECT [[Ninja Master's - haoh-ninpo-cho]]

[[Category:Games]]

{{GameInfo|right
|en_title=Ninja Master's
|jp_title=Ninja Master's - haoh-ninpo-cho
|jp_title2=ニンジャマスターズ ～覇王忍法帖～
|developer=ADK
|ngh_id=217
|megcount=330
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ninjamas
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=28/06/96
|cd_release=y
|cd_release_jp=y
|cd_date=27/09/96
}}

[[Category:Games]]

#REDIRECT [[Ninja Master's - haoh-ninpo-cho]]

#REDIRECT [[Nightmare in the Dark]]

SNK developer from 1989-2000 who wrote multiple [[sound driver]]s and the NeoGeo CD/CDZ [[System ROM]]s.

Signs "Mr.Noric".

[[Category:People]]

OBJ files contain the [[sprites]] graphics (equivalent to the [[C ROM]]s on [[:Category:cartridge systems|cartridge systems]]). Data is compressed however using a simple RLE compression removing runs with a value of 0x00000000. Once decompressed the format is described here: [[sprite graphics format]].

==RLE compression==

* First long word value is the compressed data length (/4-1).
* The system works by checking single long words at a time.
* When a zero value is found it is stored and the next value is checked. A fill of zero is created to match the value read unless it is zero.
* Decompressed data can be a maximum of 1MByte (the size of a sprite bank) in size or the data will overflow the Upload Zone at $eXXXXX and start writing data at $fXXXXX, causing the hardware to crash or hang.
* The compressed data is sector-aligned (2KB).
* CDZ units will overwrite the filenames for OBJ with SPR and force loading SPR files anyway. 
** For compatibility, a SPR copy of the sprite data with a corresponding file name must be stored on the disc image along with the OBJ file.

===Example===

compressed:

0x00000007, 0x11111111, 0x00000000, 0x00000003, 0x22222222, 0x00000000, 0x00000000, 0x33333333, 0x44444444

decompressed:

0x11111111, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x22222222, 0x00000000, 0x33333333, 0x44444444

This system will not compress data very well unless there are large areas of zero data within the decompressed sprite data. This is due to a single zero value being inflated by 100% to let the decompressor know it is not a run. To my current knowledge only Art of Fighting uses the OBJ format, however Alpha Mission II does have OBJ files included, but are not loaded.

For reference below is a 68000 code snippet from bios TOP-SP1 that handles decompresses.

&lt;syntaxhighlight>
C0BC5A  203C 00E0 0000             MOVE.L   #0xE00000,D0
C0BC60  D0AD 7EF4                  ADD.L    (0x7EF4,A5),D0
C0BC64  2240                       MOVEA.L  D0,A1                      &lt;---- Where to decompress data
C0BC66  206D 7EF8                  MOVEA.L  (0x7EF8,A5),A0
C0BC6A  7000                       MOVEQ    #0x0,D0
C0BC6C  2E18                       MOVE.L   (A0)+,D7                   &lt;---- Get Length
C0BC6E  6738                       BEQ.S    *+0x3A [0xC0BCA8]
C0BC70  22D8                       MOVE.L   (A0)+,(A1)+                &lt;---- Move single long word
C0BC72  6712                       BEQ.S    *+0x14 [0xC0BC86]          &lt;---- Branch if zero.
C0BC74  51CF FFFA                  DBF      D7,*-0x4 [0xC0BC70]        &lt;---- check data end
C0BC78  2009                       MOVE.L   A1,D0
C0BC7A  0480 00E0 0000             SUBI.L   #0xE00000,D0
C0BC80  2B40 7EF4                  MOVE.L   D0,(0x7EF4,A5)
C0BC84  4E75                       RTS

C0BC86  2C18                       MOVE.L   (A0)+,D6                   &lt;---- Get next value
C0BC88  51CE 0014                  DBF      D6,*+0x12 [0xC0BC9E]       &lt;---- Decompress if non zero
C0BC8C  51CF FFE2                  DBF      D7,*-0x1C [0xC0BC70]       &lt;---- Check data end
C0BC90  2009                       MOVE.L   A1,D0
C0BC92  0480 00E0 0000             SUBI.L   #0xE00000,D0
C0BC98  2B40 7EF4                  MOVE.L   D0,(0x7EF4,A5)
C0BC9C  4E75                       RTS

C0BC9E  22C0                       MOVE.L   D0,(A1)+                   &lt;---- Recreate zero run
C0BCA0  51CE FFFC                  DBF      D6,*-0x2 [0xC0BC9E]        &lt;---- and Loop until complete
C0BCA4  51CF FFCA                  DBF      D7,*-0x34 [0xC0BC70]       &lt;---- Check data end

C0BCA8  2009                       MOVE.L   A1,D0
C0BCAA  0480 00E0 0000             SUBI.L   #0xE00000,D0
C0BCB0  2B40 7EF4                  MOVE.L   D0,(0x7EF4,A5)
C0BCB4  4E75                       RTS
&lt;/syntaxhighlight>

[[Category:CD systems]]

The official English SNK document describing the Neo-Geo hardware.

It was leaked by Nightmare Tony around June 2011.

Download: [[http://www.neogeodev.org/NG.pdf]]

=Coverage=



[[Category:Tools]]

Battery less FRAM-based 32KiB [[memory card]] with switch.

Design files and parts list: https://github.com/neogeodev/NeoMemCard2

[[Category:Cartridge systems]]
[[Category:Chips]]

#REDIRECT [[Zed Blade]]

[[Category:Games]]

Optical pickups are the moving part of [[CD modules]] and the weak link of [[CD systems]].

They consist of a laser diode (often wrongfully convicted of failure) and its driver, coil-actuated optics, and a photodiode array chip.

Increasing the laser power may make CD drives work again by making the light shine through dirt and contaminants on optics, but it's actually a side effect of an inadequate adjustment that will kill the laser diode faster. A real solution is to clean all optical elements in the beam path, which involves taking the pickup apart.

Adjusting the pots located on the CD module PCB can also help, even if those settings shouldn't drift over time.

Some might find more convenient to replace the whole pickup. They can still be found on eBay for around $30. Beware of sellers who re-package and advertise the pickups as exclusive, original replacement parts for consoles with ridiculous prices.

== NeoGeo CD Front loader ==
Original reference: KSS240 (A)

Compatible models: The Sega Mega CD's one

== NeoGeo CD Top loader==
[[file:cdpickup.jpg|thumb|A stock H8147AF pickup.]]
Original reference: H8147AF

Compatible models:

== NeoGeo CDZ ==
Original reference: H8151AF

Compatible models:

== Repair ==

[[Replacing optical pickups]]

[[Category:Chips]]
[[Category:CD systems]]

As seen on the [[68k instructions timings]].

=VRAM access=

Since &lt;pre>move.w *,xxx.L&lt;/pre>
Is always slower than &lt;pre>move.w *,d(An)&lt;/pre>
Try reserving an address register to hold {{Reg|VRAM_ADDR}} and add offsets to access {{Reg|VRAM_RW}} and {{Reg|VRAM_MOD}}. But be careful about [[VRAM]] timings !

&lt;syntaxhighlight>
    lea      VRAM_RW,a5
    move.w   #$0001,2(a5)    ; VRAM_MOD
    ...
    move.w   #$1234,-2(a5)   ; VRAM_ADDR
    ...
    move.w   #$5678,(a5)     ; VRAM_RW
&lt;/syntaxhighlight>

=General 68k tricks=

Many tricks are from [[http://www.easy68k.com/ Easy68k]].

==Adressing==

* (An)+ is faster than -(An), except for MOVEs (same).
* Because (An) is faster without pre-dec/post-inc, access to the first element of a data structure is faster than to the others.
* Don't assume that long operations are always slower than word-size ones. For instance, word address operations can be slower than long ones because of the time to sign-extend a word value.

==CALL/RTS with JMP==

A0 needs to be preserved but saves 8 cycles compared to call/rts.

&lt;pre>
   lea   return, A0
   jmp   routine
return:
&lt;/pre>

Then to return, just jmp (A0).

==Replace JSR+RTS==
&lt;pre>
   jsr subroutine  ->  jmp subroutine   ; Saves 24 cycles
   rts
&lt;/pre>

==Replace JSR+JMP==
Instead of:
&lt;pre>
   jsr sub   ; 18/20
   jmp next  ; 10/12
&lt;/pre>
Do:
&lt;pre>
   pea next  ; 16/20
   jmp sub   ; 10/12
&lt;/pre>

==Comparisons==
cmp.l #xxx,Dn takes 14 cycles. If the value being tested for is small enough to fit in a moveq (-128 to +127), it's shorter and faster to put the value in a temporary register:

&lt;pre>
moveq.l #xxx,d0
cmp.l   d0,d1
&lt;/pre>

If the value xxx is between -8 and 8, and you don't mind altering the data register, you can just use subq #xxx,Dn (or addq) instead of cmp. Then you can use a conditional branch just as you would after a cmp. This works for word or longword comparisons.

==Loops/searches==
Since a taken short branch is slower than an untaken one, try to avoid taking most branches. For instance, if you have a loop searching for a null, the simple way to search is:

&lt;pre>
-:
   tst.b (a0)+
   bne.s -
&lt;/pre>

It takes only a bit more space to unroll one or more iterations of the loop:

&lt;pre>
-:
   tst.b (a0)+
   beq.s found
   tst.b (a0)+
   bne.s -
found:
&lt;/pre>

==Clear data register==
&lt;pre>
clr.l   Dn      ->   moveq.l  #0,Dn     ; Saves 2 cycles
&lt;/pre>

==Clear address register==
There are no CLR or MOVEQ for address registers.
&lt;pre>
move.l  #0,An   ->   sub.l    An,An     ; Saves 4 cycles
&lt;/pre>

==Clear upper half of data register==
&lt;pre>
andi.l  #$0000FFFF,Dn  ->  swap   Dn    ; Saves 4 cycles
                           clr.w  Dn
                           swap   Dn
&lt;/pre>

==Set large constants==
To move $00010000 ... $007F0000 values to a data register:
&lt;pre>
   moveq.l #X,Dn                       ; X = $01 ... $7F
   swap    Dn
&lt;/pre>

To move $FF80FFFF ... $FFFEFFFF values to a data register:
&lt;pre>
   moveq.l #X,Dn                       ; X = $FFFFFF80 ... $FFFFFFFE
   swap    Dn
&lt;/pre>

==Shift/multiply data register==
&lt;pre>
lsl.w   #1,d0   ->   add.w    d0,d0     ; Saves 4 cycles
&lt;/pre>

&lt;pre>
lsl.l   #1,d0   ->   add.l    d0,d0     ; Saves 4 cycles
&lt;/pre>
 
&lt;pre>
lsl.w   #2,d0   ->   add.w    d0,d0     ; Saves 2 cycles
                     add.w    d0,d0
&lt;/pre>

==Add to address register==
Useful when xxx is between -32768 and 32767.
&lt;pre>
adda.w  #xxx,a0  ->   lea      10(a0),a0
&lt;/pre>

==Rotates==
&lt;pre>
moveq.l #16,d0  ->   swap     d1
ror.l   d0,d1
&lt;/pre>

&lt;pre>
moveq.l #15,d0  ->   swap     d1
ror.l   d0,d1        rol.l    #1,d1
&lt;/pre>

[[Category:Code]]

#REDIRECT [[Zintrick]]

[[Category:Games]]

Connector on some MVS boards (like the {{PCB|MV1B}}) which do not have DA-15 [[Pinouts|joypad connectors]], used to obtain the 6 output lines for special controllers such as [[trackball]]s.

[[Category:Cartridge systems]]

{{GameInfo|right
|en_title=Over Top
|jp_title=Over Top
|jp_title2=オーバートップ
|developer=ADK
|ngh_id=212
|megcount=212
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=overtop
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_date=24/05/96
|cd_release=y
|cd_release_jp=y
|cd_date=05/07/96
}}

[[Category:Games]]

The principle of overclocking is to make electronic chips (not only CPUs) run at a [[clock]] frequency higher than intended.

=Why overclock ?=

Fanatics may not want to read this, but the NeoGeo can have [[slowdown]]s.

As the [[GPU]] runs in real time, slowdowns on most 2D consoles can only caused by the [[68k|CPU]] because of long calculations (and not graphical complexity). For example, 20 moving sprites could cause slowdowns, but 200 static sprites won't.

=Overclocking which chip ?=

* Overclocking the {{Chipname|68k}} makes it execute instructions (game code) faster.
* Overclocking the {{Chipname|Z80}} is pointless, as it only takes care of [[Sound driver|music]] and has plenty of time for that.
* Overclocking the GPU is also pointless: as mentioned above, it can't cause slowdowns.

In short, only the 68k CPU deserves overclocking.

=Stability=

==CPU==
The stock 68000-12 CPU can often work up to 14MHz (17% overclock) without crashing, but don't expect going above safely. Crashes are due to gate delays ? Crippling ?

Some people from the Atari and Amiga community showed that the high-end 68000-16 can work way beyond 16MHz. Reports of stable operation at 30MHz (150% overclock from 12MHz) can be found.

Heat is not an issue.

==Memory==

Overclocking might not be safe for all [[memory speed|RAM access]] on the NeoGeo. For example, [[68k user RAM]] is 100ns (166ns at 12MHz, would need &lt;83ns at 24MHz). Max would be 19.8MHz ? [[Palette RAM]] is even slower: 120ns. Max would be 16.6MHz ?

The cartridge ROMs might also be too slow in some cases. [[Wait cycle]]s could be artificially inserted to slow down acces, but overlocking would be way less efficient.

==Video glitches==

[[File:tssglitch.gif|thumb|[[Twinkle Star Sprites]] runs a lot better at 20MHz (67% overclock) but glitches heavily.]]

When increasing the CPU clock only over 13.5MHz (13 %), some games start having video glitches. Games which have shorter access delays to the [[VRAM]] will glitch first.

The problem arises from the fact that the overclocked CPU inherently talks to the GPU faster, but the GPU still runs at 12MHz. This makes it skip writes or reads, making a mess in VRAM.

So why not also overclock the GPU ?

Simply because the GPU generates the video sync and [[68k interrupts|vertical blank interrupt]]. If it is overclocked, the [[framerate]] will rise accordingly. This will not only make the snake bite its own tail, but also make the video signal go out of range for most TVs and monitors (14MHz would give [[framerate|69 frames/s]]).

That's why most modification write-ups describe a way to keep the GPU at 12MHz and switch the CPU between 12MHz and 14MHz+ manually.

=Oscillator swap mod=

Cut clock input just before the 68k (lift pin if possible, don't cut the PCB). Wire a ~14MHz oscillator's output to it. Can use a SPDT switch to chose between the oscillator's output and the original {{Sig|12M|12M}} signal. Switching mid-game will certainly crash the CPU.

Warning: use an '''oscillator''' (usually 4 pins), not a quartz crystal (2 pins). Quartz crystals can't provide a clock signal all alone.

=Gearbox mod=

To do :)

[[Category:Chips]]
[[Category:Base system]]

#REDIRECT [[Over Top]]

PAT files contain structured data to patch already loaded [[Z80]] code. They're used to replace [[YM2610#ADPCM|sound samples]] address tables originally loaded from [[Z80 file]]s when different [[PCM file]]s are loaded.

* Maximum file size: 2048 bytes ?
* Type code: 5
* Loaded into: Z80 code RAM

=Format=

Blocks of 5 word (16 bit) values:

* Patch address in bytes. $0000 means end of file. All the $0001~$FFFF range seems to work.

* First data word is (/2), byteswapped and written to address
* Second data word is (/2)-1, byteswapped written to address + 2
* Third (optional) data word is (/2), byteswapped and written to address + 5
* Fourth (optional) data word is (/2)-1, byteswapped written to address + 7

If the third data word is $0000, both the third and fourth patches are skipped.

=Offset=

When loading a PAT file (see [[loading files]]) the bank number and destination address parameters can be used to add an offset to all the patched values. This allows PCM data associated with a PAT file to be loaded into different regions of PCM DRAM without the need of multiple PAT files.

Code snippet from the TOP-SP1 [[system ROM]] which handles this:

&lt;syntaxhighlight>
C0BFAE  MOVEQ    #0x0,D0          Clear D0                 00000000
C0BFB0  MOVE.B   (0x7EDB,A5),D0   Bank number byte to D0   000000bb
C0BFB4  SWAP     D0                                        00bb0000  
C0BFB6  LSL.L    #4,D0                                     0bb00000
C0BFB8  OR.L     (0x7EF4,A5),D0   Insert destination addr. 0bbddddd
C0BFBC  LSR.L    #8,D0                                     000bbddd
C0BFBE  MOVE.W   D0,(0x7736,A5)   Offset will be:              bddd
&lt;/syntaxhighlight>

[[Category:CD systems]]

{{ChipInfo
|picture=crt_pcm.jpg
|pkg=QFP80R
|manu=fujitsu
|date=1990
|gates=
|used_on=[[Cartridges]]
}}

PCM (not "'''NEO'''-PCM" probably because it was used in some SNK claw cranes) is a {{Chipname|V ROM}} banking and demultiplexing chip, found in AES and MVS [[cartridges]], and on [[ROM-Only boards|ROM-only]] arcade boards.

Early cartridges had separate [[YM2610|ADPCM]]-A and ADPCM-B sound ROMs. Since one was often emptier than the other, SNK devised a way to mix both types in the same ROM chip to save space and reduce costs.

{{Chipname|NEO-PCM2}} can also be found in late cartridges, and with {{Chipname|NEO-YSA2}}.

On some [[:Category:cartridge boards|Cartridge boards]], VA20~VA22 are used to select which of the 4 possible V ROMs to use (decoded by a LS139).

Uses several latches for address and data, as well as a counter clocked by {{Sig|68KCLKB|68KCLKB}} for synchronisation.

=Internal logic=

The trick takes advantage of the asynchronous and predictable access to the ADPCM-A and APDCM-B data by the {{Chipname|YM2610}}. See [[YM2610 bus timing]].

[[https://github.com/neogeodev/SNKVerilog/tree/master/PCM Verilog definition]].

=Pinout=

{{Pinout|PCM|640}}

*INVIN, INVOUT: Simple inverter

*SDPOE, SDROE, SDPMPX, SDRMPX: from the YM2610

*SDRAD0~SDRAD7: ADPCM-A multiplexed bus part
*SDPAD0~SDPAD7: ADPCM-B multiplexed bus part

*SDRA8, SDRA9, SDRA20~SDRA23: ADPCM-A address bus
*SDPA8~SDPA11: ADPCM-B address bus

*V D0~V D7: V ROM(s) data bus
*V A-1~V A22: V ROM(s) address bus
** When the MODE pin is low, V A19~V A22 become 4 active-low decoded outputs (based on value from the internal V A19 and V A20). 

[[Category:Chips]]

PCM files contain the [[YM2610|ADPCM]]-A sound data (equivalent to the [[V ROM]]s on [[:Category:cartridge systems|cartridge systems]]).

Offset adresses used for loading PCM files are divided by 2 (they're on an 8bit bus).

* Maximum file size: 512KiB ?
* Type code: 4
* Loadable in: PCM [[DRAM]]
* Banks: 2 of 512KiB (1MiB total)

[[Category:CD systems]]

The PLAYER_START subroutine is called by the [[System ROM]] if one of the start buttons are pressed while the corresponding player has enough credits or when the time runs out while the game's title screen is being displayed.

BIOS_START_FLAG ($10FDB4.b) indicates which player(s) pushed start (active high):

{{8BitRegister|-|4|P4|1|P3|1|P2|1|P1|1|}}


This subroutine needs to leave these bits to "1" if the game can be started, or clear them if not.
When the game is started, it has to set to "1" (playing status) the corresponding PLAYER_MODE byte for each player:

*10FDB6.b for P1
*10FDB7.b for P2
*10FDB8.b for P3
*10FDB9.b for P4

After returning, the System ROM deducts credits according to BIOS_CREDIT_DEC.

[[Category:Code]]

[[CD systems|NeoGeo-CD]] power supply brick.

* Input: 110V-240V AC (universal)
* Output 5V DC 2A, 10V DC 1A

The 5V output is actually closer to 5.5V.

Fuse: 250V 2A T with leads.

See [[Pinouts#Power_supply_connector|Pinouts]].

=Capacitor list=

[[File:POWCD-X.jpg|600px|center]]

* C104: 68uF 400V snap-in (e.g. Nichicon LGN2G680MELY25)
* C107: 100uF 35V (e.g. Nichicon UHV1V101MED)
* C201: 1000uF 16V (e.g. Nichicon UHD1C102MPD)
* C202: 150uF 16V (e.g. Nichicon ULD1C151MED1TD)
* C204: 1uF 50V (e.g. Nichicon USV1H010MFD)
* C205: 220uF 10V (e.g. Nichicon UHE1A221MED)
* C208: 1500uF 10V (e.g. Nichicon UPW1A152MPD)

[[Category:Repairs]]
[[Category:CD systems]]

PRG files are used as the {{Chipname|68k}} program (the equivalent of [[P ROM]]s on [[:Category:cartridge systems|cartridge systems]], but the content '''isn't byteswapped'''). Several games overcome the [[DRAM|2MiB]] limit by keeping a main PRG file loaded, and only swap the ones containing data like level maps, animation tables...

Note that '''[[Logo file|LOGO_*.PRG files]] are handled differently'''.

* Maximum file size: 1MiB (?)
* Type code: 0
* Loadable in: 68k program DRAM ($000000~$1FFFFF)
* Banks: 1 ($000000~$1FFFFF). Range $100000~$1FFFFF is also used for [[68k user RAM]], [[system ROM]] operations, CD buffers, ... 

'''Pitfalls:''' loading files over the range $100000-$10ffff will wipe all of the 68K's work (main) RAM. This is '''NOT''' advisable.

[[Category:CD systems]]

{{ChipInfo
|picture=Mvs_pro-b0.jpg
|pkg=QFP136
|manu=nec
|date=1990 ?
|gates=
|used_on={{PCB|MV4}} ...
}}

Part of the first generation chipset, {{Chipname|NEO-C1}} ancestor with parts of {{Chipname|NEO-B1}}. Complements {{Chipname|PRO-C0}}.

*[[Joypad]] inputs
*Palette number part (8 upper bits) of the [[line buffers]]
*{{Chipname|Z80}} interface

=Pinout=

{{Pinout|PRO-B0|800px}}

[[Category:Chips]]

{{ChipInfo
|picture=Mvs_pro-c0.jpg
|pkg=QFP136
|manu=nec
|date=1990 ?
|gates=
|used_on={{PCB|MV4}}{{PCB|MV1-1}} ...
}}

Part of the first generation chipset, with bits of {{Chipname|NEO-B1}}. Complements {{Chipname|PRO-B0}}.

* [[68k]] address decoding
* [[Watchdog]]
* Color number part (4 lower bits) of the [[line buffers]]
* [[Slot]] enable decode ?

=Pinout=

{{Pinout|PRO-C0|800px}}

Some infos by [[User:Pnauts]].

[[Category:Chips]]

{{ChipInfo
|picture=mvs_pro-ct0.jpg
|pkg=SDIP64
|manu=nec
|date=1990 ?
|gates=
|used_on={{PCB|MV4}} [[Cartridges]]...
}}

PRO-CT0 (also known as SNK-9201 and ALPHA-8921) is an early gate array chip which serializes sprite graphics in AES cartridges and [[MVS hardware|MVS]] boards. It was later replaced by {{Chipname|NEO-ZMC2}} and then {{Chipname|NEO-CMC}}.

It was also used as a challenge-response "security" device in [[Super Sidekicks]] and [[Fatal Fury 2]] cartridges.

ALPHA-8921 was the original chip name, from when [[Alpha Denshi]] were using it on their [[Alpha68k]] system.

=Pinouts=
{|align="center"
!Sprite graphics mux
!Security device
|-
|[[File:pro-ct0_pinout.png]]
|[[File:snk-9201_pinout.png]]
|-
|Info by [[User:Kyuusaku]]
|
*D0~D15: 68k data bus
*A1~A19: 68k address bus
*D0out~D7out: output to a LS245 which puts the data on
the 68k bus when /PORTOEL goes low ($200000-$2FFFFF odd byte read).
|}

=Internal logic=

[[User:Kyuusaku|Kyuusaku]]'s Verilog definition: [[File:Ct0.zip]]

[[User:furrtek|furrtek]]'s version:

[[File:proct0_ftk.png|640px]]

=Normal use: graphics multiplexer=

See [[NEO-ZMC2]].

=Derivate use: security device=

[[File:proct0prog.jpg|thumb|PRO-CT0 9042KX023 on an AES cart [[PROG board]].]]

[[File:crt_snk-9201.jpg|right|thumb|SNK-9201 chip found in a [[Super Sidekicks]] MVS cartridge. Picture courtesy of [[http://www.mvs-scans.com MVS-Scans]].]]

As a security device, the chip is only found on [[PROG board#PROG-G2|PROG-G2]] boards for [[Fatal Fury 2]] and [[Super Sidekicks]]. It was SNK's first attempt at copy-protecting NeoGeo games.

The chip is tied to the [[68k]] address and data bus, it reacts to word writes and replies on odd addresses in the [[68k memory map|$200000-$2FFFFF]] address range.

The game program expects the chip to reply with specific data depending on the values written to it. If the values don't match, then the game assumes it's a copy and silently sets a flag which triggers deliberate bugs during gameplay (see game pages for details).

==Input==
Address bus mapping:
{|class="wikitable"
|A19||A18||A17||A16||A15||A14||A13||A12||A11||A10||A9||A8||A7||A6||A5||A4||A3||A2||/PORTWEL||A1
|-
|C31||C29||C27||C25||C30||C28||C26||C24||C23||C21||C19||C17||C22||C20||C18||C16||H||EVEN||12M||LOAD
|}

Data bus mapping:
{|class="wikitable"
|D15||D14||D13||D12||D11||D10||D9||D8||D7||D6||D5||D4||D3||D2||D1||D0
|-
|C15||C13||C11||C9||C14||C12||C10||C8||C7||C5||C3||C1||C6||C4||C2||C0
|}

==Output==

Data bus mapping:
{|class="wikitable"
|D7||D6||D5||D4||D3||D2||D1||D0
|-
|GBD1||GBD0||GBD3||GBD2||GAD1||GAD0||GAD3||GAD2
|}

==Emulation==

MAME simply uses a list of hardcoded values since the games always use the same challenges. See /src/devices/bus/neogeo/prot_fatfury2.cpp

[[Category:Chips]]

[[File:Prog-8mb_mvs.jpg|thumb|512px]]

{{Template:Mvsprog|sdra20=1|sdra98=1|sdpa11=1|sdpa10=1|sdpa9=1|sdpa8=1|dh=1|dl=1|a=1|pdtact=1|pwait1=1|pwait0=1|romwait=1|a=1|romoe=1|sdpad=1|sdrad=1}}

J1/J2: ROMWAIT.

==Max capacity==

*2x 1MiB ADPCM-A ROM.
*2x 1MiB ADPCM-B ROM.
*1 MiB + 128KiB [[P ROM]].

[[Category:Cartridge boards]]

J1/J2: ROMWAIT (B25) on cart edge.

Initially created to be used only for prototypes, like CHA-EP but used in production games for reasons?

[[Category:Cartridge boards]]

[[File:Prog-g2_mvs.jpg|thumb|400px]]

Board only used for [[Super Sidekicks]],[[Viewpoint]] and [[Fatal Fury 2]]. Can host [[SNK-9201]] as a security chip.

==Jumpers==

[[File:prog-g2.jpg]]

==Max capacity==


[[Category:Cartridge boards]]

[[File:Prog4096_mvs.jpg|256px|right]]

{| class="wikitable"
|Jumpers
|V ROMs size
|-
|J5+J7
|1MiB
|-
|J6+J8
|2MiB
|}

[[Category:Cartridge systems]]

[[File:Prog42g_mvs.jpg|256px|right]]

*2x 1MiB V-A
*2x 1MiB V-B
*1MiB P1


[[Category:Cartridge systems]]

[[File:Progbk1_mvs.jpg|thumb]]

The only non-protected board that can bankswitch and use all [[V ROM]] space. Really common and very useful for homebrew stuff or converts.

Often used as the PROG board in [[Neo Print]] cartridges.

=P ROMs configuration=

[[File:Progbk1p.png|650px]]

==EP ROMs /OE==

{| class="wikitable"
|-
!J1
!J2
|-
|/ROMOE
|/PORTOE
|}

==P2 ROM /CE==

{| class="wikitable"
|-
!J3
!J4
!J5
|-
|A18
|/A18
|GND (default)
|}

==P2 ROM /OE==

{| class="wikitable"
|-
!J6
!J7
!JB1
|-
|/ROMOE
|/PORTOE (default)
|/PORTOE, banks 0 and 1
|}

==P1 ROM /OE==

{| class="wikitable"
|-
!J8
!J9
!J10
!JB2
|-
|/PORTOE
|/PORTOE AND /ROMOE
|/ROMOE (default)
|/PORTOE, banks 2 and 3
|}

==P1 ROM /CE==

{| class="wikitable"
|-
!J11
!J12
!J13
|-
|A18
|/A18
|GND (default)
|}

==P1 ROM size==

{| class="wikitable"
|-
!JB3
!JB4
!Nothing
|-
|A19/NC is /PORTADRS (P1 is 16Mbit)
|A19/NC is BANK0 (because reasons?)
|P1 is 8Mbit
|}

==P2 ROM size==

{| class="wikitable"
|-
!JB5
!JB6
|-
|A20//BYTE is VCC (P2 is 16Mbit or less)
|A20//BYTE is BANK1 (P2 is 32Mbit)
|}

The [[P ROM|P1 ROM]] can be 4Mbit, 8Mbit or 16Mbit (27C400/27C800/27C160).
* ROMs can be halved and mapped to 0x000000~0x0FFFFF or 0x200000~0x2FFFFF.
* If P1 is 4Mbit or 8Mbit, then P2 can contain a bankswitched ROM (same type as P1 plus 27C322). P1 appears in 0x000000~0x0FFFFF. P2 bank appears in 0x200000~0x2FFFFF.

[[Bankswitching]] is done with the LS74. It's not needed if the game isn't banked. Any write to an odd address in the [[68k memory map|0x200000~0x2FFFFF]] range will set the bank.

=V ROMs configuration=

[[File:Progbk1v.png]]

There is a maximum of 4 [[V ROM]]s which can be 8Mbit, 16Mbit or 32Mbit (27C800/27C160/27C322) for a maximum total size of 4 * 4MiB = 16MiB.

A 4Mbit ROM can also be used, but only if there's one and only if it's in the last used slot.

The size of the largest V ROM is selected with a pair of jumpers on 6 spots (3 possible choices).

{| class="wikitable"
|-
!Largest V ROM
!Jumper set
|-
|8Mbit (1MiB)
|JV1+JV2
|-
|16Mbit (2MiB)
|JV3+JV4
|-
|32Mbit (4MiB)
|JV5+JV6
|}

This pair of V ROM jumpers effectively choose a set of 2 of the [[PCM]] chip address outputs to input to the LS139, which will enable one out of the 4 V ROMs at a time.

The JV7 to JV14 jumpers need to be set according to the ROM types. If it's less than 32Mbit, the JV7/JV8/JV9/JV10 jumper needs to be set (ground). If it's 32Mbit, the JV11/JV12/JV13/JV14 needs to be set (A20). This is because 32Mbit chips have their /BYTE pin replaced by A20.

=Other=

The LS08 is used to AND the /PORTOEU and /PORTOEL signals to get /PORTOE.

* 4x 1/2/4MiB V ROMs
* 1/2MiB P1 ROM
* 1/2/4MiB P2 ROM
* 2x 512KiB EP1/EP2 ROM
* {{Chipname|PCM}} chip
* LS139, LS08, LS74A

[[Category:Cartridge boards]]

Looks identical to PROGBK1 in terms of ROM layout but uses a [[NEO-PCM2]] for encryption plus all other logic that was done with discrete chips on PROGBK1.
[[Category:Cartridge boards]]

[[File:Progeop_mvs.jpg|thumb|512px]]

Board only used for [[Metal Slug X - Super Vehicle-001]]. One of the few MVS PROG boards using the SLOTCS pin.

{{Template:Mvsprog|sdra23=1|sdra22=1|sdra21=1|sdra20=1|sdra98=1|sdpa11=1|sdpa10=1|sdpa9=1|sdpa8=1|slotcs=1|padrs=1|portwel=1|portweu=1|portoel=1|portoeu=1|as=1|dh=1|dl=1|a=1|68kclkb=1|pdtact=1|pwait1=1|pwait0=1|romwait=1|romoe=1|reset=1|sdpad=1|sdrad=1}}

J1~J4: PLD P2 ROM configuration ?

CON1: JTAG

==Max capacity==

*4x 4MiB mixed ADPCM ROMs.
*1 MiB + 2x 4MiB [[P ROM]] ?

== PLD ==

An Altera MAX EPM7128 chip is included for:

* Protection read/write accesses ($2FFFE0+)
* Bankswitching ($2FFFF0+ as with [[PROGBK1]] games)
* Controlling /E and /G pins on both P1 and P2
* P1 + P2 D0-D7 pass through ([[P ROM]]s don't connect straight to D0-D7 on the cart edge)
* Decoding [[V ROM]] output enables from [[PCM]] address inputs

The chip seems to die frequently. Since it also does some other essential things, either the ROMs have to be transplanted to a PROGBK1 or the dead PROGEOP has to be modified. A hacked P1 ROM needs to be used. The MAX chip combines what was done with the LS08, LS74 and LS139 on regular BK1 boards so those circuits have to be added manually to revive the game without the MAX.

== Unknown QFP144 ==

* Connected to the PLD through a 245 chip. Apart from that it's completely isolated from everything else ?
* Maybe it does the protection. PLD forwards read/write requests through 245 from $2FFFE0+ ?

== Emulation ==

MAME currently patches out the protection code instead of emulating it: (mslugx_install_protection) [http://mamedev.org/source/src/mame/machine/neoprot.c.html]

[[Category:Cartridge boards]]

[[File:Proggsc_mvs.jpg|thumb|512px]]

3 [[V ROM]]s max, uses {{Chipname|PCM}}.

Some games have a bodge capacitor between P1 pin 22 and 31 (/OE ?).

[[File:PROGGSC_LS08.pdf]]
LS08 part from an AES PROGGSC board. Not sure about the pin names but the numbers are good (SMD 74LS08)
[[Category:Cartridge boards]]

The {{Sig|PDTACK|PDTACK}} pad isn't used. [[Aero Fighters 2]] leaves it that way but [[The King of Fighters '94]] has a wire that connects it to +5V.

[[Category:Cartridge boards]]

[[File:Crt_cpldmax.jpg|thumb|Altera EPM7128 CPLD stamped "SF101 JIF" (read protected).]]

Used for some [[The King of Fighters '98 - The Slugfest]] cartridges.

* 4x 4MiB [[V ROM]]s
* 2MiB [[P ROM|P1 ROM]]
* 4MiB SP2 ROM

=Security=

Similarly to the {{PCB|PROGEOP}} board, the P1 ROM is scrambled to deter piracy. It is unscrambled on-the-fly by the CPLD (programmable logic device), which is prone to failure.

See [[Repairing King of Fighters '98]].

[[Category:Cartridge boards]]

Development-only (prototype) board. Uses memory card for V1 ROM. Uses [[NEO-SMA]].

[[File:PROGSMA.png|1000px|thumb|left|PROGSMA]]

Same board manufacturer as SNK ?
*42pin V1 and P1 ROMs (DIP or TSOP)
*64KiB Battery-backed RAM (Mapped to $200000~?)
*External I/O port (8 ?)
*Room for 2x8DIP switchs
[[Category:Cartridge boards]]

__NOTOC__

Cartridge PCB which holds the [[P ROM|P]] (68k code) and [[V ROM|V]] (sound) ROMs.

List from [[https://github.com/mamedev/mame/blob/master/src/mame/drivers/neodriv.hxx MAME's source]].

=MVS=

{| class="wikitable"
!Name!!Test!!Max P ROM!!Max V ROM
|-
|[[NPS-PRG1]]||[[UPD4990], BR4090, [[PCM]]
|-
|[[PROG-8MB]]
|-
|[[PROG-EP]]
|-
|[[PROGEP8M]] (Prototype)||[[PCM]]
|-
|[[PROG-G2]]||[[PCM]],[[SNK-9201]]||512*2(+/?)1024
|-
|[[PROG-HERO]]
|-
|[[PROG-NAM]]
|-
|[[PROG16]]
|-
|[[PROG4096]]||[[PCM]]||2*512+1024+2048||3*2048
|-
|[[PROG4096B]]
|-
|[[PROG42G]]
|-
|[[PROG42G-1]]||[[PCM]]||128+1024||4*1024
|-
|[[PROG42G-COM]]
|-
|[[PROG8M42]]
|-
|[[PROGBK1]]||[[PCM]]||?||4*32Mbit
|-
|[[PROGBK2]]
|-
|[[PROGBK2R]]
|-
|[[PROGBK2S]]
|-
|[[PROGBK3R]]
|-
|[[PROGBK3S]]
|-
|[[PROGEOP]]
|-
|[[PROGGSC]]
|-
|[[PROGLBA]]
|-
|[[PROGTOP]]
|-
|[[PROGV]]
|-
|[[PROGMC2]]||[[PCM]]||8192||8192
|}

==NPS-PRG1==
[[Neo Print]] cartridge. Has an [[UPD4990]] and a BR4090 serial EEPROM.

==PROGBK1==

==PROGBK2==

==PROGBK2R==
==PROGBK2S==
==PROGBK3R==
==PROGBK3S==
==PROGEOP==
==PROGGSC==
==PROGLBA==
==PROGSM==
==PROGSS3==
==PROGSF1==
==PROGTOP==
==PROGV (Brezzasoft)==
==PROGMC2 (Prototype Board)==
[[http://www.neogeoprotos.com/games/topsecret2.htm Billy Pit's Neo-Geo Proto Page]] or [[http://www.assemblergames.com/forums/showthread.php?t=23106&amp;page=11]]

[[File:Progmc2.jpg|thumb|300px|Image courtesy of http://www.neogeoprotos.com]]

[[Category:Chips]]
[[Category:Cartridge systems]]
[[Category:Cartridge boards]]

[[File:Cd2 psram.jpg|right|thumb|]]

Pseudo-Static RAM is really DRAM interfaced as SRAM. It is used in CD systems to store the 128KiB [[fix layer]] tileset, instead of regular [[DRAM]] because of the low latency needed for real-time rendering.
[[Category:Chips]]

#REDIRECT [[Reset generator]]

[[Category:Base system]]
[[Category:Chips]]

{{ChipInfo
|picture=pstg-snk.jpg
|pkg=QFP208
|manu=nec
|date=1996 ?
|gates=
|used_on=[[Neo Print]]
}}

[[GPU]] for [[Neo Print]] boards. Alien video chip design maybe already made or bought from somewhere.

[[Category:Chips]]

[[File:p_rom.jpg|thumb|right|1MiB P1 ROM]]
16bit ROM(s) containing the byteswapped [[68k]] program in [[cartridges]].

Sometimes, two 8 bit ROMs are used as a second P ROM (called "SP1/2" or "EP1/2").

When not banked, the maximum size is [[68k memory map|1MiB]]. Some games use [[bankswitching]] for larger than 2MiB P ROMs.

Some cartridges use an [[NGPC flash board]] soldered in place of the mask ROMs.

==Speed==

Minimum speed: 150ns. Can use slower ROMs by using the cartridge's [[wait cycle]] configuration.

==2 MiB P ROMs==

When the P ROM is 2MiB, the second MiB of the P ROM is mapped to $000000->$0FFFFF in the [[68k memory map]], and the first MiB is mapped to $200000->$2FFFFF. In other words, the mebibytes inside the P ROM are swapped when mapped. This is a special case between standard 1MiB P ROMs and larger ROMs that require bankswitching.

[[Category:Chips]]
[[Category:Cartridge systems]]

The P bus is a 24-bit internal graphics data bus, connecting the video-related chips and the C and S ROM address latches in cartridges.

It carries multiplexed data, which is sequenced by [[LSPC]] in a precise and repetitive manner.

C and S ROM adresses are extracted in cartridges by {{Chipname|NEO-273}} or regular 273's thanks to the {{Sig|PCK1B|PCK1B}} and {{Sig|PCK2B|PCK2B}} signals.

=Values=

{|class="wikitable"
!P BUS||P23||P22||P21||P20||P19||P18||P17||P16||P15||P14||P13||P12||P11||P10||P9||P8||P7||P6||P5||P4||P3||P2||P1||P0
|-
|{{Chipname|NEO-B1 }}pin||TDI11||TDI10||TDI9||TDI8||TDI7||TDI6||TDI5||TDI4||P15||P14||P13||P12||P11||P10||P9||P8||TA7||TA6||TA5||TA4||TA3||TA2||TA1||TA0
|-
|style="background-color: grey;" colspan=25|
|-
|rowspan=2|'''[[LO]] address'''||rowspan=2 colspan=8| ||A15||A14||A13||A12||A11||A10||A9||A8||A7||A6||A5||A4||A3||A2||A1||A0
|-
|colspan=8|Table # (shrink value)||colspan=8|Index in table (line)
|-
|style="background-color: grey;" colspan=25|
|-
|rowspan=2|'''LO data'''||D7||D6||D5||D4||D3||D2||D1||D0||rowspan=2 colspan=16| 
|-
|colspan=4|Tilemap index||colspan=4|Tile line
|-
|style="background-color: grey;" colspan=25|
|-
|'''FIX palette'''||colspan=4| ||D3||D2||D1||D0||rowspan=2 colspan=16| 
|-
|'''SPR palette'''||D7||D6||D5||D4||D3||D2||D1||D0
|-
|style="background-color: grey;" colspan=25|
|-
|'''X position'''||colspan=8| ||colspan=8|For even buffer||colspan=8|For odd buffer
|-
|style="background-color: grey;" colspan=25|
|-
|rowspan=2|'''C address'''||A24||A23||A22||A21||A3||A2||A1||A0||A20||A19||A18||A17||A16||A15||A14||A13||A12||A11||A10||A9||A8||A7||A6||A5
|-
|colspan=4|Tile number||colspan=4|8-Pixel line #||colspan=16|Tile number
|-
|style="background-color: grey;" colspan=25|
|-
|rowspan=2|'''S address'''||rowspan=2 colspan=8| ||A4||A2||A1||A0||A16||A15||A14||A13||A12||A11||A10||A9||A8||A7||A6||A5
|-
|Half||colspan=3|8-Pixel line #||colspan=12|Tile number
|}

Note that C A4 ({{Sig|CA4|CA4}}) and S A3 ({{Sig|2H1|2H1}}) are separate signals.

Also note that the X sprite position is only 8 bit since the [[line buffers]] are odd/even interleaved. LSPC outputs 2 different latch signals.

[[Category:Video system]]

[[File:Aes_palram.jpg|thumb|right|CXK5864 8KiB RAM chips as palette RAM in a AES system]]
[[File:CXK5864BSP-10L.jpg|thumb|right|CXK5864 8KiB RAM chips as palette RAM in a MV2F system]]
[[File:BR6265BF-10SL.jpg|thumb|right|BR6265BF 8KiB RAM chips as palette RAM in a MV1AX system]]
Palette RAM is 16KiB (2 banks of 256 palettes of 16, 16bit [[colors]]), it contains color data for each [[palettes|palette]].

It is accessible directly from the [[68k]] [[68k memory map|memory space]].

=Speed=

Should be 120ns or less (3mclk).

The CXK5864BSP-10L is a 8192-word x 8-bit high speed CMOS static RAM.

The CXK5864BSP comes in 3 packages: 

- CXK5864BSP-70L for 70ns (access time)

- CXK5864BSP-10L for 100ns (access time)

- CXK5864BSP-12L for 120ns (access time)

[[Category:Video system]]
[[Category:Chips]]

Palette rotation is a non-NeoGeo-specific video effect produced by rotating (shifting in a loop) a range of color entries inside a [[palettes|palette]].

Like the [[auto animation]] feature, this effect was frequently used for cyclic animations (waterfalls, neon signs...) without having to use multiple tiles, saving up graphics memory and [[VRAM]] access time.

&lt;gallery>
Lbowlpalrot.gif|[[League Bowling]]'s title screen uses palette rotation as a mean to provoke eye cancer.
Ff2palrot.gif|[[Fatal Fury 2]] uses palette rotations to animate water efficiently.
&lt;/gallery>

==Example code==
The easiest way is to simply cycle through a table of pre-baked palettes. It can also be done procedurally, for example:

&lt;syntaxhighlight>
; Untested ! Doesn't care about transparent index.
; Executes in about 720 cycles

  lea     COLOR_LIST,a0   ; Pointer to list of 32 colors
  lea     PALETTE,a1      ; Pointer to destination palette in palette RAM
  lea     64(a0),a2       ; End of list (32 words)
  clr.l   d0
  move.b  ROT_INDEX,d0    ; Offset variable
  andi.b  #31,d0          ; Warp on 32
  add.w   d0,d0           ; Colors are words
  adda.l  d0,a0
  move.b  #16,d7          ; Number of entries in a palette
-:
  move.w  (a0)+,(a1)+     ; Copy
  subq.b  #1,d7
  beq     +               ; Are we done ?
  cmp.l   a0,a2
  bne     -               ; Warp ?
  lea     COLOR_LIST,a0   ; Warp !
  bra     -
+:

  addq.b  #1,ROT_INDEX    ; Animate
&lt;/syntaxhighlight>

[[Category:Video system]]
[[Category:Code]]

[[File:Palmap.png|500px|thumb|Palettes organization.]]
There are 2 banks (one usable at a time) of 256 palettes available. Each palette has 16 [[colors|color entries]], the first being the transparent index ("color 0"), the 15 others are real colors, made of 16-bit RGB definitions.

[[Sprites|Sprite]] tiles can use '''any''' of the 256 palettes, while the [[Fix layer|fix]] tiles can '''only use the first 16'''.

The maximum number of colors on screen without [[timer interrupt]] tricks is: 256 palettes * 15 colors = '''3840''' (out of 2^16 = 65536).

=Color format=

See [[colors]].

=Access=

Palettes are located at $400000 in the [[68k memory map]]. They're physically stored in the [[palette RAM]].

Byte writes are allowed, but the value will be written to both bytes of the word (/WE pins are tied together).

The palettes can be read and written at full speed at any time. During active display, since the CPU has priority over rendering, the color read or written will be displayed during at least one pixel, resulting in noticeable "snow" if multiple colors are updated. A workaround is to update the palettes only during blanking (horizontal or vertical), over multiple frames if necessary.

The bank can be set by doing a byte write to registers {{Reg|REG_PALBANK1}} or {{Reg|REG_PALBANK0}}.

=Special colors=

There are two special colors used:

* The first color of the palette bank ($400000) is the [[reference color|'''R'''eference color]] for the video output. It always has to be pure black ($8000) otherwise monitors won't be happy and other colors won't be displayed correctly.
* The last color of the palette bank ($401FFE) is the [[backdrop color|'''B'''ackdrop color]], the color of the backmost [[layer]] on the screen. Caused by line buffers in {{Chipname|NEO-B1}} being cleared to $FFF (referencing the last color of the last palette).

[[Category:Video system]]

#REDIRECT [[BomberMan - Panic Bomber]]

[[File:Particlestreamer10b mvs.jpg|thumb]]

Used (at least) for [[Fast Striker]].

* NXP 32bit ARM7TDMI LPC2468F microcontroler as a co-processor for animating bullets (and collision checks ?)
* Cypress dual-port SRAM chip for [[68k]]/MCU communication
* Only uses [[ADPCM]]-A

[[Category:Cartridge boards]]

[[File:Particlestreamer15a mvs.jpg|thumb]]

Used (at least) for [[Razion]].

* NXP 32bit ARM7TDMI LPC2468F microcontroler as a co-processor
* Xilinx CPLD as mapper (and decryption ?)
* Xilinx Spartan3 FPGA for [[68k]]/MCU communication
* Only uses [[ADPCM]]-A

[[Category:Cartridge boards]]

#REDIRECT [[Puzzle Bobble 2]]

#REDIRECT [[Puzzle Bobble]]

#REDIRECT [[Pleasure Goal]]

Made by [[!Arcade!]].

Completely passive PROG board.

CHA board has a potted [[NEO-ZMC2]] or [[NEO-CMC]].

[[Metal Slug X - Super Vehicle-001]] fix suggested by DavidG: patch CHA A29 (SDRD1) to PROG B35 (/RESET).

[[Metal Slug X - Super Vehicle-001]] fix, making sense edition: attach a pullup resistor to the /RESET line.

/SLOTCS is routed to 4MB, because reasons. Re-route to ground to fix link cable features.

[[Category:Cartridge systems]]
[[Category:Chips]]

=A/V connector=

[[File:Av_pinout.png]]

Note: Some home consoles revisions appear to only provide composite video, no separate sync signal.

=Cartridges=

* [[AES cartridge pinout]]
* [[MVS cartridge pinout]]

=[[Joypad]] ports=

Special, deep DA-15 connectors with a plastic shield. 10 direct inputs, 3 outputs, 2 power lines.

Inputs are pulled high to +5V by [[CRE401]] R-C arrays in the systems.

Outputs are open collector through 22 ohms resistors (not pulled high).

&lt;center>[[File:Joypad_pinout.png]]&lt;/center>

=JAMMA=

See [[JAMMA connector pinout]].

=Memory card=

See [[Memory card pinout]].

=MVS boards=

[[MV4]]

* [[MVS board connectors pinouts|MVS MV-4 board connectors pinouts]].

[[MV6]] 

* [[MVS MV-6 daughter board connectors pinouts]].

=[[Multiplayer]] jack=

RS-485 pair + ground. Use a stereo cable only !

* Sleeve: Ground
* Ring: D-
* Tip: D+

=CD/CDZ=

==Power supply connector==

[[File:Cdpow_pinout.png]]

See [[power supply]].

==YM2610 digital audio==
[[File:Cd2_cn6.jpg|Cd2_cn6.jpg]]

# OP0
# PHI
# SH2
# SH1
# Analog

==Video and CDDA==
[[File:Cd2_cn1cn3.jpg|400px]]

Video:
# Red
# Green
# Blue
# Sync
# Burst
# GND

CDDA:
# LRCK
# DATA
# BCLK

==CD drive==
[[File:Cd2_cn4.jpg|400px]]
See [[CD drive]].

==PCB power==
[[File:Cd2_cn5.jpg]]

# &lt;span style="color:#7F007F;">Purple: 5V CD&lt;/span>
# &lt;span style="color:#BF7F00;">Yellow: 10V CD&lt;/span>
# &lt;span style="color:#FF0000;">Red: 5V logic&lt;/span>
# Black: Ground

[[Category:Chips]]
[[Category:Base system]]

==ADPCM-A==

Definitions of [[YM2610_registers#ADPCM-A part|ADPCM-A registers]]:

&lt;syntaxhighlight lang="z80">
;ADPCM-A reg defines
PA_CTRL:	EQU $00
PA_MVOL:	EQU $01
PA_CVOL:	EQU $08
PA_STARTL:	EQU $10
PA_STARTH:	EQU $18
PA_ENDL:	EQU $20
PA_ENDH:	EQU $28
&lt;/syntaxhighlight>

(Full list of defines [[YM2610 ASM defines|here]])

Example code to play back V ROM $000000-$00FFFF on CH1 with max volume.
&lt;syntaxhighlight lang="z80">
;playback parameters
CHMASK: equ $01
MVOL: equ $3F
CVOL: equ $C0+$1F
START: equ $0000
END: equ $00FF

PlayADPCMA:
	ld	de,PA_MVOL&lt;&lt;8 +MVOL		;master volume
	rst	$18
	ld	de,PA_CVOL&lt;&lt;8 +CVOL		;left/right/channel volume
	rst	$18
	ld	de,PA_STARTL&lt;&lt;8	+START AND $FF	;start address low
	rst	$18
	ld	de,PA_STARTH&lt;&lt;8 +START / $100	;start address high
	rst	$18
	ld	de,PA_ENDL&lt;&lt;8 +END AND $FF	;end address low
	rst	$18
	ld	de,PA_ENDH&lt;&lt;8 +END / $100	;end address high
	rst	$18
	ld	de,PA_CTRL&lt;&lt;8 +CHMASK		;play this channel
	rst	$18	
	ret
&lt;/syntaxhighlight>

RST $18 writes D reg to port $06 and E reg to port $07.

==ADPCM-A demo==

An interactive demo with source files can be found [http://smkdan.eludevisibility.org/neo/adpcma_demo2.zip here].

[[Category:Code]]
[[Category:Sound Code]]

{{GameInfo|right
|en_title=Pleasure Goal 
|jp_title=Futsal - 5 on 5 Mini Soccer
|jp_title2=フットサル
|developer=Saurus
|ngh_id=219
|megcount=146
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=pgoal
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|cd_release=y
|cd_release_jp=y
|cd_date=19/07/96
}}

[[Category:Games]]

#REDIRECT [[Pochi and Nyaa]]

{{GameInfo|right
|en_title=Pochi and Nyaa
|jp_title=Pochi and Nyaa
|jp_title2=ポチッとにゃ~
|developer=Aiky
|editor=Taito
|ngh_id=267
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=pnyaa
|mvs_date=2003
|mvs_pchip=
|mvs_pboard=PROGBK2
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Pop 'n Bounce 
|jp_title=Gapporin
|jp_title2=ガッポリン
|developer=Video System Co.
|ngh_id=237
|megcount=58
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=popbounc
|mvs_date=1997
|mvs_pchip=
|mvs_pboard=PROG_4096
|mvs_cboard=CHA42G-3B
}}

Can use the [[dial controller]].

[[Category:Games]]

#REDIRECT [[Pop 'n Bounce]]

{{GameInfo|right
|en_title=Power Spikes II
|jp_title=Power Spikes II
|jp_title2=パワースパイクス II
|developer=Video System Co.
|editor=Taito
|ngh_id=068
|megcount=82
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=n
|mvs_romset=pspikes2
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256
|cd_release=y
|cd_release_jp=y
|cd_date=18/03/95
}}

[[Category:Games]]

Most arcade cabs don't have embedded audio amps. Systems have to amplify their audio output theirselves to drive the cab's speaker(s).

These components can die from overheating or voltage surges on the 12V line.

Dead power amps tend to output no audio at all and short out, tripping the cab's or [[supergun]]'s [[power supply]] protection. Crackling audio is most often a digital issue (contacts, cut traces...) and faint audio is often caused by aged/bad capacitors or broken volume pots.

* [[MV1A]]: Motorola MC13308T4.
* [[MV1F]], [[MV1FZS]]: Hitachi HA13001. Stereo. 2x 5W in 4 ohms. Replacement: ?
* [[MV4]], [[MV6]]: Probably HA13001.
* [[MV1B]]: Toshiba TA8201AK. Mono. 1x ~7W in 4 ohms. Replacement: ?
* [[MV1C]]: ST TDA7240. Mono 1x 20W in 4ohms.

[[Category:Audio system]]
[[Category:Repairs]]

Notes about power supply testing ? Unloaded/loaded voltage ? Max current ? Linear vs. switching infos ?

Also see [[power supply]].

=How to identify=

Most first generation AES consoles ({{PCB|NEO-AES board}}) are 5V only. Some equipped with the {{PCB|NEO-POWER-0}} board require 9V (see below).

One way to know for sure is to take apart your console and look for a '''large copper coil and a 5-pin [[LM2576]] chip'''. If both are present, the console requires 9V.

Beware with only taking in consideration the sticker under the case referring the voltage requirements.
There has been an considerable rise in case swapping between consoles, like picking up a good case 9V AES case and replacing for a 5V AES broken case, or even printing fake labels and putting on the a case with the wrong voltage version.

=5V AES=
The best idea SNK ever had was to sell a video game console with its power input going straight to all the chips, without any kind of polarity or voltage protection. This probably resulted in many fried consoles and pushed SNK to make the "9V" version.

* Voltage requirement: 5V +/- 0.2V
* Current requirement: 2A

Going over 5.2V will more or less quickly kill components. '''9V will cook everything'''. Going under 4.8V can cause glitches or resets.

="9V" AES=
Considering the 0.5V max drop of the input diode (D1: SR340) and the minimum voltage for the [[LM2576]], the "9V" version AES console should run fine '''starting at 7.5V'''. Using a 5V power supply won't damage anything, it simply '''won't work'''.

The [[LM2576]] can work up to 45V but the surrounding components were probably chosen to withstand '''no more than 12V'''. The capacitors are rated at 16V.

The current draw is around '''750mA at 9V'''. It can be expected to rise up to 1.5A depending on the game played and the use of headphones.

=MVS=
To do.

'''Do not''' adjust your cab or [[supergun]] PSU 5V output above 5.2V (5.15V ?) to compensate for a voltage drop under load. If there's such a voltage drop, the PSU either has a current rating too low, or needs servicing. Increasing the 5V line's voltage might be a temporary solution for spurious resets, but can slowly deteriorate chips in the long run.

=CD=
To do. See [[NEO-CDA board]].

[[Category:Base system]]

Home consoles (AES) barrel jack polarity: '''outer is positive''', inner is ground. Note: early systems '''don't have reverse-polarity protection !'''

Also see [[power requirements]], for specific current requirements for each system.

=NEO-POW3=

Two versions, one reference...

* Input: 110V AC '''only'''
* Ouput: 10V DC 1A

...and...

* Input: 110V AC '''only'''
* Ouput: 11V DC 700mA

This one can fry early 5V systems.

==PRO-POW==

* Input: 100V AC '''only'''
*Output: 5V DC 3A

==PRO-POW-UL==

* Input: 120V AC '''only'''
* Output: 5V DC 3A

==PRO-POW-PAL==

* Input: 220V-240V AC '''only'''
* Output: 5V DC 3A

==POWCD-E, [[POWCD-X]]==

* Input: 110V-240V AC (universal)
* Output 5V DC 2A, 10V DC 1A

==POWCD-J==

* Input: 100V AC '''only'''
* Output 5V DC 2A, 10V DC 1A

==POWCD-Y==

* Input: 110V-240V AC (universal)
* Output 5V DC 2A, 10V DC 1A

Maybe just a revision of POWCD-E.

[[Category:Base system]]

{{GameInfo|right
|en_title=Prehistoric Isle 2
|jp_title=Prehistoric Isle 2
|jp_title2=原始島2
|developer=Yumekobo
|ngh_id=255
|megcount=478
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=preisle2
|mvs_date=1999
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

#REDIRECT [[Prehistoric Isle 2]]

=For AES and MVS=

Minimal [[68K]] code header:

&lt;syntaxhighlight>
	org $0064
	dc.l VBLANK	;IRQ handler

	org $0100       ; Recognition 1
	dc.b "NEO-GEO",$00

	org $0108
	dc.w $1234	;NGH

	org $0122
	jmp USER	;entry

	org $0114
	dc.w $0100	;eye-catcher flag

	org $0182
	dc.l Code	;Recognition 2
Code:
	dc.l $76004A6D,$0A146600,$003C206D,$0A043E2D
	dc.l $0A0813C0,$00300001,$32100C01,$00FF671A
	dc.l $30280002,$B02D0ACE,$66103028,$0004B02D
	dc.l $0ACF6606,$B22D0AD0,$67085088,$51CFFFD4
	dc.l $36074E75,$206D0A04,$3E2D0A08,$3210E049
	dc.l $0C0100FF,$671A3010,$B02D0ACE,$66123028
	dc.l $0002E048,$B02D0ACF,$6606B22D,$0AD06708
	dc.l $588851CF,$FFD83607
	dc.w $4e75
&lt;/syntaxhighlight>

Only the 2 cartridge recognition codes and Vblank handlers are needed to start on the AES.

=For CD=

&lt;syntaxhighlight>
    org     $100
    dc.b    "NEO-GEO",$02           ;CDDA flag
    dc.w    $1234                   ;NGH
    dc.l    $00100000               ;P ROM size
    dc.l    $0010F000               ;debug DIPs pointer
    dc.w    $01                     ;size of DIP data
    dc.b    $00                     ;let the BIOS show the logo
    dc.b    $1B                     ;first tile of the logo is $1B00

    org     $122
    jmp     USER

    org     $13A
    dc.w    $0000                   ;Z80 RAM address for CDDA commands
&lt;/syntaxhighlight>

[[IPL file|IPL.TXT]], ABS, BIB and CPY files.

[[Category:Code]]

#REDIRECT [[Power Spikes II]]

{{GameInfo|right
|en_title=Pulstar
|jp_title=Pulstar
|jp_title2=パルスター
|developer=Aicom
|ngh_id=089
|megcount=305
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=pulstar
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_romset=pulstar
|aes_date=29/09/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=27/10/95
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Bust-A-Move
|jp_title=Puzzle Bobble
|jp_title2=パズルボブル
|eu_title=Puzzle Bobble 
|developer=Taito
|ngh_id=083
|megcount=32
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=pbobblen
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=27/04/95
}}

Some [[Power Spikes II]] MVS cartridges were converted to Puzzle Bobble by SNK by doing the following:
* Replaced the Power Spikes II P1 ROM by the Puzzle Bobble "d96-07" P1 ROM in the EP1 spot.
* Replaced the Power Spikes II V3 ROM by the Puzzle Bobble "d96-01" V3 ROM, also added the "d96-05" V4 ROM.
* Replaced the Power Spikes II C5 and C6 ROMs by the Puzzle Bobble "d96-02" C5 ROM and "d96-03" C6 ROM.
* Replaced the Power Spikes II S1 ROM by the Puzzle Bobble "d96-04" S1 ROM.
* Replaced the Power Spikes II M1 ROM by the Puzzle Bobble "d96-06" M1 ROM.

To probably save on manual labor, the unused Power Spikes II V1, V2, C1, C2, C3 and C4 ROMs were not removed.

[[Category:Games]]

{{GameInfo|right
|en_title=Bust-A-Move Again
|jp_title=Puzzle Bobble 2 
|jp_title2=パズルボブル 2
|eu_title=Puzzle Bobble 2
|developer=Taito
|ngh_id=248
|megcount=46
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=pbobbl2n
|mvs_date=1999
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Puzzle De Pon!
|jp_title=Puzzle De Pon!
|jp_title2=パズル de ポン!
|developer=Taito (Visco license)
|ngh_id=202
|megcount=30
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=puzzledp
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROG_4096
|mvs_cboard=CHA_42G-2
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Puzzle De Pon! R!
|jp_title=Puzzle De Pon! R!
|jp_title2=パズル de ポン! R
|developer=Taito (Visco license)
|editor=Visco
|ngh_id=235
|megcount=32
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=puzzldpr
|mvs_date=1997
|mvs_pchip=
|mvs_pboard=PROG_4096
|mvs_cboard=CHA_42G-2
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Puzzled 
|jp_title=Joy Joy Kid
|jp_title2=ジョイジョイキッド
|developer=SNK
|ngh_id=021
|megcount=22
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=joyjoy
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-EP
|mvs_cboard=CHA-32
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=01/07/91
|aes_romset=joyjoy
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

Smallest game edited for the NeoGeo (~191KiB 68k ROM).

The CD version of the game has only about 200 bytes changed and/or added to patch in code for [[CDDA]] music playback.

[[Category:Games]]

#REDIRECT [[Puzzle De Pon!]]

{{GameInfo|right
|jp_title=Quiz Daisousa Sen - The Last Count Down
|jp_title2=クイズ大捜査線
|developer=SNK
|ngh_id=023
|megcount=34
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=quizdais
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G
|mvs_cboard=CHA42G
|aes_release=y
|aes_release_jp=y
|aes_romset=quizdais
|aes_date=30/08/91
}}

[[Category:Games]]

{{GameInfo|right
|jp_title=Quiz King of Fighters
|jp_title2=クイズ キング・オブ・ファイターズ
|developer=Saurus
|ngh_id=080
|megcount=122
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=quizkof
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_romset=quizkof
|aes_date=10/03/95
|cd_release=y
|cd_release_jp=y
|cd_date=07/04/95
}}

[[Category:Games]]

#REDIRECT [[Quiz Meitantei Neo &amp; Geo]]

[[Category:Games]]

#REDIRECT [[Quiz Meitantei Neo &amp; Geo - Quiz Daisousa Sen part 2]]

#REDIRECT [[Quiz Daisousa Sen - The Last Count Down]]

#REDIRECT [[Quiz King of Fighters]]

[[MVS hardware|MVS]] RAM chips often fry due to overvoltage from a badly adjusted or failing cab power supply. It appears that the most common failure mode is the inability to write new data, resulting in errors during [[system self-test]] at the beginning of address ranges.

NeoGeo use multiples SRAM (Static RAM) types:
* Work, Backup and lower Video RAM chips are 256k SRAM (5 volt, JEDEC pin compatible, 32K x 8bit) and only differ by speed. They have "256" or "257" in their markings
* Fast Video RAM (VRAM $8000~$87FF) chips are embedded into a Neo-GRC chip or 16k SRAM (5 volt, 24pin DIP, 2K x 8bit, 35ns or faster), however some [[MVS hardware|MVS]] and [[AES hardware|AES]] allow the use of a 28pin SRAM by the use of a jumper.
* Sound RAM chips are 16k SRAM (5 volt, 24pin DIP, 2K x 8bit, 150ns or faster) - fast Video RAM chip can be used as a replacement as they are faster (35ns).
* Palette RAM chips are 64k SRAM (5 volt, JEDEC pin compatible, 8K x 8bit, 120ns or faster)

See [[memory speed]] for details about speed grades.


==Pictures==

&lt;gallery>
File:Cxk58256mm12.jpg|Sony CXK58256 120ns&lt;br />Work, Backup and Video RAM
File:CXK5864BSP-10L.jpg|Sony CXK5864BSP 100ns&lt;br />Palette RAM
File:CXK5814P-35L.jpg|Sony CXK5814P 35ns&lt;br />fast Video RAM
File:BR6216B-10LL.jpg|BR6216B 100ns&lt;br />Sound RAM
File:BR6265BF-10SL.jpg|BR6265BF 100ns&lt;br />Palette RAM
File:BR6216A-15L.jpg|BR6216A 150ns&lt;br />Sound RAM
&lt;/gallery>

==Pinout and cross-refence==

===Work, Backup, Video===
* CXK58256MM-12
* KM62256CLG-7
* W24258S-70LE
* CXK58257AM-12LX
* any "43256", "62256", CXK58257

===Fast Video===
* CXK5814P-35L
* CXK5863P-35L (only on boards that allow the use by changing the jumper)
* any CXK5814, CYC128A, 6116

===Palette===
* CXK5864BSP-10L
* LH5168N-80L
* XLJ6265AF-10SL
* BR6265BF-10SL
* "6164" for generic device test

===Sound===
* BR6116-100
* BR6216B-10LL
* BR6216A-10LL
* any CXK5814, CYC128A, 6116

==Replacement==

For '''Work, Backup and Video RAM''' look for 256kbit SRAM, 5 volt, JEDEC pin compatible, 32K x 8bit, 120ns or faster in 28 pin SOIC package (not SOJ). 
Cypress, ISSI, UMC and Lyontek still make them and most today are 45ns, so any will do. This includes 62256, 43256, cxk58257, and others.


For '''fast Video RAM''' look for 16kbit SRAM, 5 volt, JEDEC pin compatible, 2K x 8bit, 35ns or faster in 24pin DIP package.&lt;br />
For '''Sound RAM''' look for 16kbit SRAM, 5 volt, JEDEC pin compatible, 2K x 8bit, 150ns or faster in 24pin DIP package. &lt;br />
This includes the CXK5814, CYC128A, and 6116 ICs, provided they are fast enough.


For '''Palette RAM''' chips 
The can be replaced by 64k RAM chips off of old 386/486 motherboards (fast cache).
This includes the CXK5864BSP-10L 28 pin DIP and LH5168N-80L 28 pin SOIC

==Chips types and locations==

===MV-1===
* Work: CXK58256MM-12, G3 &amp; H3
* Backup: CXK58256MM-12, H5 &amp; H6
* Video: CXK58256MM-12, G4 &amp; H4
* fast Video: CXK5814P-35L, C5 &amp; D5
* Palette: CXK5864BSP-10L, H9 &amp; H10
* Sound: BR6116-100, H1

===MV-1A===
* Work: KM62256CLG-7, RAM1 &amp; RAM2
* Backup: KM62256CLG-7, RAM3 &amp; RAM4
* Video: KM62256CLG-7, RAM5 &amp; RAM6
* fast Video: none
* Palette: LH5168N-80L, BR6265BF-10SL, RAM7 &amp; RAM8
* Sound: BR6216B-10LL, RAM9

===MV-1B===
* Work: KM62256CLG-7, RAM1 &amp; RAM2
* Backup: KM62256CLG-7, RAM3 &amp; RAM4
* Video: KM62256CLG-7, RAM5 &amp; RAM6
* fast Video: none
* Palette: none
* Sound: BR6216B-10LL, RAM7

===MV-1C===
* Work: W24258S-70LE, RAM1 &amp; RAM3
* Backup: W24258S-70LE, RAM2 &amp; RAM4
* Video: W24258S-70LE, RAM5 &amp; RAM6
* fast Video: none
* Palette: none
* Sound: none

===MV1FS===
* Work: CXK58257AM-12LX, H4 &amp; H5
* Backup: CXK58257AM-12LX, H6 &amp; H7
* Video: CXK58257AM-12LX, B4 &amp; B5
* fast Video: CXK5814P-35L, C6 &amp; D6
* Palette: CXK5864BSP-10, H8 &amp; H8
* Sound: BR6116-10, K3

===MV1FZ &amp; MV1FZS===
* Work: KM62256CLG-7, RAM1 &amp; RAM2
* Backup: KM62256CLG-7, RAM3 &amp; RAM4
* Video: KM62256CLG-7, RAM5 &amp; RAM6
* fast Video: CXK5814P-35L, RAM7 &amp;RAM8
* Palette: XLJ6265AF-10SL, RAM9 &amp; RAM10
* Sound: BR6216B-10LL, RAM11

===MV2FS===
* Work: LH52B256N-70LL, D3 &amp; D4
* Backup: LH52B256N-70LL, G1 &amp; G2
* Video: LH52B256N-70LL, C7 &amp; C8
* fast Video: CXK5814P-35L, C9 &amp; D9
* Palette: CXK5864BSP-10L, B8 &amp; B8
* Sound: BR6216B-10LL, K11

===MV2-01===
* Work: LH52B256N-70LL, E5 &amp; E6
* Backup: LH52B256N-70LL, H3 &amp; H4
* Video: LH52B256N-70LL, F13 &amp; G13
* fast Video: CXK5814P-35L, F12 &amp; G12
* Palette: CXK5864BSP-10L, B9 &amp; C9
* Sound: BR6216B-10LL, BR6216A-10LL, K13

===MV-4F===
* Work: CXK58256MM-12L, G9 &amp; H9
* Backup: CXK58256MM-12L, D9 &amp; E9
* Video: CXK58256MM-12L, K9 &amp; L9 
* fast Video: CXK5814P-35L, L11 &amp; M11
* Palette: CXK5864BSP-10L, F4 &amp; H4
* Sound: BR6216B-10LL, L1

===MV-6===
* Work: H9 (lower) &amp; J9 (upper)
* Backup: E9 (upper) &amp; F9 (lower)
* Video: L9 &amp; K9
* fast Video: CXK5814P-35L, M11 &amp; N11
* Palette: CXK5864BSP-10L, G4 &amp; H4
* Sound: BR6116-100, M1





[[Category:Chips]]
[[Category:Repairs]]

==BIOSF_READ_CALENDAR ($C0045C)==

Helper function which reads the [[uPD4990]] calendar date and time in [[68k user RAM|RAM]]. MVS only. Sets in BCD:

{| class="regdef"
| '''Address'''
| '''DEF name'''
| '''Size'''
| '''Set by'''
| '''Description'''
|-
|$10FDD2
|BIOS_YEAR
|byte
|BIOS
|Current year
|-
|$10FDD3
|BIOS_MONTH
|byte
|BIOS
|Current month
|-
|$10FDD4
|BIOS_DAY
|byte
|BIOS
|Current day
|-
|$10FDD5
|BIOS_WEEKDAY
|byte
|BIOS
|Current weekday (Sunday = 00, Monday = 01 ... Saturday = 06)
|-
|$10FDD6
|BIOS_HOUR
|byte
|BIOS
|Current hour (24h format)
|-
|$10FDD7
|BIOS_MINUTE
|byte
|BIOS
|Current minute
|-
|$10FDD8
|BIOS_SECOND
|byte
|BIOS
|Current second
|}

[[Category:BIOS calls]]

Some of the last arcade boards made by SNK Playmore around 2003 were standalone NeoGeo systems with no cartridge slots. Three games are known to have been used on that kind of hardware:

* [[The King of Fighters 2003]] (MV0C)
* [[Metal Slug 5]] (MV0BR)
* [[SNK vs. Capcom - SVC Chaos]] (MV0, MV0B)

PCB models: MV0, MV0B, MV0BR, MV0C

=Particularities=

All game ROMs are encrypted. Some boards have ROMs on SMD sockets for some reason.

The [[power amp]] is class D.

The MV0C board used for The King of Fighters 2003 uses an Altera CPLD labeled "MASK2".

=Chips used=

*Audio: [[NEO-PCM2]], [[NEO-YSA|NEO-YSA2]]
*Video: [[NEO-GRZ]], [[NEO-CMC]] (90G06CF7050)
*[[NEO-PVC]], [[NEO-DCR-T]]

See [[http://www.mvs-scans.com/index.php/Main_Page#Games_-_PCB this list]] for board scans.

[[Category:Cartridge systems]]

[[NG:Dev.Team]]'s [[CHA board]]s.

=Version 1.5=

[[Category:Cartridge systems]]

#REDIRECT [[UPD4990]]

[[Category:Cartridge systems]]

{{GameInfo|right
|en_title=Rage of the Dragons
|jp_title=Rage of the Dragons
|jp_title2=レイジ・オブ・ザ・ドラゴンズ
|developer=Evoga
|editor=Playmore
|ngh_id=264
|megcount=564
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=rotd
|mvs_date=2002
|mvs_pchip=
|mvs_pboard=PROGBK2
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=20/09/2002
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Ragnagard 
|jp_title=Shin-Oh-Ken
|jp_title2=神凰拳
|developer=Saurus
|ngh_id=218
|megcount=338
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ragnagrd
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_date=26/07/96
|cd_release=y
|cd_release_jp=y
|cd_date=23/08/96
}}

[[Category:Games]]

#REDIRECT [[Ragnagard]]

#REDIRECT [[Blue's Journey]]

[[Category:Games]]

#REDIRECT [[Real Bout Fatal Fury]]

#REDIRECT [[Real Bout Fatal Fury 2 - The Newcomers]]

#REDIRECT [[Real Bout Fatal Fury Special]]

Registers {{Reg|REG_CDDALEFTL}} and {{Reg|REG_CDDARIGHTL}} hold the values of the currently streamed CD audio data, in a reversed 16bit 2's complement format suited for the [[LC78815]] DAC. They were only used to display the vu-meters in the CD player interface.

The CD [[system ROM]] uses the following code to reverse the bits:
&lt;syntaxhighlight>
;D1:Input, D0:Output
reverse16bits:
    moveq	#16-1,d7
	moveq	#0,d0
rev:
	lsr	    #1,d1
	bcc	zerobit
	bset	d7,d0
zerobit:
	dbf	    d7,rev
&lt;/syntaxhighlight>

It reads both registers multiple times during each frame (every 16 raster lines, by using the [[68k interrupts|raster interrupt]]) to get an average value.

==Demo==
[[File:screencap_cddaviz.png|right]]
This does NOT work on current emulators.

Uses:
*Raster line interrupts
*[[Sprites]] (shrink and displacement)
*[[Fix layer|Fix]] (frame counter)
*[[Palettes]]

Source for AS and iso image: [[File:Vumeter1.zip]]

[[http://www.youtube.com/watch?v=JP5VAypJIYk Youtube video]]

[[Category:Code]]
[[Category:Sound Code]]
[[Category:CD systems]]

{{GameInfo|right
|en_title=Real Bout Fatal Fury 
|jp_title=Real Bout Garou Densetsu
|jp_title2=リアルバウト餓狼伝説
|developer=SNK
|ngh_id=095
|megcount=346
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=rbff1
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=26/01/96
|aes_pboard=PROGBK1Y
|aes_cboard=CHA256RY
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=23/02/96
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Real Bout Fatal Fury 2 - The Newcomers 
|jp_title=Real Bout Garou Densetsu 2 - the newcomers
|jp_title2=リアルバウト餓狼伝説 2
|developer=SNK
|ngh_id=240
|megcount=539
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=rbff2
|mvs_date=1998
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA512Y
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=29/04/98
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=23/07/98
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Real Bout Fatal Fury Special 
|jp_title=Real Bout Garou Densetsu Special
|jp_title2=リアルバウト餓狼伝説スペシャル
|developer=SNK
|ngh_id=223
|megcount=394
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=rbffspec
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256B
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=28/02/97
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=30/03/97
}}

[[Category:Games]]

#REDIRECT [[Real Bout Fatal Fury]]

[[Category:Games]]

#REDIRECT [[Real Bout Fatal Fury 2 - The Newcomers]]

[[Category:Games]]

#REDIRECT [[Real Bout Fatal Fury Special]]

[[Category:Games]]

Depending on the chipset, video is generated by 3, 2 or one unique chip:

* 3: [[LSPC-A0]], [[PRO-B0]], [[PRO-C0]] (early)
* 2: [[LSPC2-A2]], [[NEO-B1]] (most common)
* 1: [[NEO-GRC]] (CD systems), [[NEO-GRZ]] (CDZ, MV-1C...)

See [[graphics pipeline]] for an overview of the interconnections between chips and cartridges. See [[Display timing]] for the sync signal's timing.

There are two main parts in generating video:

* An address generator (LSPC), which queries the graphics ROMs in the cartridges according to the data set in [[VRAM]].
* Line buffers, to which pixels can be written in any order from the graphics ROMs data.

=Line buffers=

To render sprites, the NeoGeo uses a pair of line buffers which are each 320 pixels long (a whole scanline). When one is used for rendering, the other one is shifted out for video output. Each new scanline, the buffers are flipped. This can be seen as a kind of double-buffering, allowing pixels to be rendered in any order.

To increase bandwidth, pixels are rendered two by two in sub-pairs: there are actually 4, 160-pixels-long buffers interleaved in an odd/even fashion. This scheme was inherited from the [[Alpha68k]].

The fix layer pixels are rendered in real time over the buffers output.

==Fix tiles==

* Fix pixels are output in time with the pixel clock (6MHz, 4mclk).
* One fix tile line is therefore output in: 8 pixels * 4mclk = 32mclk. No variation.
* The S ROM outputs 8 bits at a time so: 8 bits / 4bpp = 2 pixels at a time.
* S ROM reads needed for one fix tile line: 8 pixels / 2 pixels per read = 4 reads.

Address sequence for one tile line:
{|class="wikitable"
! A4 !! 2H1 !! pixel pair
|-
| 1 || 0 || A
|-
| 1 || 1 || B
|-
| 0 || 0 || C
|-
| 0 || 1 || D
|}

2H1 bypasses the PCK* latchs.

==Sprite tiles==
16mclk = 16 pixels, 8 pixels per read.

* Sprite pixels are rendered two-by-two at 12MHz (2mclk).
* One sprite tile line is therefore rendered in: 16 pixels / 2 * 2mclk = 16mclk. No variation, even if shrinking is used.
* The C ROM outputs 2 * 16 = 32 bits at a time so: 32 bits / 4bpp = 8 pixels at a time.
* C ROM reads needed for one sprite tile line: 16 pixels / 8 pixels per read = 2 reads.

Address sequence for one tile line:
{|class="wikitable"
! CA4 !! 8-pixel line
|-
| 1 || A
|-
| 0 || B
|}

CA4 bypasses the PCK* latchs.

=Active lists=

The NeoGeo uses a pair of active lists, where the sprites numbers which need to be rendered on the next scanline are written to. As with the line buffers, the active lists are swapped every new scanline so that one is being filled by parsing, the other one is used for rendering.

They are located in the fast VRAM at addresses $8600 and $8680. Each list is 96-entries long.

=Slow VRAM access slots=

Slow VRAM has four 4mclk-long access slots running in sequence with no variations:

# Read sprite map even word
# Read sprite map odd word
# Read fix map
# Read/Write for CPU

=Fast VRAM access slots=

Fast VRAM is more complex and faster. It has 10 access slots with varying widths running in sequence with no variations, which can be seen as 5 parsing slots and 5 rendering slots:

{|class="wikitable"
! Slot # !! Duration !! Description
|-
|1
|2mclk
|rowspan=5|Parsing
|-
|2
|1.5mclk
|-
|3
|1.5mclk
|-
|4
|1.5mclk
|-
|5
|1.5mclk
|-
|6
|2mclk
|Read active list
|-
|7
|1.5mclk
|Read SCB2
|-
|8
|1.5mclk
|Read SCB3
|-
|9
|1.5mclk
|Read SCB4
|-
|10
|1.5mclk
|Read/write for CPU
|}

Yellow are parsing cycles, purple is the active list read, green is SCB* reads for rendering, red is for CPU access:

[[file:timing_gpu1.png]]

The parsing cycles aren't consistent, they depend on the matching of sprites. One cycle will read from SCB3 to test if its Y position matches with the current raster line. If there's a match, the next cycle will be a write to the active list. Otherwise it's another read cycle.

Fast VRAM must be fast enough (45ns) as the shortest slots are 1.5mclk (62.5ns). 1mclk (41.6ns) would be too fast and SRAM was already expensive.

=Sprite parsing=

&lt;span style="color:#FF0000">This is still a draft. The following information shouldn't be considered as correct.&lt;/span>

LSPC splits the workload needed to render sprites in two passes: parsing and rendering.

* Parsing for a raster line N is done during line N-2
* Rendering is done during line N-1
* Finally the line is ready for output just at the right time.

During parsing, the Y positions of 381 sprites are read to see if they will be visible on line N. If that's the case, the sprite number is written to the active list currently being filled. This goes on until 381 sprites were parsed, OR the active list is full (96 sprite numbers were written), whichever comes first.

* If sprite #382 is reached, the remaining time is used to fill the active list up to 96 entries with zeros.
* If the active list is full, sprites are still parsed up to #382 but no writes are done to the active list, whatever the matching result.

No matter how many sprites are matched in the scanline, there will always be 381 SCB3 reads and 96 active list writes.

This explains why sprite #0 cannot be used: this is the value used to top-up the active list. If there are less than 96 sprite matches (like most of the time), the sprite #0 will be rendered over and over again until the end of the list is reached.

In the next paragraphs, each character represents a parsing slot: R is an SCB3 read, W is a sprite number write to the active list, F is a filling write to the active list, - is just idle waiting. There are always 1536mclk per line / 16mclk per cycle * 5 slots per cycle = 480 slots.

==Case 1: Not a single sprite match==

Fast VRAM cycles:
&lt;pre>
24M    _|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_
Addr     200  | 201 | 202 | 203 | 204 |  681  | 00E | 20E | 40E | 600 |  205  | 206 | 207 | 208 | 209 |  682  | 00F | 20F | 40F
R/W     Read   Read  Read  Read  Read                                   Read   Read  Read  Read  Read
&lt;/pre>

381 read slots, 96 fill slots, 3 waiting slots:
&lt;pre>
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF---
&lt;/pre>

==Case 2: Some sprites match==

Fast VRAM cycles:
&lt;pre>
24M    _|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_
Addr     200  | 201 | 600 | 202 | 203 |  681  | 00E | 20E | 40E | 600 |  601  | 204 | 205 | 602 | 206 |  682  | 00F | 20F | 40F
R/W     Read   Read  Write Read  Read                                   Write  Read  Read  Write Read
&lt;/pre>

If 17 sprites match: 381 read slots, 17 write slots, 96-17=79 fill slots, 3 waiting slots:
&lt;pre>
RRRRRRWRRRRRRRRRRRRRRRRRRRRWRRRRRRRRRWRRRRRRWRRRRRRWRRRRRWRWRWRRRRRRRRRWRRRRRRRRRRRRRRWRRRRRRRRRRRRR
RRRRRRRRRRRRRRRRRRRWRWRRRRWRWRRRRRRRRRRRRRRRRRRRRRRRRWRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRWRRRWRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF---
&lt;/pre>

==Case 3: Exactly 96 sprites match==

Fast VRAM cycles:
&lt;pre>
24M    _|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_|'|_
Addr     200  | 600 | 201 | 601 | 202 |  681  | 00E | 20E | 40E | 600 |  602  | 203 | 204 | 603 | 604 |  682  | 00F | 20F | 40F
R/W     Read   Write Read  Write Read                                   Write  Read  Read  Write Read
&lt;/pre>

381 read slots, 96 write slots, 0 fill slots, 3 waiting slots:
&lt;pre>
RRRRRRWRRRRWRRRRRRRWRRRRRWRWRWRRWRRRRRRRRRWRRRRRRWRRWRRRRWRRRRRWRWRWRRRRRWRRRRWRRRRRRRRWRRRRRRWRRRWR
WRWRRWRRRRRRRWRRRWRRRWRRRRWRRRRRRRRWRWRRRRWRWRRRRRRRRRRRRRRRRRRRRRRRRWRRRRRRRRRRRRRRWRRRWRWRWRWRRWRW
RRRRWRRWRRWRRRWRRRWRRWRRRRWRWRWRRWRRRWRWRWRRWRRRRWRRRRRWRRWRRWRRRRRRWRRRWRRRRWRRRRRWRRWRRRWRRRWRRRRR
WRWRWRWRWRWRRRWRRRWRRRRRRRWRRRWRWRRRWRRRRRRRRRWRRRRRRRWRWRWRWRRRRRRRRRRWRRWRRRRRRWRRRRRRRRRRRRRRRRRR
RRRRRRRRRRRRRRRWRRRWRRRRWRRRWRRRRRRRWRRRRRRRWRRRRWRWRRRWRRWRRRRWRRRRRWRRRRRWR---
&lt;/pre>

==Case 4: More than 96 sprites match==

Same as case 3, except after 96 "W"s, there are only useless "R"s.

==Rendering==

# Read active list ($8600+ or $8680+) to get sprite #
# Read SCB2 zoom values ($8000+)
# Read SCB3 Y position, height, and chain bit ($8200+)
# Read SCB4 X position ($8400+)

The tile # and its attributes are also read from slow VRAM.

==CPU access to VRAM==

SNK says min. 12 68kclk between writes (so 24mclk). 1 write every 24mclk = 64 per scanline.

CPU access occurs asynchronously with the 68000 bus -> storage in LSPC. If no write is requested, then the slots are occupied by reads, effectively updating one of the two read buffers continuously with the value pointed by the last used VRAM address.

=Buffers control=

==CK signals==
CK1~4 signals are used to clock each of the 4 buffers.

* During rendering, the pulses often go by pair (1+2 or 3+4) to render pixels 2 by 2 if the corresponding WE signal is asserted (opaque pixel). Horizontal shrinking causes pulses to be skipped, so that the buffer's address isn't incremented.
* During output, the pulses are slower and always alternate (1/2/1/2... or 3/4/3/4...) to output even/odd pixels in sequence.

* If the corresponding LD* signal is high, the buffer pointer is incremented (rendering left to right).
* If the corresponding LD* signal is low, the buffer pointer is loaded from the [[P bus]] (X position of sprite, or 0 to start line output).

Inactive during H-blank.

==LD signals==
The LD1~2 signals are synchronous signals used to load the pointers for a buffer pair as two bytes.

Example P bus values for 5 full-width sprites right next to each other, starting at X=0:

&lt;pre>0000,0808,1010,1818,2020&lt;/pre>

Example P bus values for 5 full-width sprites right next to each other, starting at X=1 (pixel pairs will be flipped by NEO-ZMC2):

&lt;pre>0100,0908,1110,1918,2120&lt;/pre>

As sprite lines '''always''' take 16mclk to render, there's an LD* pulse every 16mclk to set the new starting address (X position) '''except''' for chained sprites. There's also always an unique pulse just before output to reset the pointers to 0.

==WE signals==
WE1~4 signals are used to tell if the pixel should be written to a buffer.

During rendering, the pulses are synchronized to CK signals.

* If the pixel is opaque, there are both pulses at the same time (write pixel).
* If the pixel is transparent, there is a CK pulse but no WE pulse (skip pixel, move to next one).
* If the pixel is skipped for horizontal shrink, there are no pulses at all (do nothing).

During output, the pulses are also synchronized to CK signals and always present. This is used to clear the buffers to the backdrop color for the next rendering cycle.

==SS signals==
The SS1/2 signals enable clearing of buffer pairs, active during output.

==Others==

* TMS0 is used to flip the buffers, related to the lowest bit of the raster counter.
* The rising edge of PCK1 and PCK2 latches fix or sprite pixels from the cart ROMs.

Fix data is read 8 pixels in advance (32mclk, confirms what Charles wrote in mvstech.txt).

[[Category:Video system]]

=Damaged chips=

==Smoke and other visible clues==

[[File:Friedchip.jpg|thumb|If a chip looks like the moon's surface, it can only be bad news. Here [[NEO-GRC2-F]] on a [[MV1B]], which fried under 12V.]]

Visual inspection can reveal physically damaged chips. Burnt, deformed or cracked chips are definitely dead.

On NeoGeo systems, burnt chips are often a sign that the 5V rail went way higher than 5V, probably because of a cab or [[supergun]] power supply failure, 12V short, or a reverse connection of the [[JAMMA_connector_pinout|JAMMA connector]]. Several chips are usually killed in that case, but all may not show visible damage.

Some chips may have survived on the board. '''May have'''.

==Internal damage==

Internal chip damage is more common, and can't be detected visually. Voltage spikes or shorts may cause microscopic, irreversible damage, resulting in floating or "stuck" pins.

That's why some pins of multi-purpose SNK chips like [[NEO-I0]] may still function, but others may be dead. Some custom chips can be saved if they're mostly functioning: the dead pins can be cut off and replaced with discrete logic chips with a bit of courage.

[[RAM_chip|RAM]] having unexplainable behavior are certainly internally damaged and need to be replaced. Multiple RAM chips may have been killed by a "long" voltage spike. RAM chips also tend to die one after the other on cabs which have their PSU's voltage set too high or drifting up with time.

=MVS=


==Backup/Work/Video RAM error==
Typical message looks like: ''Backup RAM error: Address 00D00000; Written 5555; Read 0000.''

The last part is the most useful: ''Written XXXX Read YYZZ''&lt;br />
The YYZZ represent upper and lower bytes - each one handled by a different SRAM IC: YY is upper RAM, ZZ is lower RAM.


The value can help you to know which line/trace causes a problem.&lt;br />
For example, writing AAAA and reading AAA2 means the 4th data line of lower RAM causes a problem.&lt;br />
[[File:Calc-hexa.jpg|200px|]]

==Video RAM error==
*Address between $0000 and $7FFF: Check [[CXK58257]] 32k [[VRAM]] chips next to [[GPU]]s (see [[RAM_chip]]).
*Address between $8000 and $86FF: Check [[CXK5814]] 2k VRAM chips (see [[RAM_chip]]).
*High byte read is different: check the RAM chip with the highest number.
*Low byte read is different: check the RAM chip with the lowest number.
*Read byte stuck to $FF (bad /OE ?), only a few bits different (traces cut ?), random address (floating /OE, /CE ?)

==No [[fix layer]]==
*Signal 1MB doesn't reach [[NEO-B1]].
*Signal PCK2B doesn't reach the cartridge slot.

==No sound==
*Backup RAM corrupt, '''SOUND_STOP''' ($D00046) is non-zero. Clear [[backup RAM]].
*[[YM2610]] has no clock, bad control signals (/CS mainly), or dead.
*[[YM3016]] has cut traces to YM2610, or dead.
*Low sound level: broken sliders/pots, bad caps.
*[[Power amp]] is fried.
*Unplugged or faulty [[NEO-CDD boards|NEO-CDD board]].
*Dead op-amps.

==Z80 error==
Can be caused by bad components / continuity with the following:
*Z80 &lt;-> SM1
*Z80 &lt;-> RAM
*Z80 &lt;-> NEO-B0 (Z80 SD0-SD7)
*Z80 &lt;-> NEO-257 (Z80 SD0-SD7) / if output of mux of a multi slot is shorted

Second generation specific (todo: get pin numbers in a nice table)
*Z80 &lt;-> NEO-D0 (NMI,A2-A4,IORQ) 1st generation is also concerned.
*Z80 &lt;-> NEO-C1 (Z80 SD0-SD7)
*NEO-D0 &lt;-> NEO-C1 (Z80R,Z80W,Z80CLR,SDW)

==Cross-Hatch on Mv4 (Battery Damage)==
Here : 
https://github.com/jwestfall69/neogeo-diag-bios/blob/master/docs/repairs/mv4_067063.md

[[Category:Repairs]]

This guide is for repairing King of Fighters '98 carts with dead Altera MAX chips. Either the game ROMs can be transferred to a {{PCB|PROGBK1}} or the dead MAX chip can be replaced.  
The first method requires the unscrambled ROM (kof98h romset).

== A. Using donor PROGBK1 ==

# Set jumpers correctly on the PROGBK1 board (reference ?)
# Move all ROMs from the PROGSF1 (except for P1) to the corresponding places on the PROGBK1
# Replace the PROGBK1 P1 with a 27C160 containing the kof98h P1 ROM image

== B. Replacing the dead Altera CPLD ==

New EPM7128SQC100 chips with the same package found in KoF98 are still being sold from Digikey. Cheaper ones can be bought from eBay with the usual risks.

The chip then needs to be programmed via JTAG with this definition (WIP): https://github.com/neogeodev/SNKVerilog/blob/master/SF101/sf101.v

[[Category:Repairs]]

[[File:Img02701o.jpg|thumb| Protection check warning screen]]

This guide is for repairing Metal Slug X carts with dead Altera MAX chips.  Either the game ROMs can be transferred to a PROGBK1 or the dead MAX chip can be removed or replaced.  
The first two methods need a hacked ROM which is linked at the bottom of this page.

== A. Using donor PROGBK1 ==

# Set jumpers correctly on BK1 board using this as reference: [http://mvs.gotwalls.com/index.php/File:Last_blade_set3_b1_front.jpg]
# Move all ROMs from the EOP (except for P1) to the corresponding places on the BK1
# Replace the BK1 P1 with a 27C800 containing the hacked ROM image

== B. Fixing the PROGEOP ==

(todo)

* remove MAX
* replace P1 with hacked ROM on 27C800
* patch D0-D7, /E /G etc.
* get ls74 and ls08 hooked up
* get ls139 hooked up for V ROMs
* whatever else, lots more to do compared to BK1 donor swap

== C. Replacing the dead Altera MAX ==

New EPM7128SQC100 chips with the same package found in MSX are still being sold. Someone with a JTAG programmer could program a new chip with an equivalent configuration assuming someone eventually creates one.

($25ish from digikey? Any cheaper from elsewhere? Would cost about as much as a whole cart with shipping added in).  

= P1 replacement =

Download and burn to 27C800: [http://smkdan.eludevisibility.org/neo/mslugx_BK1.zip]

[[Category:Repairs]]

Dirty page for SNK chips replacements development.

Reading various [[http://newlifegames.com/nlg/index.php?topic=1859.0| repair logs]], it appears that dead or partially dead SNK chips are a common issue. It forces cannibalism and forcibly reduces the worldwide stock.

For preservation, it would be desirable to produce drop-in replacement chips to save original boards.

=Considered solutions=

Nobody likes rewiring to accomodate different pinouts, especially 80+ pins chips. Producing new ASICs is out of the question because of the price at low quantities, and because finding pin-compatible models todays would be difficult if not impossible.

The only solution would be adapter boards the size of the original chips, with castellated vias for surface mounting ?
[[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 18:41, 15 January 2016 (CET)

* Reconstruct the chip's logic with regular logic chips ? No: they're all too big. BGA parts aren't 5V compatible.
* Use 2 boards on top of each other with a mezzanine connector ? No, no, no.
* Use 1- or 2-gate SOT-23-5/6 chips ? Maybe in some cases, but would be expensive (long BOM, lots of parts to assemble).
* Use a CPLD ? Probably the best solution. Altera's MAX3000 and Xilinx's XC9500 are 5V-tolerant and are still available at reasonable prices.

=CPLD proposals=

*[[NEO-257]]: 53 I/Os, EPM3064 in TQFP100 ?
*[[NEO-273]]: Only used in cartridges, rarely dies. A clone wouldn't be that useful ?
*[[NEO-BUF]]: Really a pain, too small for QFP CPLDs. 74LVCH16245 in BGA56 ?
*[[PRO-C0]]: Need pinout, quite big so EPM3128 in TQFP144 ?
*[[NEO-C1]]: EPM3128 has enough I/Os, but too big in TQFP144.
*[[NEO-D0]]: 55 I/Os, EPM3064 in TQFP100 ?
*[[NEO-E0]]: 54 I/Os, EPM3064 in TQFP100 ?
*[[NEO-F0]]: 60 I/Os, EPM3064 in TQFP100 ?
*[[NEO-G0]]: 56 I/Os, EPM3064 in TQFP100 ?
*[[NEO-I0]]: 56 I/Os, EPM3064 in TQFP100 ?
*[[NEO-ZMC]]: Very small, can be found on AliExpress (January 2016). BGA ?
*[[NEO-ZMC2]]: 71 I/Os, EPM3128 in TQFP100 ?
*[[PCM]]: Only used in cartridges, rarely dies. 65 I/Os, EPM3064 in TQFP100 ?
*[[NEO-DCR-T]], [[NEO-SDR-T]]: Need pinouts, probably same problem as for NEO-C1.

*LSPCs could be replaced but the I/O requirements directs to >$60 CPLDs.
*Line buffers ([[PRO-B0]], [[NEO-B1]]) could be replaced with MAX10's and level shifting ?. Might be too expensive.

==Altera==

MAX3000 I/Os.

*EPM3032: 34. $1.61
*EPM3064: 34 or 66. $2.93
*EPM3128: 80 (or 96 but doesn't fit). $9.89

==Xilinx==

XC9500/XL I/Os.

*XC9536: 34
*XC9536XL: 36. $1.46
*XC9572: 34, 69 or 72
*XC9572XL: 34, 38, 52 or 72. $2.86
*XC95108: 81. Hard to find.
*XC95144/XL: 81. $7.25

=Board proposals=

Which board houses are castellation friendly ? Is classic 1.6mm good ?

==QFP64R==
==QFP80R==
==QFP100R==

=Logic definitions=

See https://github.com/neogeodev/SNKVerilog

[[Category:Repairs]]
[[Category:Chips]]

The NeoGeo reset signal path can be confusing. The involved signals are:

* {{Sig|VCCON|VCCON}} (MVS only) or {{Sig|RST|RST}} (home console reset button and [[PST518B]]).
* {{Sig|RESET|RESET|N}}: Main, clean reset signal.
* {{Sig|RESETP|RESETP|N}}: Phase sync pulse for {{Chipname|NEO-D0}}.

==Path==

The reset process starts when the open collector VCCON/RST line is set low by the PST518B reset generator, or the reset button. As long as this line is low, {{Chipname|NEO-B1}} keeps its RESET output low. When it goes high again, it lets the [[watchdog]] timer keep RESET low during 8 more frames. This ensures that RESET stays low for at least ~135ms. When RESET goes high, {{Chipname|LSPC2-A2}} outputs a 1mclk-long negative pulse on RESETP to synchronize {{Chipname|NEO-D0}}'s other clock outputs.

[[File:resets.png]]

* A: The VCC voltage is high enough, the PST518B lets go of the RST line. The pull-up makes it go high. The watchdog timer keeps RESET low for 8 frames.
* B: The watchdog reset timer expires, NEO-B1 lets go of RESET. The pull-up makes it go high.
* C: LSPC sees the rising edge on RESET, generates the RESETP negative pulse (synchronized to falling edges of 24M).

=Notes=

==Video sync==
LSPC still generates a video sync signal even when RESET is low. This is needed because NEO-B1 uses the {{Sig|BNKB|BNKB}} signal to time the reset period, which depends on the video sync. This can be observed when the home console's reset button is kept pressed: a valid black picture is still generated. The picture only "jumps" when the button is released because the RESETP pulse causes the sync generator to be reset.

==68k CPU==
To reset the {{Chipname|68k}}, both the HALT and RESET lines must be held low for at least 100ms. Since they're bidirectional pins, they aren't tied together. Internally, NEO-B1 drives both of its RESET and HALT outputs from the same signal, but they're kept separate to prevent HALT driving RESET in case of a bus fault. See the 68k manual for details.

Note that the 68k RESET instruction will only make the RESET line go low: it will reset everything '''except''' the 68k.

The RESET and HALT lines '''must''' pulled high by 4.7kohm resistors.

[[Category:Base system]]

[[File:Cd1_resetgen.jpg|thumb|PST518B in a CD1 system.]]

The Mitsumi PST518B is a [[reset]] generator, it holds the NeoGeo in reset as long as the power supply is below 4.4V.

It has an open-collector output tied to the {{Sig|RST|RST}} line (not {{Sig|RESET|RESET}} !), which is shared with the reset button on the home system. The line goes to {{Chipname|NEO-B1}}.

Not to be confused with the [[watchdog]] reset.

==Internal schematic==

[[File:Pst518b.png]]

Datasheet: [[File:PST518B.pdf]].

==Replacement==

Not pin-compatible: TL7757CL

Pin-compatible: MCP120-450GI/TO


[[Category:Chips]]

#REDIRECT [[Riding Hero]]

{{GameInfo|right
|en_title=Riding Hero
|jp_title=Riding Hero
|jp_title2=ライディングヒーロー
|developer=SNK
|ngh_id=006
|megcount=46
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ridhero
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-HERO
|mvs_cboard=CHA-32
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=26/05/95
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Robo Army
|jp_title=Robo Army
|jp_title2=ロボアーミー
|developer=SNK
|ngh_id=032
|megcount=45
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=roboarmy
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=roboarmy
|aes_date=20/12/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=21/04/95
}}

The CD version has a copy protection that prevents progress after Main Street (3rd stage). The game locks up with the following message: "WARNING THIS CD SOFTWARE IS A COPY AND CAN NOT BE PLAYED FURTHER. COPIED SNK SOFTWARE INFRIGES SNK'S COPYRIGHTS AND TRADEMARKS. WE RECOMMEND THAT YOU PURCHASE ORIGINAL SNK SOFT WARE."

[[Category:Games]]

#REDIRECT [[Robo Army]]

#REDIRECT [[Rage of the Dragons]]

#REDIRECT [[Art of Fighting]]

[[Category:Games]]

#REDIRECT [[Art of Fighting 2]]

[[Category:Games]]

#REDIRECT [[Strikers 1945 Plus]]

== SETUP_CALENDAR ($C00462) ==

Simply sets up the [[RTC]] with the values in the RAM (See [[BIOS_RAM_locations#Calendar_Related|BIOS RAM locations]]).

Does any game call this ?

[[Category:BIOS calls]]

#REDIRECT [[SFIX ROM]]

[[File:mvs_sfix.jpg|right|thumb|SFIX ROM in a 1FZS MVS slot.]]

The SFIX (System FIX) ROM is a 64KiB or 128KiB ROM containing the default [[fix layer]] tileset embedded in most [[MVS_hardware|MVS boards]].

It is used by the [[system ROM]] to display menus when no cartridges are inserted. It can be switched in or out with registers {{Reg|REG_BRDFIX}} and {{Reg|REG_CRTFIX}}.

The [[AES_hardware|home system]] does not have an SFIX ROM.

=Hash=

* CRC32: C2EA0CFD
* SHA1: FD4A618CDCDBF849374F0A50DD8EFE9DBAB706C3

The dump is commonly named sfix.sfix

=Reference=

Rendering of banks 0 to 11 using the [https://en.wikipedia.org/wiki/Color_Graphics_Adapter#Color_palette CGA palette]. Content starting at tile $700 (bank 7) may vary. Banks 7 and 8 are used for the [[HOW TO PLAY]] graphics.

[[File:fixref01.png]]

[[Category:Cartridge systems]]
[[Category:Chips]]

[[File:Sit.jpg|thumb|400px|Picture by [[User:Hpman]]]]

The SIT board is an original [[extension board]] designed for [[The Irritating Maze]] game. It connects to the [[JAMMA_connector_pinout|JAMMA]] edge, to the [[output port]] ('''CON1'''), and to the various peripherals needed by the game ([[trackball]] controller, lights, air compressor, ticket dispenser...).

The additional outputs are organized as:
* 11x 2A sink outputs made with D1764 60V NPN Darlington transistors (space for 5 more).
* 8x 500mA sink outputs made with a 2083 Darlington array through resistors.

The 24V input ('''CON3''') is only used for the flyback diodes on the 2A transistors.

The inputs from the {{PCB|MV1B}} go through a HC14 inverter except one line (reset ?) before going to the EPM7128 CPLD (the same type used in [[Metal Slug X - Super Vehicle-001]]) which contains at least 2 quadrature decoders and counters, and one 16 bit SIPO register with latch (and maybe another 8bit one ?).

=I/O=

The {{Reg|REG_POUTPUT}} register is used for output control by the special [[system ROM]].

{{8BitRegister| - |2|Air jet|1|Card dispenser ?|1|Latch|1|Clock|1|Data|1|Trackball X/Y select}}

If [[hardware DIPs|dipswitch]] 2 ON: Card dispenser connected

=Code=

Special system ROM routines:

* $1B212: clear outputs 8,0, x16 (32 writes, latch all outputs low)
* $1B322: Read trackball X
* $1B342: Read trackball Y
* $1B5C2: Air jet
* $1B494: Set outputs:

&lt;pre>
ROM:0001B494 sub_1B494:
ROM:0001B494                 moveq   #0,d7           ; Start off with D7 cleared      0000 0000 0000 0000
ROM:0001B496                 tst.b   $B22(a5)        ; $10FE22: FLASH LAMP (flag)
ROM:0001B49A                 bne.w   loc_1B4A2
ROM:0001B49E                 bset    #$E,d7          ;                                0a00 0000 0000 0000
ROM:0001B4A2
ROM:0001B4A2 loc_1B4A2:
ROM:0001B4A2                 move.b  $B21(a5),d0     ; $10FE21: COLOR LAMP (2 bits, 000000xx)
ROM:0001B4A6                 beq.w   loc_1B4B2
ROM:0001B4AA                 ror.w   #4,d0
ROM:0001B4AC                 andi.w  #$3000,d0
ROM:0001B4B0                 or.w    d0,d7           ;                                0abb 0000 0000 0000
ROM:0001B4B2
ROM:0001B4B2 loc_1B4B2:
ROM:0001B4B2                 tst.b   $B20(a5)        ; $10FE20: SIDE LAMP (flag)
ROM:0001B4B6                 beq.w   loc_1B4BE
ROM:0001B4BA                 bset    #$B,d7          ;                                0abb c000 0000 0000
ROM:0001B4BE
ROM:0001B4BE loc_1B4BE:
ROM:0001B4BE                 tst.b   $B1F(a5)        ; $10FE1F: TRACK BALL LAMP (flag)
ROM:0001B4C2                 beq.w   loc_1B4CA
ROM:0001B4C6                 bset    #$A,d7          ;                                0abb cd00 0000 0000
ROM:0001B4CA
ROM:0001B4CA loc_1B4CA:
ROM:0001B4CA                 move.w  $B1C(a5),d0     ; $10FE1C: TIMER LAMP (word, 10 bits, 000000xx xxxxxxxx)
ROM:0001B4CE                 andi.w  #$3FF,d0
ROM:0001B4D2                 or.w    d0,d7           ;                                0abb cdee eeee eeee
ROM:0001B4D4                 tst.b   $B29(a5)        ; $10FE29: ? (flag)
ROM:0001B4D8                 beq.w   loc_1B4E0
ROM:0001B4DC                 bset    #$F,d7          ;                                fabb cdee eeee eeee
ROM:0001B4E0
ROM:0001B4E0 loc_1B4E0:
ROM:0001B4E0                 move.b  $B23(a5),d0     ; Copy of $380001
ROM:0001B4E4                 moveq   #$F,d1          ; Shift out 16 bits
ROM:0001B4E6
ROM:0001B4E6 loc_1B4E6:
ROM:0001B4E6                 andi.b  #$31,d0         ; Mask out latch, clock and data bits (00xx000x)
ROM:0001B4EA                 lsr.l   #1,d7
ROM:0001B4EC                 bcc.w   loc_1B4F4
ROM:0001B4F0                 bset    #1,d0           ; Set data bit (00xx00dx)
ROM:0001B4F4
ROM:0001B4F4 loc_1B4F4:
ROM:0001B4F4                 move.b  d0,($380001).l  ; Output data
ROM:0001B4FA                 nop
ROM:0001B4FC                 nop
ROM:0001B4FE                 bset    #2,d0           ; 00xx01dx
ROM:0001B502                 move.b  d0,($380001).l  ; Set clock high
ROM:0001B508                 dbf     d1,loc_1B4E6    ; Loop for all bits
ROM:0001B50C                 nop
ROM:0001B50E                 nop
ROM:0001B510                 andi.b  #$31,d0         ; Mask out latch, clock and data bits (00xx000x)
ROM:0001B514                 bset    #1,d0
ROM:0001B518                 move.b  d0,($380001).l  ; Set data bit (00xx001x)
ROM:0001B51E                 nop
ROM:0001B520                 nop
ROM:0001B522                 bset    #3,d0
ROM:0001B526                 move.b  d0,($380001).l  ; Set latch bit (00xx101x)
ROM:0001B52C                 nop
ROM:0001B52E                 nop
ROM:0001B530                 andi.b  #$31,d0         ; Clear (00xx000x)
ROM:0001B534                 move.b  d0,($380001).l
ROM:0001B53A                 rts
&lt;/pre>

[[Category:Chips]]
[[Category:Cartridge systems]]

[[File:mvs_slot4f.jpg|right|600px]]

Top board for the {{PCB|MV4F}}.

Board map:

{|class="wikitable"
!||1||2||3||4||5
|-
!F
| || ||AS04||F153||
|-
!E
|[[NEO-G0#SLOT4F @ E1|NEO-G0]]||[[NEO-244#SLOT4F @ E2|NEO-244]]|| || ||[[NEO-253#SLOT4F @ E5|NEO-253]]
|-
!D
|[[NEO-G0#SLOT4F @ D1|NEO-G0]]||[[NEO-244#SLOT4F @ D2|NEO-244]]|| || ||[[NEO-253#SLOT4F @ D5|NEO-253]]
|-
!C
|[[NEO-G0#SLOT4F @ C1|NEO-G0]]||[[NEO-244#SLOT4F @ C2|NEO-244]]|| || ||[[NEO-253#SLOT4F @ C5|NEO-253]]
|-
!B
|[[NEO-G0#SLOT4F @ B1|NEO-G0]]||[[NEO-244#SLOT4F @ B2|NEO-244]]|| || ||[[NEO-253#SLOT4F @ B5|NEO-253]]
|-
!A
|[[NEO-244#SLOT4F @ A1|NEO-244]]||[[NEO-244#SLOT4F @ A2|NEO-244]]|| || ||[[NEO-253#SLOT4F @ A5|NEO-253]]
|}

[[Category:Cartridge systems]]

[[File:mvs_slot4ft.jpg|right|600px]]

Top board for the {{PCB|MV4FT}}.

Board map:

{|class="wikitable"
!||1||2||3||4||5
|-
!F
| || ||AS04||F153||
|-
!E
|[[NEO-G0#SLOT4F @ E1|NEO-G0]]||[[NEO-244#SLOT4F @ E2|NEO-244]]|| || ||[[NEO-253#SLOT4F @ E5|NEO-253]]
|-
!D
|[[NEO-G0#SLOT4F @ D1|NEO-G0]]||[[NEO-244#SLOT4F @ D2|NEO-244]]|| || ||[[NEO-253#SLOT4F @ D5|NEO-253]]
|-
!C
|[[NEO-G0#SLOT4F @ C1|NEO-G0]]||[[NEO-244#SLOT4F @ C2|NEO-244]]|| || ||[[NEO-253#SLOT4F @ C5|NEO-253]]
|-
!B
|[[NEO-G0#SLOT4F @ B1|NEO-G0]]||[[NEO-244#SLOT4F @ B2|NEO-244]]|| || ||[[NEO-253#SLOT4F @ B5|NEO-253]]
|-
!A
|[[NEO-244#SLOT4F @ A1|NEO-244]]||[[NEO-244#SLOT4F @ A2|NEO-244]]|| || ||[[NEO-253#SLOT4F @ A5|NEO-253]]
|}

[[Category:Cartridge systems]]

[[File:Slot6_anot.jpg|400px|right]]
[[File:Slot6_details.jpg]]

[[File:74151.png]]

=C ROM data=

CR0~CR31 are multiplexed by 32 74LS251 8-to-1 data selectors. See [[Graphic glitches]].

*K28: CR0
*K29: CR1
*K30: CR2
*J28: CR3
*J29: CR4
*J30: CR5
*H28: CR6
*H29: CR7
*H30: CR8
*G28: CR9
*G29: CR10
*G30: CR11
*F28: CR12
*F29: CR13
*F30: CR14
*E28: CR15
*E29: CR16
*E30: CR17
*D28: CR18
*D29: CR19
*K3: CR20
*K2: CR21
*J3: CR22
*J2: CR23
*H3: CR24
*H2: CR25
*G3: CR26
*G2: CR27
*G1: CR82
*F3: CR29
*F2: CR30
*F1: CR31

=S ROM data=

FIXD0~FIXD7 are multiplexed by 8 74LS251 8-to-1 data selectors. See [[Graphic glitches]].

*E3: FIXD0
*E2: FIXD1
*D3: FIXD2
*D2: FIXD3
*D1: FIXD4
*C3: FIXD5
*C2: FIXD6
*C1: FIXD7

=Blocks=

==Chip 1, 2 &amp; 3: 74F244 [[68k]] address lines==
[[File:Slot6_chip1.png]]
[[File:Slot6_chip2.png]]

[[File:Slot6_chip3.png]]

==Chip 4: 74LS244 68k ROMs control lines==
[[File:Slot6_chip4.png]]

==Chip 5 &amp; 6: 74LS245 68k data lines==
[[File:Slot6_chip5.png]]
[[File:Slot6_chip6.png]]

==Chip 7 &amp; 8: 74LS244 P odd lines and clocks==
[[File:Slot6_chip7.png]]
[[File:Slot6_chip8.png]]

==Chip 9 &amp; 10: 74LS245 P even lines, C/S address, P clocks==
[[File:Slot6_chip9.png]]
[[File:Slot6_chip10.png]]

==Chip 11 &amp; 13: 74LS245 PCM-A ROM multiplexed bus 0~23==
[[File:Slot6_chip11.png]]
[[File:Slot6_chip13.png]]

Note: it looks like SDRADx and sSDRADx are swapped on chip 11 schematic compared to real board.

==Chip 12 &amp; 14: 74LS245 PCM-B ROM multiplexed bus 0~11==
[[File:Slot6_chip12.png]]
[[File:Slot6_chip14.png]]

Note: it looks like SDRADx and sSDRADx are swapped on chip 12 schematic compared to real board.

==Chip 15: 74LS245 [[Z80]] D0~D7==
[[File:Slot6_chip15.png]]

==Chip 16: 74LS244 Z80 [[M1 ROM]] control lines==
[[File:Slot6_chip16.png]]

==Chip 17 &amp; 18: 74LS244 Z80 address lines==
[[File:Slot6_chip17.png]]
[[File:Slot6_chip18.png]]
[[Category:Repairs]]
[[Category:Cartridge systems]]

#REDIRECT [[SLOT6 board]]

[[File:mvs_sm1.jpg|right|thumb|SM1 audio driver ROM found on a 1FZS board.]]

SM1 is the name of the 64kB [[M1 ROM]] containing the default [[sound driver]] embedded in some NeoGeo MVS systems. It allows [[System_self-test|testing]] of the audio without having a cartridge inserted.

Dump name: SM1.SM1 in BIOS sets. Signature:
&lt;pre>Ver 1.5b by Mr.Pac h Ber.02/01/08&lt;/pre>

Same pinout as [http://pdf.datasheetcatalog.com/datasheet/macronix/MX27C1000A.pdf 27C1000A].

[[Category:Chips]]
[[Category:Audio system]]

#REDIRECT [[PRO-CT0]]

A special converter which has some [[Universe BIOS]] capabilities, like cheats and region switching. 
Flash can be updated via USB, and (super secure) Actel CPLD can be updated via a special JTAG port ?

&lt;div align="center">
&lt;gallery widths=400px perrow=2>
File:Neo SNK ARCADE MVS Magic Key 01 - Close.jpg|Prog board top
File:Neo SNK ARCADE MVS Magic Key 02 - Close.jpg|CHA board top
File:Neo SNK ARCADE MVS Magic Key 01.jpg|Prog board top
File:Neo SNK ARCADE MVS Magic Key 02.jpg|CHA board top
&lt;/gallery>
&lt;/div>

[[File:SMC2P_fpga.jpg|thumb|left]]
[[File:SMC2P_solder.jpg|thumb|Yuck !]]

[[Category:Cartridge systems]]
[[Category:Chips]]

{|class="wikitable"
! Patent ID || Title || Inventor(s) || Filing Date || Publication Date || Description
|-
| USA [https://www.google.com/patents/US5940068 #5940068]
| ''Display controlling apparatus and control method thereof''
| [[Yoshihiko Hasegawa]], [[Takashi Yamatani]]
| 1996/02/14
| 1999/08/17
| NeoGeo video hardware, VRAM layout, methods for creating sprite effects with the scaling functions (used in [[World Heroes 2]]).
|-
| USA [https://www.google.com/patents/US5643083 #5643083]
| ''Control device for game operation state data''
| [[Yoshihiko Hasegawa]]
| 1995/04/10
| 1997/07/01
| MVS [[System ROM]] functions (game-specific parameters, play time stats and time keeping, etc.)
|-
| USA [https://www.google.com/patents/USD373149 #D373149]
| ''Pad controller attachment for a CD ROM video game player''
| [[Eikichi Kawasaki]]
| 1994/12/08
| 1996/08/27
| Design patent for Neo-Geo CD controller.
|-
| USA [https://www.google.com/patents/USD375765 #D375765]
| ''Joystick attachment for a CD ROM video game player''
| [[Eikichi Kawasaki]]
| 1994/12/08
| 1996/11/19
| Design patent for Neo-Geo CD joystick.
|-
| Europe [https://www.google.com/patents/EP0429160A2 #0429160A2 ]
| ''Memory cartridge for use with TV game machine''
| [[Yoshihiko Hasegawa]]
| 1990/03/06
| 1991/05/29
| (simplified) AES cartridge overview
|-
| USA [https://www.google.com/patents/US5114157 #5114157]
| ''Game machine having plural display panel units and plural memory cartridges''
| [[Toshihiko Kita]]
| 1990/06/11
| 1992/05/19
| Explains the MVS (as it relates to having multiple games in one machine, note the 8 slots); uses a MV25TA-0 as the example cabinet.
|-
| Europe [https://www.google.com/patents/EP0431723A2 #0431723 A2]
| ''TV game machine''
| [[Yoshihiko Hasegawa]]
| 1990/04/20
| 1991/06/12
| AES/Home system overview
|-
| Europe [https://www.google.com/patents/EP0997172A1 #0997172 A1]
| ''Game system, game device, and game method''
| [[Yoshinori Matsumoto]], [[Takashi Nishiyama]]
| 1998/04/06
| 2000/05/03
| Possible portable device linkup with MVS/AES/CD systems.
|-
| Europe [https://www.google.com/patents/EP0883019A1 #0883019 A1] &lt;br/> USA [[https://www.google.com/patents/US6226455 #6226455]]
| ''Shooting apparatus''
| [[Kenta Fujimoto]], [[Kazukuni Hiraoka]], [[Hamao Horiguchi]], [[Kouichi Ishimoto]], [[Hiroaki Kimura]], [[Shigekazu Matsumoto]]
| 1997/02/18
| 1998/12/09
| [[Neo Print]] cab description.
|-
| USA [[https://patents.google.com/patent/US6055000A #US6055000A]]
| ''Storage memory for images''
| [[Satoshi Okada]]
| 1998/05/28 (priority)
| 2000/04/25
| An image storage memory apparatus comprises a first memory for separating an image of M by N pixels into a plurality of blocks, generating H pieces of sets making coded notation of the mutually different m by n kinds of colors into each set component ...
|}

Using a search SNK Corporation, SNK has 26 patents and patent applications registered. All are applied in Japan and few granted with US patent number. 

TODO: It would be interested to list them all with a time axis with 4 dates of Priority, Filling, Publication and Grant. (Many of them aren't related to the NeoGeo).

[[Category:Base system]]

#REDIRECT [[SNK original processes]]

= Back then =

These pictures are taken from an SNK corporate video [[https://www.youtube.com/watch?v=K1yyAA1wgDE available on Youtube]].

&lt;gallery>
File:snkvideo1.jpg|Graphics artist using an [[Art box]]. Is he drawing with a keyboard ?!
File:snkvideo2.jpg|Funky shirt programmer
File:snkvideo3.jpg|Development cartridges using JEIDA cards and a [[68k]] emulator
File:snkvideo4.jpg|More programming with green-on-black monitors
File:snkvideo9.jpg|Old Osaka factory with inconspicuous sign
File:snkvideo5.jpg|Electronics assembly chain, visibly not in the plant shown below. Where was that ?
File:snkvideo6.jpg|MVS cart boards being populated in a pick and place machine
File:snkvideo7.jpg|Mechanical assembly of [[MV4]] slots
File:snkvideo8.jpg|QA testing setup
File:snkvideo10.jpg|SNK's own private sauna. No homo.
&lt;/gallery>

[[File:NEO-MVS_SYSTEM.png|200px|thumb|left|The Neo·Geo Base Unit for Development]]

The official development system's manual can be downloaded here : [[File:Neo·Geo Base Unit Manual For Development.pdf]]

It describes all of the development features, but not the error handling program which allows for direct registry reading and writing.

Screenshots and explanations will be provided.















.

= Today =

[[File:Snkkobe.jpg|frame|SNK's Miki (Hyogo prefecture) factory near Kobe in 2015, which is now a truck rental agency (Aktio).]]

SNK's Kobe plant and Esaka office seem to be still active mid-2015.

Video showing that the Esaka office is filled with doors, stairs and Coke vending machines: https://www.youtube.com/watch?v=2EP6s7mDXdU

[[File:Snkfactory.jpg|frame|Satellite view of the same plant in 2013, new buildings were built around since then.]]

[[Category:Cartridge systems]]

#REDIRECT [[SNK history]]

{{GameInfo|right
|en_title=SNK vs. Capcom - SVC Chaos
|jp_title=SNK vs. Capcom - SVC Chaos
|developer=SNK Playmore
|editor=SNK Playmore
|ngh_id=269
|megcount=708
|tcrf=https://tcrf.net/SvC_Chaos:_SNK_vs._Capcom_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=svc
|mvs_date=2003
|mvs_pchip=
|mvs_pboard=PROGBK3R
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

[[File:mvs_sp-s2.jpg|right|thumb|Toshiba SP-S2 System ROM on a 1FZS MVS slot.]]

SP-S2 is the name of the 128KiB ROM containing the [[68k]] code for the system ROM embedded in some MVS systems.

It's mapped in the [[68k memory map|68k's address space]] from $C00000 to $C1FFFF, and mirrored over to $D00000.

The dump is named sp-s2.sp1 in system ROM sets.

See [[System ROM]].

[[Category:Chips]]

SPR files contain the [[sprites]] graphics (equivalent to the [[C ROM]]s on [[:Category:cartridge systems|cartridge systems]]).

Maybe the system ROM can't load 4MiB files at once ? Split in 4, 1MiB files ?

* Maximum file size: 4MiB
* Type code: 2
* Loadable in: Sprite [[DRAM]]
* Banks: 4 (4MiB total)

==Format==

See [[sprite graphics format]].

[[Category:CD systems]]

The SSG ('''S'''oftware-controlled '''S'''ound '''G'''enerator as Yamaha calls it) is part of the {{Chipname|YM2610}} sound chip. It provides '''3 square wave channels''' and '''1 LFSR noise channel'''. It is very closely related to the Atari ST's [[http://www.ym2149.com/ym2149.pdf YM2149]].

Given its limited capacities, the SSG is more often used for simple sound effects (coin sound, cursors in menus...) rather than music.

=Envelope generator=
[[File:ym2610egshapes.png|thumb|right|Selectable EG shapes of the SSG]]

The Envelope generator (EG) is an unique low-frequency signal generator which can be used to modulate the output of the tone channels.

Envelope shape register ($0D):
{{8BitRegister|-|4|CONT|1|ATT|1|ALT|1|HOLD|1}}

* CONT: Should always be 1 ?
* ATT: Counter direction (0:Down, 1:Up)
* ALT: Alternate direction each period
* HOLD: Hold value after first period (depends on ALT)

Envelope frequency = 8M / 2 / (256 * value)

Note that each period is 32 analog steps (5-bit internal counter).

=Synthesis=

If the '''Mode''' bit in the volume registers is 1, the EG's output is used instead of the fixed 4 bit value.

Tone frequency = [[clock|8M]] / 2 / (16 * (Coarse * 256 + Fine)) = 250000 / value

Example: Note A4 (440Hz) would be 250000 / 440 =~ 568 = $238.

Each channel is an AND (?) sum of both the channel's tone generator (if enabled) and the unique noise generator (if enabled).

=Registers=

Note that the YM2149 I/O registers $E and $F were removed in the YM2610.

{| class="regdef"
|'''Address ([[Z80]] port 4)'''
|'''Data ([[Z80]] port 5)'''
|
|-
|$00
|{{8BitRegister|Fine tune|8}}
|rowspan="2"|Channel A
|-
|$01
|{{8BitRegister|-|4|Coarse tune|4}}
|-
|$02
|{{8BitRegister|Fine tune|8}}
|rowspan="2"|Channel B
|-
|$03
|{{8BitRegister|-|4|Coarse tune|4}}
|-
|$04
|{{8BitRegister|Fine tune|8}}
|rowspan="2"|Channel C
|-
|$05
|{{8BitRegister|-|4|Coarse tune|4}}
|-
|$06
|{{8BitRegister|-|3|Noise tune|5}}
|Noise channel
|-
|$07
|{{8BitRegister|-|2|/EN noise C|1|/EN noise B|1|/EN noise A|1|/EN tone C|1|/EN tone B|1|/EN tone A|1}}
|Negative enable flags for mixing
|-
|$08
|{{8BitRegister|-|3|Mode|1|Volume|4}}
|Channel A
|-
|$09
|{{8BitRegister|-|3|Mode|1|Volume|4}}
|Channel B
|-
|$0A
|{{8BitRegister|-|3|Mode|1|Volume|4}}
|Channel C
|-
|$0B
|{{8BitRegister|Volume envelope period fine tune|8}}
|
|-
|$0C
|{{8BitRegister|Volume envelope period coarse tune|8}}
|
|-
|$0D
|{{8BitRegister|-|4|Volume envelope shape|4}}
|See diagram.
|}

[[Category:Audio system]]

== [[SYSTEM_INT1]] ($C00438): Multi-purpose VBL call ==

The SYSTEM_INT1 call is the [[system ROM]]'s v-blank [[68k interrupts|interrupt]] routine.

It will call [[MESS_OUT]] and [[SYSTEM_IO]].

It has its own frame counter (BIOS_INT1_FRAME_COUNTER, $10FDD4) and a flag to skip [[MESS_OUT]] and [[SYSTEM_IO]] (BIOS_INT1_SKIP, $10FEE3).

[[Category:BIOS calls]]

== [[SYSTEM_INT2]] ($C0043E): HBL call ==

AES and MVS only. This BIOS routine simply acknowledges [[68k interrupts|hblank]] and sets the [[auto animation]] speed to 64 frames.

[[Category:BIOS calls]]

==SYSTEM_IO ($C0044A)==

Should be called at the end of the [[68k interrupts|VBlank]] interrupt routine.

Reads coin and game select inputs, jumps to [[COIN SOUND subroutine|COIN_SOUND]], [[PLAYER START subroutine|PLAYER_START]] or [[DEMO END subroutine|DEMO_END]] accordingly.

Reads the player inputs and sets values in [[68k user RAM|RAM]] accordingly, see [[BIOS_RAM_locations#Joypad_Related]].

'''This call does NOT save registers.'''

[[Category:BIOS calls]]

== SYSTEM_RETURN ($C00444) ==

The SYSTEM_RETURN BIOS calls must be jmp to when the game have finish the [[USER_subroutine]].

[[Category:BIOS calls]]

[[File:error_sysrom.png|thumb]]

The [[system ROM]]'s checksum was found to be incorrect. This error is rather rare because a bad readback of the system ROM would often cause the system to crash or get stuck in a [[Click of death|boot-loop]] before being able to show the error.

* PCB damage ? Address lines from the [[68k]] may be cut. If so, it's probably the higher ones.
* Did you buy that UniBios on eBay ? Check that the EPROM is [[memory speed|fast enough]].
* If an EPROM is used and its window isn't covered, it might be partially erased. Erase it completely and reprogram it.

[[Category:Repairs]]

SYS files hold palette and sprite data for the game logo displayed in the [[CDZ]] menu screen. There's one file for each nationality:

*TITLE_J.SYS
*TITLE_U.SYS
*TITLE_E.SYS

Palettes are stored first, there's space for 45 of them ($5A0 bytes). Following that are 45 sprite tiles in the regular [[SPR file]] format, making a 9*5 tiles (144*80 pixels) logo. Tiles are mapped from left to right, top to bottom.

(See cdrom_load_title in cdrom.c of NEOCD 0.31).

[[File:TITLE_SYS_working.png|620px]]

TITLE_*.SYS file is loaded into memory at $127800 and takes up $1C20 bytes ($5A0 45 palettes + $1680 45 sprite tiles)

If you overwrite this area of memory when you return from the game to the bios main menu it will corrupt:

[[File:TITLE_SYS_corruption.png|324px]]

[[Category:CD systems]]

[[File:s_rom.jpg|thumb|right|128KiB S1 ROM]]
Graphics ROM containing tiles for the [[fix layer]]. Bankswitching for ROMs larger than 128KiB is handled by {{Chipname|NEO-CMC}}.

Also found embedded in the [[MVS]] under the [[SFIX ROM|SFIX]] name.

==Data format==
See [[fix graphics format]].

==Speed==
Minimum speed grade: 200ns (strictly &lt; 250ns). Or is it &lt; 200ns ? 5 or 6 mclk ?

[[Category:Chips]]
[[Category:Cartridge systems]]
[[Category:Video system]]

#REDIRECT [[Samurai Shodown V]]

#REDIRECT [[Samurai Shodown]]

#REDIRECT [[Samurai Shodown II]]

#REDIRECT [[Samurai Shodown III]]

#REDIRECT [[Samurai Shodown IV - Amakusa's Revenge]]

#REDIRECT [[Samurai Shodown V]]

{{GameInfo|right
|en_title=Samurai Shodown 
|jp_title=Samurai Spirits
|jp_title2=サムライスピリッツ
|developer=SNK
|ngh_id=045
|megcount=118
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=samsho
|mvs_date=1993
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA_42G-3
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=samshoh
|aes_date=11/08/93
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Samurai Shodown II 
|jp_title=Shin Samurai Spirits - Haohmaru jigokuhen
|jp_title2=真サムライスピリッツ
|developer=SNK
|ngh_id=063
|megcount=202
|tcrf=https://tcrf.net/Samurai_Shodown_II_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=samsho2
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=samsho2
|aes_date=02/12/94
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=15/12/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Samurai Shodown III 
|jp_title=Samurai Spirits - Zankurou Musouken
|jp_title2=サムライスピリッツ斬紅郎無双剣
|developer=SNK
|ngh_id=087
|megcount=282
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=samsho3
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=samsho3h
|aes_date=01/12/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=29/12/95
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Samurai Shodown IV - Amakusa's Revenge 
|jp_title=Samurai Spirits - Amakusa Kourin
|jp_title2=サムライスピリッツ天草降臨
|developer=SNK
|ngh_id=222
|megcount=378
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=samsho4
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256B
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=29/11/96
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=27/12/96
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Samurai Shodown RPG
|jp_title=Shinsetsu Samurai Spirits: Bushidou Retsuden
|jp_title2=
|developer=SNK
|editor=SNK
|ngh_id=085
|megcount=98
|cd_release=y
|cd_release_jp=y
|cd_date=27/06/97
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Samurai Shodown V 
|jp_title=Samurai Spirits Zero
|jp_title2=サムライスピリッツ零
|developer=Yuki Enterprise
|ngh_id=270
|megcount=708
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=samsho5
|mvs_date=2003
|mvs_pchip=
|mvs_pboard=PROGBK2R
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Samurai Shodown V Special 
|jp_title=Samurai Spirits Zero Special
|jp_title2=サムライスピリッツ零スペシャル
|developer=Yuki Enterprise
|editor=SNK Playmore
|ngh_id=272
|megcount=708
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=samsh5sp
|mvs_date=2004
|mvs_pchip=
|mvs_pboard=PROGBK2S
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

#REDIRECT [[Samurai Shodown]]

[[Category:Games]]

#REDIRECT [[Samurai Shodown IV - Amakusa's Revenge]]

[[Category:Games]]

#REDIRECT [[Samurai Shodown III]]

[[Category:Games]]

#REDIRECT [[Samurai Shodown V]]

[[Category:Games]]

#REDIRECT [[Samurai Shodown V Special]]

[[Category:Games]]

{{GameInfo|right
|en_title=Savage Reign 
|jp_title=Fu'un Mokushiroku - kakutou sousei
|jp_title2=風雲黙示録
|developer=SNK
|ngh_id=059
|megcount=190
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=savagere
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROG_4096_B
|mvs_cboard=CHA_42G-3
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=savagere
|aes_date=26/05/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=16/06/95
}}

[[Category:Games]]

#REDIRECT [[Savage Reign]]

Horizontal shrinking parameters for sprite groups must be distributed by software to get smooth scaling steps.

If the same parameter is copied to all sprites in a group, the final size will be a multiple of the sprite count. For example, setting all sprites of a group of 5 to a 4-bit value of 13 will give a block 5*(13+1) = 70 pixels wide.

If the parameters are distributed based on a 8-bit value, the steps become smaller. For example, setting a group of 5 sprites to a shrinking value of 183 (scale 72%) will give the following 4-bit values: 10,11,11,10,11, making the group 11+12+12+11+12 = 58 pixels wide, which is 72% of the max width (5*16 = 80 pixels).

Code to distribute [[sprite shrinking|horizontal shrinking]] in sprite groups:

&lt;syntaxhighlight>
    ; d0.w is the group's overall x shrink value ($00~$FF)
    ; d1.b is the group's y shrink value ($00~$FF)
    ; d2.w is the first sprite's SCB2 VRAM address ($8000+)
    ; d7.b is the group's width in sprites
    move.w  d2,REG_VRAMRW
    move.w  #1,REG_VRAMMOD
    move.w  d0,d2      ; Fast *15
    lsl.w   #4,d0
    sub.w   d2,d0

    move.w  d0,d2
    andi.w  #$0F00,d0  ; d0 = integer part &lt;&lt; 8
    or.b    d1,d0      ; Mix in y shrink
    andi.w  #$00FF,d2  ; d2 = fractional part
    move.w  d2,d1      ; d1 = error accumulator

.dzh:
    move.w  d0,d4
    btst.l  #8,d1      ; Enough error to add one pixel ?
    beq     .novf
    addi.w  #$0100,d4
    andi.w  #$00FF,d1  ; Trim error accumulator
.novf:
    move.w  d4,VRAM_RW
    add.w   d2,d1      ; Accumulate error
    subq.b  #1,d7      ; Next sprite
    bne     .dzh
&lt;/syntaxhighlight>

[[Category:Code]]

[[File:Sengoku2persp.png|frame|[[Sengoku 2]] changes the shrinking and the position of a scrolling sprite block in its intro to create a mirror and perspective effect.]]

Scanline effects are special tricks using the [[timer interrupt]] to distort [[sprites]] by updating their coordinates or shrink values mid-screen.

These effects can be very CPU consuming as they can be triggered at tight intervals during active display. Consequently, they may have to use tables of precomputed values (constants, or calculated during the VBlank) to be applied fast enough.

[[Neo Turf Masters]] and [[Riding Hero]] heavily rely on this effect to render the playing field.

[[Category:Code]]
[[Category:Video system]]

__TOC__

=AES (Home system)=

Big thanks to Wolfsoft and ArcadeTV for the scans.

* On page 6: There are two resistors in the bottom left corner that can't be seen due the page fold.
* The R48 4.7k is connected to VCC and R49 4.7k is connected to GND.
* Both resistors are connected to pin3 of U31A.

&lt;gallery widths=300px heights=190px perrow=4>
File:Neogeo_aes_schematics_pal_2-page-001.jpg|'''Page 1''':{{Chipname|68k}} [[68k user RAM]] {{Chipname|NEO-C1}}
File:Neogeo_aes_schematics_pal_2-page-002.jpg|'''Page 2''':{{Chipname|NEO-G0}} [[Palette RAM]] [[Video DAC]]
File:Neogeo_aes_schematics_pal_2-page-003.jpg|'''Page 3''':{{Chipname|NEO-B1}} [[Reset generator]] [[Joypad]] ports
File:Neogeo_aes_schematics_pal_2-page-004.jpg|'''Page 4''':{{Chipname|LSPC2-A2}} [[L0 ROM]] [[VRAM]]
File:NeoGeo Z80-RAM-NEO-DO.png|'''Page 5''':{{Chipname|Z80}} [[Z80 RAM]] {{Chipname|NEO-D0}} [[:File:Neogeo aes schematics pal 2-page-005.jpg|(original scan)]]
File:Neogeo_aes_schematics_pal_2-page-006.jpg|'''Page 6''':{{Chipname|YM2610}} {{Chipname|YM3016}} {{Chipname|NEO-C1}}
File:Neogeo_aes_schematics_pal_2-page-007.jpg|'''Page 7''':[[Video encoder]]
File:Neogeo_aes_schematics_pal_2-page-008.jpg|'''Page 8''':[[Pinouts|cartridge slot]]
File:Neogeo_aes_schematics_pal_2-page-009.jpg|'''Page 9''':[[Memory mapped registers|System latch]] {{Chipname|NEO-E0}} [[Power supply]]
File:Neogeo_aes_schematics_pal_2-page-010.jpg|'''Page 10''':[[Memory card]]
File:Neogeo_aes_schematics_pal_2-page-011.jpg|'''Page 11''':[[Video PLL]]
&lt;/gallery>

=MV1F (MVS)=

&lt;span style="color:#FF0000">&lt;B>Beware !&lt;/B> There's an error on page 9 (cartridge edge connections): &lt;b>ROMOE/4MB are swapped&lt;/B>. ROMOE should be on pin 33 bottom, and 4MB is on pin 34 bottom.&lt;/span>

&lt;gallery widths=300px heights=190px perrow=4>
File:mv1fs-page1.jpg|'''Page 1''':{{Chipname|68k}} [[System ROM]] [[68k user RAM]] [[Battery-backed RAM]] {{Chipname|NEO-C1}} [[Joypad]] ports {{Chipname|UPD4990}} [[Battery circuit]]
File:mv1fs-page2.jpg|'''Page 2''':{{Chipname|LSPC2-A2}} [[VRAM]] {{Chipname|NEO-I0}} {{Chipname|NEO-B1}} {{Chipname|NEO-ZMC2}} [[SFIX ROM]] [[L0 ROM]]
File:mv1fs-page3.jpg|'''Page 3''':{{Chipname|NEO-E0}} [[Memory mapped registers|System latch]] [[Palette RAM]] [[Video DAC]]
File:mv1fs-page4.jpg|'''Page 4''':{{Chipname|Z80}} [[Z80 RAM]] [[SM1]] ROM {{Chipname|NEO-D0}} {{Chipname|YM2610}} {{Chipname|YM3016}} [[Headphone amp]]
File:mv1fs-page5.jpg|'''Page 5''':[[Power amp]] {{Chipname|NEO-F0}} [[DIPs|DIP switches]] [[Cab interface]]
File:mv1fs-page6.jpg|'''Page 6''':Daughterboard connections
File:mv1fs-page7.jpg|'''Page 7'''
File:mv1fs-page8.jpg|'''Page 8''':Daughterboard connections
File:mv1fs-page9.jpg|'''Page 9''':Cartridge connections
&lt;/gallery>


=MV4 (MVS)=
This is the main board of [[MV4|MV4]]. The top board is here after.
PDF file can be found [https://drive.google.com/drive/folders/1QpMv94jbslgKyeiTama89Y3W6AnRzMZS here (GDrive)].

&lt;gallery widths=300px heights=190px perrow=4>
File:MV-4 Schematics 0 PCB.jpg|'''Page 0''': Component placement
File:MV-4 Schematics 1.jpg|'''Page 1''': todo description
File:MV-4 Schematics 2.jpg|'''Page 2''': todo description
File:MV-4 Schematics 3.jpg|'''Page 3''': todo description
File:MV-4 Schematics 4.jpg|'''Page 4''': todo description
File:MV-4 Schematics 5.jpg|'''Page 5''': todo description
File:MV-4 Schematics 6.jpg|'''Page 6''': todo description
File:MV-4 Schematics 7.jpg|'''Page 7''': todo description
File:MV-4 Schematics 8.jpg|'''Page 8''': todo description
File:MV-4 Schematics 9.jpg|'''Page 9''': todo description
File:MV-4 Schematics 10.jpg|'''Page 10''': todo description
File:MV-4 Schematics 11.jpg|'''Page 11''': todo description
File:MV-4 Schematics 12.jpg|'''Page 12''': todo description
File:MV-4 Schematics 13.jpg|'''Page 13''': todo description
&lt;/gallery>


=MV4 Slot4 (MVS)=
This is the top board of [[MV4|MV4]].
PDF file can be found [https://drive.google.com/drive/folders/1QpMv94jbslgKyeiTama89Y3W6AnRzMZS here (GDrive)].

&lt;gallery widths=300px heights=190px perrow=4>
File:MV-4 Schematics slot4 0 PCB.jpg|'''Page 0''': Component placement
File:MV-4 Schematics slot4 1.jpg|'''Page 1''': todo description
File:MV-4 Schematics slot4 2.jpg|'''Page 2''': todo description
File:MV-4 Schematics slot4 3.jpg|'''Page 3''': todo description
File:MV-4 Schematics slot4 4.jpg|'''Page 4''': todo description
File:MV-4 Schematics slot4 5.jpg|'''Page 5''': todo description
File:MV-4 Schematics slot4 6.jpg|'''Page 6''': todo description
File:MV-4 Schematics slot4 7.jpg|'''Page 7''': todo description
File:MV-4 Schematics slot4 8.jpg|'''Page 8''': todo description
File:MV-4 Schematics slot4 9.jpg|'''Page 9''': todo description
File:MV-4 Schematics slot4 10.jpg|'''Page 10''': todo description
File:MV-4 Schematics slot4 11.jpg|'''Page 11''': todo description
&lt;/gallery>

=MV4F (MVS)=
This is the main board of [[MV4F|MV4F]]. The top board is here after.
PDF file can be found [https://drive.google.com/drive/folders/1QpMv94jbslgKyeiTama89Y3W6AnRzMZS here (GDrive)].

&lt;gallery widths=300px heights=190px perrow=4>
File:MV-4F Schematics 1.jpg|'''Page 1''': todo description
File:MV-4F Schematics 2.jpg|'''Page 2''': todo description
File:MV-4F Schematics 3.jpg|'''Page 3''': todo description
File:MV-4F Schematics 4.jpg|'''Page 4''': todo description
File:MV-4F Schematics 5.jpg|'''Page 5''': todo description
File:MV-4F Schematics 6.jpg|'''Page 6''': todo description
File:MV-4F Schematics 7.jpg|'''Page 7''': todo description
&lt;/gallery>


=MV4F Slot4F (MVS)=
This is the [[SLOT4F|SLOT4F]], alias the top board of [[MV4F|MV4F]].
PDF file can be found [https://drive.google.com/drive/folders/1QpMv94jbslgKyeiTama89Y3W6AnRzMZS here (GDrive)].

&lt;gallery widths=300px heights=190px perrow=4>
File:MV-4F Schematics slot4f 1.jpg|'''Page 1''': todo description
File:MV-4F Schematics slot4f 2.jpg|'''Page 2''': todo description
File:MV-4F Schematics slot4f 3.jpg|'''Page 3''': todo description
File:MV-4F Schematics slot4f 4.jpg|'''Page 4''': todo description
File:MV-4F Schematics slot4f 5.jpg|'''Page 5''': todo description
File:MV-4F Schematics slot4f 6.jpg|'''Page 6''': todo description
File:MV-4F Schematics slot4f 7.jpg|'''Page 7''': todo description
File:MV-4F Schematics slot4f 8.jpg|'''Page 8''': todo description
&lt;/gallery>


=Peripheral (home/arcade)=
&lt;gallery widths=300px heights=190px perrow4>
File:Neo Geo Steering Wheel Schematic.jpg|Steering wheel schematic for Thrash Rally.
&lt;/gallery>


[[Category:Cartridge systems]]
[[Category:Chips]]

__NOTOC__

MVS cartridge: Machine screw, Phillips pan washer head, zinc-plated steel, d=3mm L=11.5mm pitch=1.5mm.

[[Category:Repairs]]

#REDIRECT [[Super Dodge Ball]]

Pointed from $182 (in the [[68k program header]]). This pointer '''must''' be even !

The [[System ROM]] compares this code word per word with its internal copy (which is located at $C146CA for SP-E, and $C146A2 for SP-E v2) as part of the cartridge detection routine.

There is some jumps to the security code inside the system ROM but it seems to never be called (at least in SP-E v2).

From the official SNK doc :

&lt;syntaxhighlight>
dc.w	0x7600, 0x4A6D, 0x0A14, 0x6600
dc.w	0x003C, 0x206D, 0x0A04, 0x3E2D
dc.w	0x0A08, 0x13C0, 0x0030, 0x0001
dc.w	0x3210, 0x0C01, 0x00FF, 0x671A
dc.w	0x3028, 0x0002, 0xB02D, 0x0ACE
dc.w	0x6610, 0x3028, 0x0004, 0xB02D
dc.w	0x0ACF, 0x0606, 0xB22D, 0x0AD0
dc.w	0x6708, 0x5088, 0x51CF, 0xFFD4
dc.w	0x3607, 0x4E75, 0x206D, 0x0A04
dc.w	0x3E2D, 0x0A08, 0x3210, 0xE049
dc.w	0x0C01, 0x00FF, 0x671A, 0x3010
dc.w	0xB02D, 0x0ACE, 0x6612, 0x3028
dc.w	0x0002, 0xE048, 0xB02D, 0x0ACF
dc.w	0x6606, 0xB22D, 0x0AD0, 0x6708
dc.w	0x5888, 0x51CF, 0xFFD8, 0x3607
dc.w	0x4E75
&lt;/syntaxhighlight>

From KOF96 (CD):

&lt;syntaxhighlight>
	moveq	#0,d3
	tst	2580(a5)		;$10FD14.w
	bne	LAB_20F3		;
	movea.l	2564(a5),a0		;$10FD04.l
	move	2568(a5),d7		;$10FD08.w
LAB_20F0:
	move.b	d0,EXT_03E5		;watchdog
	move	(a0),d1
	cmpi.b	#$FF,d1
	beq.s	LAB_20F1		;skip
	move	2(a0),d0
	cmp.b	2766(a5),d0		;$10FDCE.b
	bne.s	LAB_20F1		;skip
	move	4(a0),d0
	cmp.b	2767(a5),d0		;$10FDCF.b
	bne.s	LAB_20F1		;skip
	cmp.b	2768(a5),d1		;$10FDD0.b
	beq.s	LAB_20F2
LAB_20F1:
	addq.l	#8,a0
	dbf	d7,LAB_20F0
	move	d7,d3
LAB_20F2:
	rts

LAB_20F3:
	movea.l	2564(a5),a0		;$10FD04.l
	move	2568(a5),d7		;$10FD08.w
LAB_20F4:
	move	(a0),d1
	lsr	#8,d1
	cmpi.b	#$FF,d1
	beq.s	LAB_20F5		;skip
	move	(a0),d0
	cmp.b	2766(a5),d0		;$10FDCE.b
	bne.s	LAB_20F5		;skip
	move	2(a0),d0
	lsr	#8,d0
	cmp.b	2767(a5),d0		;$10FDCF.b
	bne.s	LAB_20F5		;skip
	cmp.b	2768(a5),d1		;$10FDD0.b
	beq.s	LAB_20F6
LAB_20F5:
	addq.l	#4,a0
	dbf	d7,LAB_20F4
	move	d7,d3
LAB_20F6:
	rts
&lt;/syntaxhighlight>

From sp-s2.sp1 :
&lt;syntaxhighlight>
Security:
                moveq   #0, d3
                tst.w   0xA14(a5)
                bne.w   loc_C146E6
                movea.l 0xA04(a5), a0
                move.w  0xA08(a5), d7

loc_C146B4:
                move.b  d0, (0x300001).l
                move.w  (a0), d1
                cmpi.b  #0xFF, d1
                beq.s   loc_C146DC
                move.w  2(a0), d0
                cmp.b   0xACE(a5), d0
                bne.s   loc_C146DC
                move.w  4(a0), d0
                cmp.b   0xACF(a5), d0
                bne.s   loc_C146DC
                cmp.b   0xAD0(a5), d1
                beq.s   locret_C146E4

loc_C146DC:
                addq.l  #8, a0
                dbf     d7, loc_C146B4
                move.w  d7, d3

locret_C146E4:
                rts

loc_C146E6:
                movea.l 0xA04(a5), a0
                move.w  0xA08(a5), d7

loc_C146EE:
                move.w  (a0), d1
                lsr.w   #8, d1
                cmpi.b  #0xFF, d1
                beq.s   loc_C14712
                move.w  (a0), d0
                cmp.b   0xACE(a5), d0
                bne.s   loc_C14712
                move.w  2(a0), d0
                lsr.w   #8, d0
                cmp.b   0xACF(a5), d0
                bne.s   loc_C14712
                cmp.b   0xAD0(a5), d1
                beq.s   locret_C1471A

loc_C14712:
                addq.l  #4, a0
                dbf     d7, loc_C146EE
                move.w  d7, d3

locret_C1471A:
                rts
&lt;/syntaxhighlight>

[[Category:Code]]

{{GameInfo|right
|en_title=Sengoku 
|jp_title=Sengoku Denshou
|jp_title2=戦国伝承
|developer=SNK
|ngh_id=017
|megcount=55
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=sengoku
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G
|mvs_cboard=CHA42G
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=17/03/95
}}

[[Category:Games]]

#REDIRECT [[Sengoku 2]]

#REDIRECT [[Sengoku 3]]

{{GameInfo|right
|en_title=Sengoku 2 
|jp_title=Sengoku Denshou 2
|jp_title2=戦国伝承 2
|developer=SNK
|ngh_id=040
|megcount=74
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=sengoku2
|mvs_date=1993
|mvs_pchip=
|mvs_pboard=PROG_4096
|mvs_cboard=CHA_42G-2
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=sengoku2
|aes_date=09/04/93
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=17/03/95
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Sengoku 3 
|jp_title=Sengoku Densho 2001
|jp_title2=戦国伝承 2001
|developer=Noise Factory
|editor=SNK Playmore
|ngh_id=261
|megcount=364
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=sengoku3
|mvs_date=2001
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=25/10/2001
}}

[[Category:Games]]

#REDIRECT [[Sengoku 3]]

[[Category:Games]]

#REDIRECT [[Sengoku]]

[[Category:Games]]

#REDIRECT [[Sengoku 2]]

[[Category:Games]]

Arcade cab service button. Brings up the [[system ROM]] menu.

The input ([[JAMMA connector pinout|JAMMA edge]] pin R) is read through {{Reg|REG_STATUS_A}} bit 2.

[[Category:Cartridge systems]]

#REDIRECT [[Ragnagard]]

[[Category:Games]]

#REDIRECT [[Matrimelee]]

[[Category:Games]]

#REDIRECT [[Samurai Shodown II]]

[[Category:Games]]

#REDIRECT [[Samurai Shodown RPG]]

[[Category:Games]]

{{GameInfo|right
|en_title=Shock Troopers
|jp_title=Shock Troopers
|jp_title2=ショックトルーパーズ
|developer=Saurus
|ngh_id=238
|megcount=346
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=shocktro
|mvs_date=1997
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Shock Troopers - 2nd Squad
|jp_title=Shock Troopers - 2nd Squad
|jp_title2=ショックトルーパーズ セカンドスカッド
|developer=Saurus
|ngh_id=246
|megcount=514
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=shocktr2
|mvs_date=1998
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA512Y
|aes_release=y
|aes_release_jp=y
|aes_date=24/06/99
}}

[[Category:Games]]

#REDIRECT [[Shock Troopers - 2nd Squad]]

#REDIRECT [[Shock Troopers]]

"Shot factory" is the name commonly given to utilities sometimes found in emulators, which gives the user the ability to manipulate the video display, in order to isolate [[sprites]], background elements...

=[[Kawaks]]'s shot factory=
[[File:kawakssf.png|thumb]]

Shows a list of the currently active sprites (those that have a non-zero size), their number (position in [[VRAM]]), their 3 attribute words, and the tile number for the first tile.

Chained sprites are grouped and can't be split, only the driving sprite is shown in the list.

Also allows hiding the [[fix layer]].

'''Beware''': SCB values are very buggy. Garbage is shown when moving in the list with the arrow keys.

&lt;br clear="both"/>

=[[Nebula]]'s shot factory=
[[File:nebulasf.png|thumb|right]]

The most advanced one to date.

* Shows a full map of which of the 384 sprites are used (colored cell) and if they're driving (red) or driven (green).
* Each sprite can be individually hidden, as well as the entire fix layer.
* Chained sprites can be split.
* The position and shrinking attributes for each sprite can be edited.
* The background color can be chosen to do cutouts based on color keying.
* The tile list for each sprite doesn't seem to work as of version 2.25b.

[[Category:Code]]

#REDIRECT [[Signals]]

Most names come from the official [[schematics]].

Some help to decipher the names:
* / means the signal is active low.
* OE means Output Enable.
* U is used for Upper (even) byte.
* L is used for Lower (odd) byte.
* B as suffix often means the signal is inverted.


=[[Clock]]s=
{| class="regdef"
|'''Name'''
|'''Description'''
|'''Comes from'''
|'''Fault consequence'''
|-
|24M
|24MHz master clock
|{{Chipname|NEO-D0}}
|Nothing works, no video at all
|-
|12M
|12MHz clock (24/2) non-inverted
|{{Chipname|NEO-D0}}
|Bad graphics
|-
|8M
|8MHz clock (24/3) non-inverted
|{{Chipname|LSPC}}
|No sound
|-
|6MB
|6MHz clock (24/4) inverted
|{{Chipname|NEO-D0}}
|Black screen ?
|-
|4M
|4MHz clock (24/6) non-inverted
|{{Chipname|LSPC}}
|No sound
|-
|4MB
|4MHz clock (24/6) inverted
|{{Chipname|LSPC}} + inverter
|?
|-
|1MB
|'''3MHz''' (!) clock (24/8) inverted
|{{Chipname|NEO-D0}}
|?
|-
|68KCLK
|12MHz clock (24/2) non-inverted
|{{Chipname|NEO-D0}}
|[[Click of death]]
|-
|68KCLKB
|12MHz clock (24/2) inverted
|{{Chipname|NEO-D0}}
|Bad audio in games using {{Chipname|PCM}}
|}

=[[68k]] CPU=
{| class="regdef"
|'''Name'''
|'''Description'''
|'''Type'''
|'''Comes from'''
|'''Fault consequence'''
|-
|A1~A23
|[[68k]] address bus
|Address
|{{Chipname|68k}}
|Click of death
|-
|A22I,A23I
|Altered address lines for [[68k vector table]] swap
|Address
|{{Chipname|NEO-E0}}
|Probably click of death
|-
|/AS
|68k Address Strobe
|Control
|{{Chipname|68k}}
|Probably click of death
|-
|D0~D15
|68k data bus
|Data
|Multiple
|Click of death
|-
|/DTACK
|68k Data Transmit ACKnowledge (see [[wait cycle]])
|Control
|{{Chipname|NEO-C1}}
|Click of death
|-
|/PORTADRS
|$200000-$2FFFFF (P2 ROM/[[PRO-CT0|Security chip]]) any access
|Control
|{{Chipname|NEO-C1}}
|Game crashes, bad graphics
|-
|/PORTOEL
|$200000-$2FFFFF (P2 ROM/Security chip) odd byte read
|Control
|{{Chipname|NEO-C1}}
|Game crashes, bad graphics
|-
|/PORTOEU
|$200000-$2FFFFF (P2 ROM/Security chip) even byte read
|Control
|{{Chipname|NEO-C1}}
|Game crashes, bad graphics
|-
|/PORTWEL
|$200000-$2FFFFF (P2 ROM/Security chip) odd byte write
|Control
|{{Chipname|NEO-C1}}
|Game crashes, [[multiplayer]] comm. error
|-
|/PORTWEU
|$200000-$2FFFFF (P2 ROM/Security chip) even byte write
|Control
|{{Chipname|NEO-C1}}
|Game crashes, bad graphics
|-
|/PWAIT0, /PWAIT1
|Delay configuration for [[P ROM|P2 ROM]] reads, see [[wait cycle]]
|Control
|{{Chipname|NEO-C1}}
|Game crashes (very likely)
|-
|R/W
|68k Read/Write
|Control
|{{Chipname|68k}}
|Click of death
|-
|/ROMOE
|$000000-$0FFFFF ([[P ROM|P1 ROM]]) read
|Control
|{{Chipname|NEO-C1}} + AND
|Game doesn't start
|-
|/ROMOEL
|$000000-$0FFFFF (P1 ROM) odd byte read
|Control
|{{Chipname|NEO-C1}}
|Game doesn't start
|-
|/ROMOEU
|$000000-$0FFFFF (P1 ROM) even byte read
|Control
|{{Chipname|NEO-C1}}
|Game doesn't start
|-
|/ROMWAIT
|Add 1-cycle delay for P1 ROM reads
|Control
|{{Chipname|NEO-C1}}
|Game freezes (unlikely)
|-
|/SROMOE
|$C00000-$CFFFFF ([[System ROM]]) read
|Control
|{{Chipname|NEO-E0}}
|Click of death
|-
|/SROMOEL
|$C00000-$CFFFFF (System ROM) odd byte read
|Control
|{{Chipname|NEO-C1}}
|Click of death
|-
|/SROMOEU
|$C00000-$CFFFFF (System ROM) even byte read
|Control
|{{Chipname|NEO-C1}}
|Click of death
|-
|}

=Graphics=
{| class="regdef"
|'''Name'''
|'''Description'''
|'''Type'''
|'''Comes from'''
|'''Fault consequence'''
|-
|2H1
|[[S ROM]] A3
|Address
|{{Chipname|LSPC}}
|Bad fix graphics
|-
|CA4
|[[C ROM]]s A4
|Address
|{{Chipname|LSPC}}
|Bad sprite graphics
|-
|C* or CR0~CR31
|C ROMs data bus (2*16bits), data for one 8-pixels line
|Data
|{{Chipname|C ROM}}
|Bad sprite graphics
|-
|FIXD0~FIXD7
|[[Fix layer]] data bus, data for 2 pixels
|Data
|{{Chipname|S ROM}}
|[[Graphic glitches|Static vertical lines]], solid color screen
|-
|P0~P23
|Multiplexed [[P bus]]
|Muxed
|Multiple
|Garbled or absent graphics
|-
|PA0~PA11
|[[Palette RAM]] address bus
|Address
|{{Chipname|NEO-B1}}
|Bad colors, snow, black screen
|-
|PAL
|[[Palette RAM]] decode for [[68k]] access
|Control
|{{Chipname|NEO-C1}}
|Bad colors, snow, black screen
|-
|PCK1, PCK2
|Graphics rendering control
|Control
|{{Chipname|LSPC2-A2}}
|Bad graphics, solid colors, black screen
|-
|PCK1B, PCK2B
|Graphics rendering control
|Control
|AS04 inverters
|Bad graphics
|}

*PCK1B: Low 55ns, high 610 (1.5MHz) Clock to latch C ROM address from P0~P23 ([[NEO-273|mapping]]) on rising edge.
*PCK2B: Low 55ns, high 610 (1.5MHz) Clock to latch S ROM address from P0~P15 ([[NEO-273|mapping]]) on rising edge.

=Misc.=
{| class="regdef"
|'''Name'''
|'''Description'''
|'''Type'''
|'''Comes from'''
|'''Fault consequence'''
|-
|/DIPRD0
|$300000~$31FFFF odd byte reads
|Control
|{{Chipname|NEO-C1}}
|Can't read [[hardware DIPs]], test button state and system type. See {{Reg|REG_DIPSW}} and {{Reg|REG_SYSTYPE}}.
|-
|/DIPRD1
|$320000~$33FFFF odd byte reads
|Control
|{{Chipname|NEO-C1}}
|Coins aren't detected, RTC access problems. See {{Reg|REG_STATUS_A}}.
|-
|/BITW0
|$380000~$39FFFF odd byte writes
|Control
|{{Chipname|NEO-C1}}
|No [[Pinouts#Joypad_ports|joypad]] output control, memory card access problems, MVS slot selection problems, erratic credits displays and marquee control, RTC access problems, no [[coin counter]]s and [[coin lockout]]s control. See [[Memory mapped registers]].
|-
|/BITW1
|$3A0000~$3BFFFF odd byte writes
|Control
|{{Chipname|NEO-C1}}
|Spurious or impossible writes to [[Memory_mapped_registers#System_registers|system registers]].
|-
|/BITWD0
|$3A0000~$3BFFFF odd byte writes
|Control
|{{Chipname|NEO-F0}}
|No [[Pinouts#Joypad_ports|joypad]] output control, memory card access problems. See {{Reg|REG_POUTPUT}} and {{Reg|REG_CRDBANK}}. Depends on /BITW0.
|-
|BNK0~2
|[[Memory card]] bank selection
|Control
|{{Chipname|NEO-D0}}
|Access problems with big memory cards.
|}

*SYSTEM: low when onboard ROMs selected
*SYSTEMB: inverted SYSTEM

=[[Z80]] CPU=

*SDA0~SDA15 : [[Z80]] address bus
*SDD0~SDD7: Z80 data bus

=Sound=

*SDRAD0~SDRAD7: ADPCM-A ROM [[YM2610#Multiplexed bus|multiplexed bus]] (data/address)
*SDRA8,SDRA9,SDRA20~SDRA23: ADPCM-A ROM address bus
*SDPAD0~SDPAD7: ADPCM-B ROM multiplexed bus (data/address)
*SDPA8,SDPA9,SDPA10,SDPA11: ADPCM-B ROM address bus

[[Category:Chips]]
[[Category:Repairs]]

A "slot" usually refers to the cartridge connector of cartridge systems, and is sometimes used to name 1-slot [[MVS_board_types|MVS boards]].

Multi-slot boards use discrete or custom-made multiplexing chips such as {{Chipname|NEO-244}}, {{Chipname|NEO-253}} and {{Chipname|NEO-G0}} to let the [[system ROM]] switch games.

[[Category:Cartridge systems]]

#REDIRECT [[Slot check security]]

[[File:S3warning.png|frame|Warning screen as shown by [[Sengoku 3]] when booting on MVS hardware with BIOS_MVS_FLAG set to 0 (AES mode).]]

Slot checking is a MVS security measure added in some games produced after 1998 due to the emergence of [[bootleg MVS boards]]. It displays a warning screen and locks the game up if some checks fail.

Someone who would want to bypass this check will typically search for the warning text string in the [[P ROM]] and references to it in the code. Such text can't be found because the checking routine uses a XORed version of the same text instead, certainly to confuse hackers.

=KOF 98=

If the game figures out it is being run for the first time on the system (thanks to [[backup RAM]] data), it forces a [[watchdog]] reset. If the system doesn't reset itself after a certain amount of time (due to the eventual absence of the watchdog circuit), the game displays the warning screen and locks up.

=Other games=

*The calendar data zone in the [[BIOS RAM locations|BIOS RAM]] is cleared, then [[READ_CALENDAR]] is called. If {{BR|BIOS_MONTH}} is greater than 13 (should be 12 ? Is that a bug ?), the check fails. This causes bootleg boards with no [[RTC]] to trigger the security.
*If {{BR|BIOS_MVS_FLAG}} is zero (BIOS in AES mode), and bit 7 of {{Reg|REG_STATUS_B}} is set (MVS hardware), the check fails. This causes bootleg boards using a copy of the AES system ROM or those that don't handle REG_STATUS_B reads to trigger the security.

Depending on the result of those checks, the value $8B55 (pass) or $9DBD (fail) is written to [[VRAM]] at $7FFF. This furthermore verifies that the board has full VRAM.

That VRAM value is then read back and added to $74AB (=$10000 if checks passed) to set the byte at $10FCEF (fail) or not.

A later version of this procedure also times the Z80 reply to command $01. $10FCEE = $FF if Z80 was too slow.

Todo: Add more details.

==Use by games==

As seen in MAME's source ([[https://github.com/mamedev/mame/blob/master/src/mame/drivers/neogeo.cpp neogeo.cpp]]), a few games are known to do this check:

*[[Nightmare in the Dark]]
 - Can be disabled with RTS at $19978
*[[The King of Fighters 2000]]
*[[Sengoku 3]]: MVS SLOT CHECK Ver2.30 00/04/25
*[[Matrimelee]]
*[[Metal Slug 2]]
*[[Metal Slug 5]]

[[Sengoku 3]]: Checks M1 ROM too, displays "M1-ROM ERROR." if Z80 doesn't reply to command 1 in $7FFF iterations loop.

[[Category:Games]]

Slowdowns are perceived during gameplay as slow picture updates (frameskip). On the NeoGeo, this happens when the [[68k|CPU]] is not able to update the [[VRAM]] often enough to animate sprites smoothly.

If a game wants to run at a constant [[framerate|60 FPS]] (no frameskip), the calculations for a frame need to last less than 1/60 = 16.7ms. For 30 FPS (1/2 frameskip), they need to last less than 1/30 = 33.3ms.

If calculations are too long and continue into the next frame, that frame will be skipped. For example, if calculations last 16.8ms, a whole frame will be skipped because the CPU was 0.1ms late.

Games known for having slowdowns are:
*[[Aero Fighters 2]]
*[[Blazing Star]]
*[[Metal_Slug_2_-_Super_Vehicle-001/II|Metal Slug 2]]
*[[Shock Troopers]]
*[[Twinkle Star Sprites]]...

In the following graphs:
*The vertical lines are frame ticks ([[68k interrupts|interrupts]]) given by the video controller, they always occur every 16.7ms (60Hz)
**'''Black lines''' are updated frames (different from the last one)
**&lt;span style="color:#7F0000">'''Red lines'''&lt;/span> are skipped frames (same as the last one)
*&lt;span style="color:#007F7F">'''Cyan areas'''&lt;/span> are the v-blank periods, during which the CPU updates VRAM
*&lt;span style="color:#007F00">'''Green zones'''&lt;/span> are CPU calculations not causing frameskip
*&lt;span style="color:#7F7F00">'''Yellow zones'''&lt;/span> are CPU calculations causing unwanted frameskip

=60 FPS engine=

==No slowdown==
[[File:Lag60.png]]

If CPU calculations are always shorter than 16.7ms, each and every frame is updated.

==Slowdowns==
[[File:Lag60fs.png]]

If CPU calculations are longer than 16.7ms, the next frame is skipped. Multiple consecutive frames may be skipped (see below).

=30 FPS engine=

The game's engine voluntarily updates one frame out of two, making the game run at 30 FPS at best. The video controller '''always''' runs at 60 FPS. 

This has the advantage of giving a more consistent framerate if the game tends to often exceed the 16.7ms limit, at the expense of animation which is less smooth overall.

==No slowdown==
[[File:Lag30.png]]

If CPU calculations are always shorter than 33.3ms, one frame out of two is updated, as expected.

==Slowdowns==
[[File:Lag30fs.png]]

If CPU calculations are longer than 33.3ms, two or more frames are skipped. Multiple groups of frames can be skipped (see below).

Some game engines are smart enough to "resync" and skip only one frame if they detect that one was already accidentally skipped (doesn't rely on the LSB of a frame counter).

=Perceived slowdown=
[[File:Laghigh.png]]

Skipping one or two frames from time to time is rarely perceived or felt by the player. Annoying slowdowns occur when the video appears to stall.

Perception of slowdowns depends on the spreading of updates:

* #-#-#-#-#-#-#-#- is 30 FPS, acceptable.
* ########-------- is also 30 FPS, but very bothering.

=Game engine logic=
[[File:Lagstoopid.png]]

Are there game engines stupid enough to try catching up on each and every frame, instead of skipping some ?

[[Category:Code]]
[[Category:Video system]]

#REDIRECT [[Soccer Brawl]]

{{GameInfo|right
|en_title=Soccer Brawl
|jp_title=Soccer Brawl
|jp_title2=サッカーブロール
|developer=SNK
|ngh_id=031
|megcount=46
|tcrf=https://tcrf.net/Soccer_Brawl_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=socbrawl
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=socbrawlh
|aes_date=13/03/92
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=31/03/95
}}

[[Category:Games]]

[[File:Softdips.png|thumb|right|A Soft DIPs setup screen.]]

Software DIPs are a list of a maximum of 14 game-specific settings. They can be modified from the MVS [[System ROM]] menu, or with system ROM hacks for other systems.

The settings names and their possible values are stored in the game's [[68k program header]] in a specific format, read by the system ROM to form a menu.

On the [[MVS]], the settings are saved for each game in the [[backup RAM]].

The settings are copied from backup RAM to [[68k user RAM|user RAM]] to '''BIOS_GAME_DIP''' ($10FD84) just before the game is started up. If no settings are found, they're initialized to the default values.

(Does the system ROM check values pulled from the backup RAM against the bounds given by the game ? Can a corrupt backup RAM save make games crash with
out of bounds settings ?)

== Config data description ==

Most of the following information by [[User:ElBarto|ElBarto]]:

{| class="regdef" style="text-align:center;"
| '''0x00'''
| 16 bytes
| Game name, no termination char required.
|-
| '''0x10'''
| 6 bytes
| Special settings list, 4 entries. See description below.
|-
| '''0x16'''
| 10 bytes
| Simple settings list, up to 10 entries. See description below.
|-
| '''0x20'''
| x*12 bytes
| String table. Strings are 12 bytes long and padded with 0x20 (space). Max number ?
|}

===Special settings list===

The special settings list holds 4 entries: the first 2 are for time settings, and the last 2 are for count settings.

A time setting occupies one word, which defines the default value:
* The upper byte is the minutes (up to 29 ?, in BCD).
* The lower byte is the seconds (in BCD).

An unused time setting must be set to 0xFFFF.

A count setting occupies one byte, which defines the default value. It can go from 0 to 100 (not in BCD), with 0 displayed as "WITHOUT" and 100 as "INFINITE".
In some versions of the [[system ROM]], "times" is displayed after the value ?

An unused count setting must be set to 0xFF.

All special settings use a single string from the strings table, for the setting's name.

===Simple settings list===

Each options occupies one byte.

The upper 4 bits define the default value (starts from 0) and the lower 4 bits the number of choices.

A few games have a simple setting entry with a number of choices set to zero, just to show a "▼NEXT PAGE" string on the bottom of the MVS menu.

==Examples==

&lt;pre>
    dc.b    "TEST ROM        "                 ; Game name
    dc.w    $FFFF                              ; Special settings list (none used)
    dc.w    $FFFF
    dc.b    $FF,$FF
    dc.b    $24                                ; Simple setting 1: 4 choices, default is #2
    dc.b    $02                                ; Simple setting 2: 2 choices, default is #0
    dc.b    $00,$00,$00,$00,$00,$00,$00,$00
    ; String table:
    dc.b    "LIVES       "                     ; Simple setting 1's description
    dc.b    "1           "                     ; Simple setting 1's choices
    dc.b    "2           "
    dc.b    "3           "
    dc.b    "4           "
    dc.b    "HOW TO PLAY "                     ; Simple setting 2's description
    dc.b    "WITH        "                     ; Simple setting 2's choices
    dc.b    "WITHOUT     "
&lt;/pre>

{|
|[[File:Config_1.png]]
|[[File:Config_2.png]]
|}

&lt;pre>
    dc.b    "TEST ROM        "                 ; Game name
    dc.w    $4220                              ; Special setting 1: 42 minutes 20 seconds
    dc.w    $2042                              ; Special setting 2: 20 minutes 42 seconds
    dc.b    $42                                ; Special setting 3: 66
    dc.b    $64                                ; Special setting 4: 100 ("INFINITE")
    dc.b    $24                                ; Simple setting 1: 4 choices, default is #2
    dc.b    $02                                ; Simple setting 2: 2 choices, default is #0
    dc.b    $00,$00,$00,$00,$00,$00,$00,$00
    dc.b    "TIMER 1     "                     ; Special setting 1's description
    dc.b    "TIMER 2     "                     ; Special setting 2's description
    dc.b    "COUNTER     "                     ; Special setting 3's description
    dc.b    "COUNTER SPE "                     ; Special setting 4's description
    dc.b    "LIVES       "                     ; Simple setting 1's description
    dc.b    "1           "                     ; Simple setting 1's choices
    dc.b    "2           "
    dc.b    "3           "
    dc.b    "4           "
    dc.b    "HOW TO PLAY "                     ; Simple setting 2's description
    dc.b    "WITH        "                     ; Simple setting 2's choices
    dc.b    "WITHOUT     "
&lt;/pre>

[[File:Config_3.png]]

[[Category:Base system]]

Software rendering is only possible without additionnal hardware on CD systems.

As the sprites and fix [[DRAM]] is used by the [[GPU]] during display, updating of the tiles can only be done during [[68k interrupts|vblank]].

The [[BIOSF_UPLOAD]] [[System ROM]] call can be used to do a [[DMA]] or loop based copy of pre-rendered pixel data from [[68k user RAM|RAM]] to DRAM.
Of course, the data needs to be in the correct format for it to be displayed properly:
*[[Sprite graphics format]]
*[[Fix graphics format]]

=Demo=

'''Does NOT work on the real NeoGeo CD, screen keeps flashing. Perhaps DMA isn't possible when the video output is enabled'''

[[File:Softlines.png|frame||[[Emulators|Nebula]] screenshot]]

[[File:Softrender.zip]]

Plots pixel with varying colors on the [[fix layer]].
Source code for [[Development_tools|AS]] and ready to burn ISO image included.

[[Category:Video system]]
[[Category:Code]]

#REDIRECT [[Aero_Fighters_2]]

[[Category:Games]]

#REDIRECT [[Aero Fighters 3]]

[[Category:Games]]

#REDIRECT [[Aero Fighters 2]]

#REDIRECT [[Aero Fighters 3]]

Sound drivers are the [[Z80]] programs, which are in charge of playing music and sounds through the {{Chipname|YM2610}} according to short commands issued by the [[68k]] CPU.

They're contained in the M1 ROMs or in the Z80 files, on MVS systems (except on {{PCB|MV1B}}) an embedded driver named [[SM1]] is used for testing. In games, they hold the music and sample player code, as well as "tracker music" type data (sometimes banked).

The [[Universe BIOS]] has a jukebox function that uses a database of music commands for every game.

=Command buffer=

As there is no hardware FIFO buffer for sound commands between the 68k and Z80 CPU, the drivers themselves have to implement one in software to make sure no commands are skipped if sent too fast.

For example, the [[Sound_drivers_list|Mr.Noric 3.0 driver]] has a 64 entry FIFO memory which loops back if full.

=CDDA=

[[CDDA]] tracks playback isn't directly initiated by the Z80, but depending on games, the command and track number can come from the Z80's RAM.
CDDA capable drivers can contain a table to map each sound command to a type (CDDA or synthesized), allowing for sound effects to be played by the YM2610 and the music directly from the CD.

[[Category:Audio system]]

Sound drivers are the [[Z80]] programs, which are in charge of playing music and sounds according to short commands [[68k/Z80 communication|issued]] by the [[68k]] CPU.

They're contained in the [[M1 ROM]]s or in the [[Z80 file]]. They include the player code as well as "tracker music" type data (sometimes banked).

The [[Universe BIOS]] has a jukebox function that uses a database of music commands for every game.

ADK's "M.C." is [[Makio Chiba]].
Technos "R. ASHWORTH" is Robert C. Ashworth.

=Cartridge games sound drivers=

Date and developer information from title screens and [[http://en.wikipedia.org/wiki/List_of_Neo_Geo_games '''Wikipedia''']]

{| class="regdef"
|'''Game'''
|'''Driver signature'''
|'''Developer/publisher ?'''
|'''Date'''
|-
|Pop 'n Bounce / Gapporin
| rowspan="3" | -SYSTEM-----------------PROGRAM-
| rowspan="3" | Video System Co.
|1997
|-
|Aero Fighters 2 / Sonic Wings 2
|1994
|-
|Aero Fighters 3 / Sonic Wings 3
|1995
|-
|Zintrick / Oshidashi Zentrix (hack)
|ADK Sound driver Ver 7.9.4 March 22, 1995 by M.C.
|hack
|1996
|-
|Twinkle Star Sprites
|CD-DA  &amp; Operation System Program for Music &amp; Effective Sound  Ver. 8.8.11 (c) Copyright ADK Corporation   June 11, 1996     by M.C  (^_^)
| rowspan="4" | ADK / SNK
|1996
|-
|Syougi No Tatsujin - Master of Syougi
| rowspan="2" | CD-DA  &amp; Operation System Program for Music &amp; Effective Sound  Ver. 8.8.7  (c) Copyright ADK Corporation   March  18 , 1995  by M.C  (^_^)
|1995
|-
|World Heroes Perfect
|1995
|-
|Ninja Master's - haoh-ninpo-cho
| rowspan="2" | CD-DA  &amp; Operation System Program for Music &amp; Effective Sound  Ver. 8.8.9  (c) Copyright ADK Corporation   December 4, 1995  by M.C  (^_^)
|1996
|-
|Over Top
|ADK
|1996
|-
|Magician Lord
|Operation System Program for Music &amp; Effective Sound  Ver. 1.2  (c) Copyright ALPHA DENSHI Co., Ltd.  1990 / February / 18 by M.Chiba    &lt;^_^>
| rowspan="6" | Alpha Denshi Co.
|1990
|-
|Ninja Combat
|Operation System Program for Music &amp; Effective Sound  Ver. 2.2  (c) Copyright ALPHA DENSHI Co., Ltd.  1990 / June / 18     by M.Chiba    &lt;^_^>
|1990
|-
|Blue's Journey / Raguy
|Operation System Program for Music &amp; Effective Sound  Ver. 3.5  (c) Copyright ALPHA DENSHI Co., Ltd.  1990 / Novenber / 1 RG  by M.Chiba &lt;^_^>
|1990
|-
|Crossed Swords
|Operation System Program for Music &amp; Effective Sound  Ver. 6.4  (c) Copyright ALPHA DENSHI Co., Ltd.  1991 /  March   / 14    by M.C     &lt;^_^> 1
|1991
|-
|Thrash Rally
|Operation System Program for Music &amp; Effective Sound  Ver. 6.5  (c) Copyright ALPHA DENSHI Co., Ltd.  1991 /  July    /  5    by M.C     &lt;^_^> 1
|1991
|-
|Ninja Commando
|Operation System Program for Music &amp; Effective Sound  Ver. 7.3  (c) Copyright ALPHA DENSHI Co., Ltd.  December 3  ,1991  by M.C    &lt;^_^> &lt;^_^> 1
|1992
|-
|Double Dragon
| rowspan="2" | SDC_NGSS / PROGRAMMED BY R. ASHWORTH YOROSHIKU NE!!
| rowspan="2" | Technos Japan
|1995
|-
|Super Dodge Ball / Kunio no Nekketsu Toukyuu Densetsu
|1996
|-
|Kizuna Encounter - Super Tag Battle / Fu'un Super Tag Battle
|Sound Driver Ver 0.0 95/08/11 To SNK
| rowspan="7" | SNK
|1996
|-
|The King of Fighters '96 (NGM-214)
|Sound Driver Ver 0.1 96/07/03 To SNK
|1996
|-
|Samurai Shodown IV - Amakusa's Revenge / Samurai Spirits - Amakusa Kourin
| rowspan="2" | Sound Driver Ver 1.0 96/08/09 To SNK
|1996
|-
|The Ultimate 11 - The SNK Football Championship / Tokuten Ou - Honoo no Libero
|1996
|-
|The King of Fighters '97 (NGM-2320)
| rowspan="2" | Sound Driver Ver 1.1 96/10/01 To SNK
|1997
|-
|Real Bout Fatal Fury Special / Real Bout Garou Densetsu Special
|1996
|-
|The Last Blade / Bakumatsu Roman - Gekka no Kenshi
| rowspan="2" | Sound Driver(ROM)Ver 1.3 97/08/08 To SNK
|1997
|-
|Puzzle Bobble 2 / Bust-A-Move Again
|Taito (SNK license)
|1999
|-
|Real Bout Fatal Fury 2 - The Newcomers / Real Bout Garou Densetsu 2 - the newcomers
|Sound Driver(ROM)Ver 1.6 97/12/08 To SNK
| rowspan="6" | SNK
|1998
|-
|The King of Fighters '98 - The Slugfest / King of Fighters '98 - dream match never ends
| rowspan="2" | Sound Driver(ROM)Ver 1.7 98/06/16 To SNK
|1998
|-
|The King of Fighters '98 - The Slugfest / King of Fighters '98 - dream match never ends (Korean board)
|1998
|-
|The King of Fighters '99 - Millennium Battle (set 1)
|Sound Driver(ROM)Ver 1.7 98/06/16 To SNK
|1999
|-
|The Last Blade 2 / Bakumatsu Roman - Dai Ni Maku Gekka no Kenshi
|Sound Driver(ROM)Ver 1.8 98/10/28 To SNK
|1998
|-
|Garou - Mark of the Wolves (set 1)
| rowspan="5" | Sound Driver(ROM)Ver 1.8 99/08/04 To SNK
|1999
|-
|Garou - Mark of the Wolves (bootleg)
|bootleg
|1999
|-
|Garou - Mark of the Wolves (prototype)
|SNK
|1999
|-
|Sengoku 3 / Sengoku Densho 2001
|Noise Factory / SNK
|2001
|-
|V-Liner (set 1)
|Dyna / BrezzaSoft
|2001
|-
|The King of Fighters 10th Anniversary Extra Plus (The King of Fighters 2002 bootleg)
| rowspan="8" | Sound Driver(ROM)Ver 1.9 00/03/22 To SNK
| rowspan="8" | bootleg
|2005
|-
|The King of Fighters 2003 (bootleg set 1)
|2003
|-
|The King of Fighters 2003 (bootleg set 2)
|2003
|-
|The King of Fighters 2004 Plus / Hero (The King of Fighters 2003 bootleg)
|2003
|-
|The King of Fighters 2004 Ultra Plus (The King of Fighters 2003 bootleg)
|2003
|-
|The King of Fighters 10th Anniversary (The King of Fighters 2002 bootleg)
|2002
|-
|The King of Fighters Special Edition 2004 (The King of Fighters 2002 bootleg)
|2004
|-
|Samurai Shodown V / Samurai Spirits Zero (bootleg)
|2003
|-
|Tecmo World Soccer '96
|TECMO
|Tecmo
|1996
|-
|Baseball Stars Professional
| rowspan="5" | Ver 1.5b by Mr.Pac h Ber.02/01/08
| rowspan="5" | SNK
| rowspan="5" | 1990
|-
|Mahjong Kyo Retsuden
|-
|NAM-1975
|-
|Neo-Geo
|-
|Top Player's Golf
|-
|Alpha Mission II / ASO II - Last Guardian
| rowspan="15" | Ver 2.0 by Mr.Pac h Ber.02/02/14
|SNK
|1991
|-
|Blazing Star
|Yumekobo
|1998
|-
|Cyber-Lip
| rowspan="2" | SNK
|1990
|-
|Ghost Pilots
|1991
|-
|Jyanshin Densetsu - Quest of Jongmaster
|Aicom
|1994
|-
|Puzzled / Joy Joy Kid
| rowspan="4" | SNK
|1990
|-
|King of the Monsters (set 1)
|1991
|-
|League Bowling
|1990
|-
|Legend of Success Joe / Ashitano Joe Densetsu
|1991
|-
|Minasanno Okagesamadesu! Daisugorokutaikai
|Monolith Corp.
|1990
|-
|Pulstar
|Aicom
|1995
|-
|Riding Hero
| rowspan="3" | SNK
|1990
|-
|Sengoku / Sengoku Denshou
|1991
|-
|The Super Spy
|1990
|-
|Viewpoint
|Sammy / Aicom
|1992
|-
|2020 Super Baseball (set 1)
| rowspan="17" | Ver 2.0a by MAKOTO.03/04/05 to SK
|SNK / Pallas
|1991
|-
|Andro Dunos
|Visco
|1992
|-
|Bakatonosama Mahjong Manyuuki
|Monolith Corp.
|1991
|-
|Baseball Stars 2
|SNK
|1992
|-
|Burning Fight
|SNK
|1991
|-
|Eight Man
|SNK / Pallas
|1991
|-
|Fatal Fury - King of Fighters / Garou Densetsu - shukumei no tatakai
|SNK
|1991
|-
|Football Frenzy
|SNK
|1992
|-
|Goal! Goal! Goal!
|Visco
|1995
|-
|Last Resort
|SNK
|1992
|-
|Mutation Nation
|SNK
|1992
|-
|Puzzle Bobble / Bust-A-Move (Neo-Geo)
|Taito
|1994
|-
|Puzzle Bobble / Bust-A-Move (Neo-Geo) (bootleg)
|bootleg
|1994
|-
|Quiz Meitantei Neo &amp;amp; Geo - Quiz Daisousa Sen part 2
|SNK
|1992
|-
|Quiz Daisousa Sen - The Last Count Down
|SNK
|1991
|-
|Robo Army
|SNK
|1991
|-
|Soccer Brawl
|SNK
|1991
|-
|3 Count Bout / Fire Suplex
| rowspan="52" | Ver 3.0 by MAKOTO.04/03/10 to SK
|SNK
|1993
|-
|Art of Fighting / Ryuuko no Ken
|SNK
|1992
|-
|Art of Fighting 2 / Ryuuko no Ken 2
|SNK
|1994
|-
|Art of Fighting 3 - The Path of the Warrior / Art of Fighting - Ryuuko no Ken Gaiden
|SNK
|1996
|-
|Bang Bead
|Visco
|2000
|-
|Breakers
|Visco
|1996
|-
|Breakers Revenge
|Visco
|1998
|-
|Captain Tomaday
|Visco
|1999
|-
|Fatal Fury Special / Garou Densetsu Special (set 1)
|SNK
|1993
|-
|Fatal Fury 2 / Garou Densetsu 2 - arata-naru tatakai
|SNK
|1992
|-
|Fatal Fury 3 - Road to the Final Victory / Garou Densetsu 3 - haruka-naru tatakai
|SNK
|1995
|-
|Fight Fever (set 1)
|Viccom
|1994
|-
|Battle Flip Shot
|Visco
|1998
|-
|Galaxy Fight - Universal Warriors
|Sunsoft
|1995
|-
|Ganryu / Musashi Ganryuki
|Visco
|1999
|-
|Voltage Fighter - Gowcaizer / Choujin Gakuen Gowcaizer
|Technos Japan
|1995
|-
|The Irritating Maze / Ultra Denryu Iraira Bou
|SNK / Saurus
|1997
|-
|Far East of Eden - Kabuki Klash / Tengai Makyou - Shin Den
|Hudson
|1995
|-
|The King of Fighters '94
|SNK
|1994
|-
|The King of Fighters '95
|SNK
|1995
|-
|King of the Monsters 2 - The Next Thing
|SNK
|1992
|-
|Magical Drop III
|Data East Corporation
|1997
|-
|Chibi Marukochan Deluxe Quiz
|Takara
|1995
|-
|Money Puzzle Exchanger / Money Idol Exchanger
|Face
|1997
|-
|Neo Bomberman
|Hudson
|1997
|-
|Neo Drift Out - New Technology
|Visco
|1996
|-
|Neo Mr. Do!
|Visco
|1996
|-
|Nightmare in the Dark
|Eleven / Gavaking
|2000
|-
|Panic Bomber
|Eighting / Hudson
|1994
|-
|Pleasure Goal / Futsal - 5 on 5 Mini Soccer
|Saurus
|1996
|-
|Puzzle De Pon!
|Taito (Visco license)
|1995
|-
|Quiz Daisousa Sen - The Last Count Down (Korean release)
|SNK
|1991
|-
|Quiz King of Fighters
|Saurus
|1995
|-
|Quiz King of Fighters (Korean release)
|Saurus
|1995
|-
|Ragnagard / Shin-Oh-Ken
|Saurus
|1996
|-
|Real Bout Fatal Fury / Real Bout Garou Densetsu
|SNK
|1995
|-
|Samurai Shodown / Samurai Spirits
|SNK
|1993
|-
|Samurai Shodown II / Shin Samurai Spirits - Haohmaru jigokuhen
|SNK
|1994
|-
|Samurai Shodown III / Samurai Spirits - Zankurou Musouken
|SNK
|1995
|-
|Savage Reign / Fu'un Mokushiroku - kakutou sousei
|SNK
|1995
|-
|Sengoku 2 / Sengoku Denshou 2
|SNK
|1993
|-
|Shock Troopers (set 1)
|Saurus
|1997
|-
|Spin Master / Miracle Adventure
|Data East Corporation
|1993
|-
|Super Sidekicks / Tokuten Ou
|SNK
|1992
|-
|Super Sidekicks 2 - The World Championship / Tokuten Ou 2 - real fight football
|SNK
|1994
|-
|Super Sidekicks 3 - The Next Glory / Tokuten Ou 3 - eikoue no michi
|SNK
|1995
|-
|Stakes Winner / Stakes Winner - GI kinzen seihae no michi
|Saurus
|1995
|-
|Stakes Winner 2
|Saurus
|1996
|-
|Top Hunter - Roddy &amp;amp; Cathy
|SNK
|1994
|-
|Waku Waku 7
|Sunsoft
|1996
|-
|Zed Blade / Operation Ragnarok
|NMK
|1994
|-
|Zupapa!
|SNK
|2001
|-
|Lansquenet 2004 (Shock Troopers - 2nd Squad bootleg)
| rowspan="4" | Ver 8.3 by MAKOTO.98/05/07 to SK
|bootleg
|1998
|-
|Neo-Geo Cup '98 - The Road to the Victory
|SNK
|1998
|-
|Prehistoric Isle 2
|Yumekobo
|1999
|-
|Shock Troopers - 2nd Squad
|Saurus
|1998
|-
|World Heroes
|Window &amp; Operation System Program for Music &amp; Effective Sound  Ver. 8.4  (c) Copyright ALPHA DENSHI Co., Ltd.  July  18 ,1992  by M.C &lt;^_^>    1
|Alpha Denshi Co.
|1992
|-
|World Heroes 2
|Window &amp; Operation System Program for Music &amp; Effective Sound  Ver. 8.5  (c) Copyright ALPHA DENSHI Co., Ltd.  November 17 ,1992  by M.C &lt;^_^> 1
|ADK
|1993
|-
|Aggressors of Dark Kombat / Tsuukai GANGAN Koushinkyoku
|Window &amp; Operation System Program for Music &amp; Effective Sound  Ver. 8.7.8  (c) Copyright ADK Corporation   July 2, 1994        by M.C (^_^)
|ADK / SNK
|1994
|-
|Crouching Tiger Hidden Dragon 2003 Super Plus alternate (The King of Fighters 2001 bootleg)
|
|bootleg
|2003
|-
|Crouching Tiger Hidden Dragon 2003 Super Plus (The King of Fighters 2001 bootleg)
|
|bootleg
|2003
|-
|Crouching Tiger Hidden Dragon 2003 (The King of Fighters 2001 bootleg)
|
|bootleg
|2003
|-
|Digger Man (prototype)
|
|Kyle Hodgetts
|2000
|-
|Fighters Swords (Korean release of Samurai Shodown III)
|
|SNK
|1995
|-
|Ghostlop (prototype)
|
|Data East Corporation
|1996
|-
|Gururin
|
|Face
|1994
|-
|Jockey Grand Prix (set 1)
|
|Sun Amusement / BrezzaSoft
|2001
|-
|Karnov's Revenge / Fighter's History Dynamite
|
|Data East Corporation
|1994
|-
|The King of Fighters 2000 (NGM-2570) (NGH-2570)
|
|SNK
|2000
|-
|The King of Fighters 2001 (NGM-262?)
|
|Eolith / SNK
|2001
|-
|The King of Fighters 2002 (NGM-2650)(NGH-2650)
|
|Eolith / Playmore
|2002
|-
|The King of Fighters 2003 (NGM-2710)
|
|SNK Playmore
|2003
|-
|Magical Drop II
|
|Data East Corporation
|1996
|-
|Matrimelee / Shin Gouketsuji Ichizoku Toukon (NGM-2660) (NGH-2660)
|
|Noise Factory / Atlus
|2002
|-
|Matrimelee / Shin Gouketsuji Ichizoku Toukon (bootleg)
|
|bootleg
|2002
|-
|Metal Slug 4 Plus (bootleg)
|
|bootleg
|2002
|-
|Metal Slug 5 (JAMMA PCB)
|
|SNK Playmore
|2003
|-
|Metal Slug 5 Plus (bootleg)
|
|bootleg
|2003
|-
|Metal Slug - Super Vehicle-001
|
|Nazca
|1996
|-
|Metal Slug 2 - Super Vehicle-001/II
|
|SNK
|1998
|-
|Metal Slug 3 (NGM-2560)
|
|SNK
|2000
|-
|Metal Slug 6 (Metal Slug 3 bootleg)
|
|bootleg
|2000
|-
|Metal Slug 3 (NGH-2560)
|
|SNK
|2000
|-
|Metal Slug 4 (NGM-2630)
|
|Mega / Playmore
|2002
|-
|Metal Slug 4 (NGH-2630)
|
|Mega / Playmore
|2002
|-
|Metal Slug 5 (NGM-2680)
|
|SNK Playmore
|2003
|-
|Metal Slug 5 (NGH-2680)
|
|SNK Playmore
|2003
|-
|Metal Slug X - Super Vehicle-001
|
|SNK
|1999
|-
|Pochi and Nyaa
|
|Aiky / Taito
|2003
|-
|Rage of the Dragons (NGM-2640)
|
|Evoga / Playmore
|2002
|-
|Strikers 1945 Plus
|
|Psikyo
|1999
|-
|Samurai Shodown V Special / Samurai Spirits Zero Special (NGM-2720)
|
|Yuki Enterprise / SNK Playmore
|2004
|-
|Samurai Shodown V / Samurai Spirits Zero (NGM-2700)
|
|Yuki Enterprise / SNK Playmore
|2003
|-
|Street Hoop / Street Slam / Dunk Dream (DEM-004) (DEH-004)
|
|Data East Corporation
|1994
|-
|SNK vs. Capcom - SVC Chaos (NGM-2690)(NGH-2690)
|
|SNK Playmore
|2003
|-
|SNK vs. Capcom - SVC Chaos (bootleg)
|
|bootleg
|2003
|-
|SNK vs. Capcom - SVC Chaos (JAMMA PCB, set 1)
|
|SNK Playmore
|2003
|-
|SNK vs. Capcom - SVC Chaos Plus (bootleg set 1)
|
|bootleg
|2003
|-
|SNK vs. Capcom - SVC Chaos Super Plus (bootleg)
|
|bootleg
|2003
|-
|Neo Turf Masters / Big Tournament Golf
|
|Nazca
|1996
|-
|V-Liner (set 2)
|
|Dyna / BrezzaSoft
|2001
|-
|Windjammers / Flying Power Disc
|
|Data East Corporation
|1994
|}

Samurai shodown 5, Sonic wings 2/3: no signature ?

== CD sound drivers ==
Some informations from ProgFr.

Date and editor information from [[http://neogeocdworld.info/html/dossiers/baseneogeocd/baseneogeocd.html NeoGeo CD World]]

{| class="regdef"
|'''Game'''
|'''Driver signature'''
|'''[[CDDA]] method'''
|'''Developer/publisher ?'''
|'''Date'''
|-
|Final Romance 2
|rowspan="2"|-SYSTEM--------- [data...] --------PROGRAM- 
|Direct BIOS call
|rowspan="2"|Video System
|1995
|-
|Aero Fighters 3
|Direct BIOS call
|1995
|-
|[[Double Dragon]]
|SDC SYSTEM NGS-CD DRIVER V1.0 BY BOB
|Direct BIOS call
|Technos
|1995
|-
|[[Neo Turf Masters]]
|/
|Direct BIOS call
|rowspan="2"|Nazca
|1996
|-
|Metal Slug 2
|/
|Direct BIOS call
|1998
|-
|Breakers
|rowspan="3"|Ver 3.0 by Mr.Noric.1993/11/10 14:00
|Z80 RAM
|Visco
|1996
|-
|[[Puzzled]]
|Z80 RAM
|rowspan="2"|SNK
|1997
|-
|Top Hunter
|Z80 RAM
|1994
|-
|[[Samurai Shodown RPG]]
|Ver 3.2 by MAKOTO.97/06/01 to SK&lt;br>CD0003 SAMURAI RPG BANK1 Ver.97/06/05 By Yassun
|Z80 RAM
|SNK
|1997
|-
|Chotetsu Brikin'ger
|?
|Z80 RAM
|Saurus
|1996
|-
|Crossed Swords 2
|CD-DA  &amp; Operation System Program for Music &amp; Effective Sound  Ver. 8.8.7A (c) Copyright ADK Corporation   April  13 , 1995  by M.C  (^_^)
|Z80 RAM
|SNK/ADK
|1995
|-
|Twinkle Star Sprites
|CD-DA  &amp; Operation System Program for Music &amp; Effective Sound  Ver. 8.8.12 (C) Copyright ADK Corporation   August 27, 1996   by M.C  (^_^)
|?
|ADK
|1997
|-
|Viewpoint
|Ver 2.0 by Mr.Pac h Ber.02/02/14
|Z80 RAM
|Sammy
|1995
|-
|KOF '97
|Sound Driver(CD) Ver 1.2 97/08/08 To SNK
|Z80 RAM
|rowspan="2"|SNK
|1997
|-
|Last Blade 2
|Sound Driver(CD) Ver 1.8 99/01/07 To SNK
|Z80 RAM
|1998
|-
|Street Hoop
|/
|Z80 RAM
|Data East
|1994
|-
|Windjammers
|/
|Z80 RAM
|Data East
|1994
|}

[[http://www.neogeocdworld.info/html/aide/programmation/neo/neo_snd.htm Sound driver signatures list]]

[[Category:Audio system]]

=For speech=

To do: upload HQ mp3 or wav samples.

The sample taken as example is [[Nam1975]]'s soldier voice (young man): "Now we're called heroes, but the hell continues".

The pictures are spectrograms. The horizontal axis is time, the vertical axis is linear frequency from 0 to sample rate / 2. Color represents power in dBV².

==Original sample rate: 18500Hz==
Everyting fits in f/2 = 9250Hz. The highest components (the "S"es from "heroeS" and "continueS") are around 5500Hz.

[[File:nam18500.png|512px]]

==16384Hz==
Quality difference acceptable. Everything still fits in f/2 = 8192Hz. Size gain: 11%.

[[File:nam16384.png|512px]]

==12000Hz==
Quality difference noticable in "S"es. f/2 = 6000Hz starts getting close to the highest components. Size gain: 35%.

[[File:nam12000.png|512px]]

==8192Hz==
Quality degradation very noticable. "S"es chopped off because f/2 = 4096Hz, &lt; 5500Hz. Size gain: 56%.

[[File:nam8192.png|512px]]

==4096Hz==
Starts affecting voiced sounds harmonics, would be barely intelligible on cab speakers. Size gain: 78%.

[[File:nam4096.png|512px]]

[[Category:Audio system]]

[[File:sphero.jpg|thumb|Logo used on inserts.]]

Sphero Symphony is the name (not even a trademark) given by SNK to the use of stereo in some early NeoGeo games.

As it can be seen in the [[Art of Fighting]]'s source code file sys/SOUND.SRC, the process simply pans sound effects left, center, or right, depending on the [[sprites]] positions on the screen. Since the NeoGeo only has 1-bit panning, there are only 3 different zones with overall constant power:

* Left, full volume
* Left + right, half volume
* Right, full volume

Panning is set by the game engine through special commands sent to the [[sound driver]].

Nothing more than that.

=Games bearing the logo=
* [[Riding Hero]]
* [[Alpha Mission II]]
* [[Ninja Combat]]
* [[Cyber-Lip]]
* [[The Super Spy]]
* [[Mutation Nation]]
* [[Sengoku]]
* [[Burning Fight]]
* [[Ghost Pilots]]
* [[Last Resort]]
* [[Soccer Brawl]]
* [[Fatal Fury - King of Fighters]]
* [[Football Frenzy]]
* [[Crossed Swords]]
* [[Thrash Rally]]
* [[King of the Monsters 2 - The Next Thing]]
* [[Baseball Stars 2]]
* [[Art of Fighting]]
* [[Fatal Fury 2]]
* [[Andro Dunos]]

[[Category:Audio system]]

{{GameInfo|right
|en_title=Spin Master 
|jp_title=Miracle Adventure
|jp_title2=ミラクルアドベンチャー
|developer=Data East Corporation
|ngh_id=062
|megcount=90
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=spinmast
|mvs_date=1993
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=spinmast
|aes_date=18/02/94
}}

[[Category:Games]]

#REDIRECT [[Spin Master]]

[[File:Sprite_experimenter.png|frame|right]]

Small MVS/CD program which allows to modify [[VRAM]] and see the resulting display.

*Only the first sprite is visible at startup. Every others are located at 64,64, zoomed to max, but are 0 tiles high.
*The tile maps can't be changed, all sprites are mapped with tiles containing numbers "00" to "1F".
*Move the current sprite by using the direction keys.
;With A pressed
:Left/right changes horizontal shrink.
:Up/down changes vertical shrink.
;With B pressed
:Up/down selects sprite.
:Left/right changes sprite height.
;Press C to toggle the sprite's [[sticky bit]].
;Press D to toggle between step-by-step mode or continuous press mode.


Source and romset: [[Media:spritexpmvs.zip|spritexpmvs.zip]]

[[Category:Code]]
[[Category:Graphics Code]]

[[File:spritegfx2.png|center]]

The NeoGeo uses 16x16 pixels, 4bpp tiles for sprites.

They are stored as 4, 8x8 pixels blocks. Each row of these 8x8 blocks is stored '''backwards''' in a 4bit planar organization.

* On cartridge systems, bitplanes 0 and 1 go in the odd [[C ROM]]s (C1, C3...), while bitplanes 2 and 3 go in the even ones (C2, C4...).
* On [[CD systems]], bitplanes follow a 1/0/3/2 order.

=Size=

One tile is 16 * 16 pixels * 4 bits per pixel = 1024 bits = '''128 bytes'''.

=Addressing=

&lt;pre>
Bit # ...543210
      ...nCLLLL

n: Tile number (multiple bits)
C: Block column, 0 = blocks 1 &amp; 2, 1 = blocks 3 &amp; 4
L: Block line # (0~15)
&lt;/pre>

{{Sig|CA4|CA4}} is "C".

="Consolegfx"-style definition=

Each group represents one byte.

* '''t''' is the 8x8 block number (1 to 4) as shown above.
* '''r''' is the row number in the block (0 to 7).
* '''bp''' is the bitplane number (0 to 3).

==Odd C ROMs==
&lt;pre>
  [t1, r0, bp0], [t1, r0, bp1], [t1, r1, bp0], [t1, r1, bp1],
  [t1, r2, bp0], [t1, r2, bp1], [t1, r3, bp0], [t1, r3, bp1],
  [t1, r4, bp0], [t1, r4, bp1], [t1, r5, bp0], [t1, r5, bp1],
  [t1, r6, bp0], [t1, r6, bp1], [t1, r7, bp0], [t1, r7, bp1],

  [t2, r0, bp0], [t2, r0, bp1], [t2, r1, bp0], [t2, r1, bp1],
  [t2, r2, bp0], [t2, r2, bp1], [t2, r3, bp0], [t2, r3, bp1],
  [t2, r4, bp0], [t2, r4, bp1], [t2, r5, bp0], [t2, r5, bp1],
  [t2, r6, bp0], [t2, r6, bp1], [t2, r7, bp0], [t2, r7, bp1]

  [t3, r0, bp0], [t3, r0, bp1], [t3, r1, bp0], [t3, r1, bp1],
  [t3, r2, bp0], [t3, r2, bp1], [t3, r3, bp0], [t3, r3, bp1],
  [t3, r4, bp0], [t3, r4, bp1], [t3, r5, bp0], [t3, r5, bp1],
  [t3, r6, bp0], [t3, r6, bp1], [t3, r7, bp0], [t3, r7, bp1]

  [t4, r0, bp0], [t4, r0, bp1], [t4, r1, bp0], [t4, r1, bp1],
  [t4, r2, bp0], [t4, r2, bp1], [t4, r3, bp0], [t4, r3, bp1],
  [t4, r4, bp0], [t4, r4, bp1], [t4, r5, bp0], [t4, r5, bp1],
  [t4, r6, bp0], [t4, r6, bp1], [t4, r7, bp0], [t4, r7, bp1]
&lt;/pre>

==Even C ROMs==
&lt;pre>
  [t1, r0, bp2], [t1, r0, bp3], [t1, r1, bp2], [t1, r1, bp3],
  [t1, r2, bp2], [t1, r2, bp3], [t1, r3, bp2], [t1, r3, bp3],
  [t1, r4, bp2], [t1, r4, bp3], [t1, r5, bp2], [t1, r5, bp3],
  [t1, r6, bp2], [t1, r6, bp3], [t1, r7, bp2], [t1, r7, bp3],

  [t2, r0, bp2], [t2, r0, bp3], [t2, r1, bp2], [t2, r1, bp3],
  [t2, r2, bp2], [t2, r2, bp3], [t2, r3, bp2], [t2, r3, bp3],
  [t2, r4, bp2], [t2, r4, bp3], [t2, r5, bp2], [t2, r5, bp3],
  [t2, r6, bp2], [t2, r6, bp3], [t2, r7, bp2], [t2, r7, bp3]

  [t3, r0, bp2], [t3, r0, bp3], [t3, r1, bp2], [t3, r1, bp3],
  [t3, r2, bp2], [t3, r2, bp3], [t3, r3, bp2], [t3, r3, bp3],
  [t3, r4, bp2], [t3, r4, bp3], [t3, r5, bp2], [t3, r5, bp3],
  [t3, r6, bp2], [t3, r6, bp3], [t3, r7, bp2], [t3, r7, bp3]

  [t4, r0, bp2], [t4, r0, bp3], [t4, r1, bp2], [t4, r1, bp3],
  [t4, r2, bp2], [t4, r2, bp3], [t4, r3, bp2], [t4, r3, bp3],
  [t4, r4, bp2], [t4, r4, bp3], [t4, r5, bp2], [t4, r5, bp3],
  [t4, r6, bp2], [t4, r6, bp3], [t4, r7, bp2], [t4, r7, bp3]
&lt;/pre>

=Decoding=

Pseudocode:
&lt;pre>
for block = 0 to 3 {
    select block {
        case 0: xOfs = 8: yOfs = 0
        case 1: xOfs = 8: yOfs = 8
        case 2: xOfs = 0: yOfs = 0
        case 3: xOfs = 0: yOfs = 8
    }
    for row = 0 to 7 {
        BitPlane(0) = ReadByte(1)
        BitPlane(1) = ReadByte(1)
        BitPlane(2) = ReadByte(2)
        BitPlane(3) = ReadByte(2)
        for pixels = 0 to 7 {
            xPos = pixels + xOfs
            yPos = row + yOfs
            ColorIndex = 0
            for bitplanes = 0 to 3
                ColorIndex .= GetBit(BitPlane(3 - bitplanes)), 7 - pixels)
            PixelSet (xPos, yPos), Palette[ColorIndex]
        }
    }
}
&lt;/pre>

=Coding=

[[Category:Video system]]

Shrinking (also known as scaling, reduction, and "zooming") is a hardware feature of the NeoGeo which allows to scale down [[sprites]] with per-pixel accuracy in both dimensions.

Shrinking is performed by [[LSPC]] by skipping a variable number of pixel lines or columns. It can be seen as a simple subsampling of the original graphics since there's no smoothing applied at all.

=Vertical shrinking=

The vertical shrinking is set by an 8-bit value specifying the final height of the sprite's '''graphics'''. This value is set in [[VRAM]], in the [[Sprites|SCB2]].

Range: $FF is the tallest, $0 is the smallest.

To know which line to skip, LSPC uses a lookup table stored in the {{Chipname|L0 ROM}}.

The vertical shrink parameter propagates in [[Sticky bit|chained sprites]].

==Caveat: Display window==

Note that vertical shrinking does not affect the tile height setting of the sprite. The graphics are shrunk '''inside''' the defined window.

&lt;gallery>
File:spritez_4.png|Sprite height set to 4 tiles, graphics intentionally filling 4 tiles
File:spritez_3.png|The same sprite updated to be only 3 tiles high without clearing the 4th (yellow) tile
File:spritez_anim.gif|The sprite will shrink this way, showing the garbage yellow tile from the previous setup
&lt;/gallery>

==Caveat: Last line repeat==

If the display window of a sprite is taller than the shrunk graphics, the remaining lines will be filled with repeats of the last line of the last tile (the bottom line of the tile at map index 15).

SNK recommends leaving that line fully transparent if this causes problems.

=Horizontal shrinking=

The horizontal shrinking is set by a 4-bit value specifying the final width of the sprite graphics +1 (giving 1 to 16 pixels wide sprites). This value is also set in [[Sprites|SCB2]].

Range: $F is full size (all 16 pixels shown), $0 is the smallest (only 1 pixel shown).

The horizontal shrink parameter does '''not''' propagate in chained sprites. Values for each sprite of a group [[Scaling sprite groups|have to be distributed]] to obtain the total desired group width.

There is no external lookup table for horizontal shrinking. The process is completely done inside LSPC.
In the following table, each line corresponds to a shrinking value. 1 means the pixel will be drawn and 0 means it will be skipped (info from MAME's source, matches the real hardware):

[[File:Hshrink.gif|thumb|Horizontal shrink effect on a multicolored tile, showing how pixels are skipped.]]

*0: 0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0 (15 pixel skipped, 1 remaining)
*1: 0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0 (14 pixels skipped...)
*2: 0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0
*3: 0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0
*4: 0,0,1,0,1,0,0,0,1,0,0,0,1,0,1,0
*5: 0,0,1,0,1,0,1,0,1,0,0,0,1,0,1,0
*6: 0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0
*7: 1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0
*8: 1,0,1,0,1,0,1,0,1,1,1,0,1,0,1,0
*9: 1,0,1,1,1,0,1,0,1,1,1,0,1,0,1,0
*A: 1,0,1,1,1,0,1,0,1,1,1,0,1,0,1,1
*B: 1,0,1,1,1,0,1,1,1,1,1,0,1,0,1,1
*C: 1,0,1,1,1,0,1,1,1,1,1,0,1,1,1,1
*D: 1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1
*E: 1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1 (...1 pixel skipped)
*F: 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 (no pixels skipped, full size)

=Centering=

Centering can be required since the "anchor point" of sprites is fixed at their top left corner.

Todo: code example.

[[Category:Video system]]

== "Sprites" as defined by SNK ==

[[File:Mutnatsprite.png|right|frame|Structure of a grouped sprite. The red sprite drives the other 3.]]

Sprites on the NeoGeo aren't like those on other systems.

They're made of tiles (sometimes called characters) coming from the [[C ROM]]s, or from the .SPR files on the NeoGeo CD. Those tiles are always 16x16 pixels in size and can contain 15 colors (the color index 0 is used for transparency).

Sprites are vertical strips of tiles, with a fixed width of 1 tile (16 pixels), and an adjustable height of up to 32 tiles (512 pixels).
Each sprite has its own tile and attributes map, defining which tile goes in which place, how is it flipped, and which palette to use.
Sprites can be stuck together horizontally to make huge moveable objects.

== Limitations ==

*No more than 96 sprites can be rendered by scanline. Any others won't be displayed (priority: 1 is in the back).
*Even if the VRAM has space for 448 sprites, only 381 can be displayed per frame. This is imposed by the GPU's architecture.
*Contrary to common belief sprites can't be zoomed, they can only be shrunk. Graphics for sprites have to be stored at the biggest size needed.
A lot of games contain pre-stretched graphics for sprites which are seen scaled down most of the time ("crashing" logos in title screens for example).
*1048576 tiles can be addressed (20 bits, 128MiB of graphics), if more tiles are needed then the sprites graphics need to be bankswitched.

== Graphics format ==

Sprite tiles are 16x16 pixels in a 4BPP planar format, handled as four 8x8 tiles by the [[GPU]]. See [[sprite graphics format]].

A sprite tile is 128 bytes.

==Horizontal reduction==

See [[Sprite shrinking]].

= Sprite control blocks =

There are 4 Sprite Control Blocks located in VRAM: SCB1, SCB2, SCB3 and SCB4.
They respectively start at VRAM addresses $0000, $8000, $8200 and $8400. They aren't mirrored in any way.

Please see [[VRAM]] to learn more about read/writing to these locations.

Sprites wrap around the screen on a 512 pixels X or Y boundary.

&lt;center>[[File:spriteex.png]]&lt;/center>
(All sprites are mapped with tiles $01~$21)

Unused bits in SCB2 and SCB4 can be used for any purpose, they can be written and read back like the others.

== SCB1 (VRAM $0000~$6FFF): Tilemaps ==
SCB1 is used to store the tilemaps and tile attributes of each sprite.

(Note that the $7000~$7FFF range in VRAM is used for the [[Fix layer]]).

Each sprite has a 64-words table, in which each pair of words correspond to a tile in the sprite, top to bottom.

Even locations are the tile number's 16 lower bits:

{{16BitRegister|Tile number LSBs|16}}

Odd locations contain the remaining tile number bits, palette index and attributes:

{{16BitRegister|[[Palettes|Palette]]|8|Tile number MSBs|4|3bit Auto-anim|1|2bit Auto-anim|1|Vertical flip|1|Horizontal flip|1}}

The 8-frame [[auto animation]] bit has priority over the 4-frame one.

== SCB2 (VRAM $8000~$81FF): Shrinking coefficients ==

SCB2 is used to specify the shrinking value of each sprite.

The lower byte is the vertical shrinking. $FF is full size.

The lower nibble of the upper byte is the horizontal shrinking. $F is full size.

{{16BitRegister| |4|Horizontal|4|Vertical|8}}


== SCB3 (VRAM $8200~$83FF): vertical positions ==

SCB3 is used to specify the sprite's Y position, its [[sticky bit]] and its size (height in tiles).
The actual position is 496-Y, from the top border of the screen.

A special sprite size of 33 makes it 32 tiles high, and loops borders when shrinking (see example sprite 6).

The sprite's height is actually the "window" size in which the sprite will be drawn. Shrinking isn't calculated from this.

{{16BitRegister|Y position|9|[[Sticky bit]]|1|Sprite size|6}}


== SCB4 (VRAM $8400~$85FF): horizontal positions ==

SCB4 is used to specify the sprite's X position.
The actual position is from the left border of the screen.

{{16BitRegister|X position|9|-|7}}

[[Category:Video system]]

[[File:Sprlimit tss.png|thumb|[[Twinkle Star Sprites]] often exceeds the limit because of the many particle effects.]]

The sprite-per-line limit is a hardware imposed limit commonly found in old sprite-based videogame hardware. It is defined as a maximum number of [[sprites]] per raster (horizontal) video line.

This number is '''96''' on the NeoGeo.

If the limit is exceeded on a line, the next sprites (in [[VRAM]] order) which should be drawn on that particular line are simply skipped. Care must therefore be taken by developers to stay under the limit in order to avoid glitches.

=Details=

The limit comes from the fact that the NeoGeo [[GPU]] was designed to render no more than '''1536 sprite pixels per line''' (96*16 pixels).

It is important to note that even transparent pixels, and pixels removed by [[Sprite shrinking|horizontal shrinking]] also count as sprite pixels. The sprite's height value must be set appropriately to avoid "consuming" excess pixels in the lower part.

Even if a 5-tiles-wide chained sprite block is shrunk horizontally to 0 (resulting in a 5 pixels wide block on the display), it will '''still''' count as 5*16 = 80 pixels.

The GPU simply isn't smart enough to spend time writing only visible pixels.

==Example==

In the following sprite setup, there are four 1-tile high sprites next to each other at the exact same Y positions. They are set in VRAM from 0 to 3 from left to right:

[[File:Sprlimit_ideal.png]]

If the NeoGeo allowed a maximum of 3 sprites per line, the black sprite would be completly masked off:

[[File:Sprlimit_1.png]]

Let's say we move the blue sprite down a bit. Since the limit is on a per-line basis, the top of the black sprite shows but the rest is masked (magenta zone):

[[File:Sprlimit_2.png]]

Then again, if the green sprite is moved up, we can clearly see that the black sprite gets masked only where all the sprites fall on the same lines:

[[File:Sprlimit_3.png]]

The top is displayed because only red and green are on the lines. The bottom is displayed because only red and blue are on the lines.

[[File:Sprlimit_anim.gif]]

Here's a sprite set to show graphics only 3 tiles high, but configured as 4 tiles high sprite, the magenta zone represents the wasted lines, which aren't visible but '''will''' count on the corresponding lines:

[[File:Sprlimit_vw.png]]

Setting the sprite's height to 3 instead of 4 can avoid masking of sprites falling on the previously wasted lines, in heavily animated scenes.

=Emulation=

[[Emulators|MAME]] emulates the limit, but some other emulators might not. Which ones ?

[[Category:Video system]]

#REDIRECT [[Super Sidekicks]]

#REDIRECT [[Super Sidekicks 2 - The World Championship]]

#REDIRECT [[Super Sidekicks 3 - The Next Glory]]

#REDIRECT [[The Ultimate 11 - The SNK Football Championship]]

{{GameInfo|right
|en_title=Stakes Winner 
|jp_title=Stakes Winner - GI kinzen seihae no michi
|jp_title2=ステークスウィナー
|developer=Saurus
|editor=Saurus
|ngh_id=088
|megcount=98
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=stakwin
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA42G-3B
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=stakwin
|aes_date=27/10/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=23/03/96
}}

[[Category:Games]]

#REDIRECT [[Stakes Winner]]

[[Category:Games]]

{{GameInfo|right
|en_title=Stakes Winner 2
|jp_title=Stakes Winner 2
|jp_title2=ステークスウィナー 2
|developer=Saurus
|ngh_id=227
|megcount=178
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=stakwin2
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_date=13/12/96
}}

[[Category:Games]]

#REDIRECT [[Stakes Winner]]

#REDIRECT [[Stakes Winner 2]]

Redraw of stickers used on MVS multi cart slots.

[[File:Stickers-mvs-multi-exemple.jpg|400px]]


[[Media:Mvs-multi-stickers.pdf|Download as PDF]]



[[Category:Repairs]]

The "sticky bit" (or "chain bit") is one of the per-sprite attributes stored in the [[Sprites|Sprite Control Bank 3]] (bit 6).

{{16BitRegister|Y position|9|'''[[Sticky bit]]'''|1|Sprite size|6}}

Setting it to 1 makes the corresponding sprite "stick" to the right of the precedent one. This allows moving groups of sprites easily, by just updating one coordinate pair.

The [[LSPC]] will automatically place a chained sprite to the right of the previous one. It will inherit the same Y position, the same height and the same vertical shrinking coefficient. All attributes are ignored except the horizontal shrinking coefficient.

Changing the driving sprite's attributes will change all those of the consecutively chained sprites, but the values will remain unchanged in [[VRAM]].

Changing driven sprites attributes won't affect it until its sticky bit is reset.

[[Category:Video system]]

{{GameInfo|right
|en_title=Street Hoop
|eu_title=Street Slam 
|jp_title=Dunk Dream
|jp_title2=ダンク・ドリーム
|developer=Data East Corporation
|ngh_id=079
|megcount=94
|tcrf=https://tcrf.net/Street_Slam
|mvs_release=yes
|mvs_release_en=y
|mvs_release_eu=y
|mvs_release_jp=y
|mvs_romset=strhoop
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=strhoop
|aes_date=09/12/94
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=20/01/95
}}

[[Category:Games]]

#REDIRECT [[Street_Hoop]]

[[Category:Games]]

#REDIRECT [[Street Hoop]]

{{GameInfo|right
|en_title=Strikers 1945 Plus
|jp_title=Strikers 1945 Plus
|jp_title2=ストライカーズ 1945 PLUS
|developer=Psikyo
|ngh_id=254
|megcount=681
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=s1945p
|mvs_date=1999
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Super Bubble Pop 
|jp_title=Super Bubble Pop
|jp_title2=スーパー バブル ポップ
|developer=Vektorlogic
|editor=Vektorlogic
|ngh_id=FECD
|megcount=unknown
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=n
|mvs_romset=sbp
|mvs_date=2004
|mvs_pchip=
|mvs_pboard=Vektorlogic Program Cart
|mvs_cboard=Vektorlogic Graphics Cart
}}

Program board contains two CPLDs. One is presumably similar to the [[PCM]] chip, while the other appears to be used for protection.

==References==
* [https://github.com/mamedev/mame/blob/master/src/devices/bus/neogeo/sbp.cpp MAME Super Bubble Pop bus device]

[[Category:Games]]

{{GameInfo|right
|en_title=Super Dodge Ball 
|jp_title=Kunio no Nekketsu Toukyuu Densetsu
|jp_title2=くにおの熱血闘球伝説
|developer=Technos Japan
|ngh_id=208
|megcount=190
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=sdodgeb
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256B
}}

[[Category:Games]]

&lt;div align="center">
&lt;gallery widths=400px perrow=2>
File:SMC2_progtop.jpg|Prog board top
File:SMC2_progbot.jpg|Prog board bottom
File:SMC2_chatop.jpg|CHA board top
File:SMC2_chabot.jpg|CHA board bottom
&lt;/gallery>
&lt;/div>

[[File:Neocellks300.jpg|thumb]]

Uses a PAL18CV8 and two LS245 transceivers for the [[68k]] data bus on the prog board. Two corresponding footprints for SIL pull-up resistors on the MVS side are left unpopulated.

Unrouted signals:
* {{Sig|4MB|4MB}} (MVS B34)
* {{Sig|SLOTCS|SLOTCS}} (MVS A42)

Uses a chip marked ''Neo Cell KS300 8436020333002 06-03'' to simulate {{Chipname|PRO-CT0}} logic. An RC circuit (potentiometer) is used to delay the {{Sig|EVEN|EVEN}} signal.

The chip is actually a custom marked Altera MAX EPM240 CPLD. Boundary scan device ID replies BB085040 (EPM240 signature reversed) and the header on the back is for JTAG:

{|class="wikitable"
|TMS
|TDO
|GND
|-
|TDI
|TCK
|'''3.3V'''
|}

[[Category:Cartridge systems]]
[[Category:Chips]]

Uses an Actel ProASIC V3 FPGA on each board. They're AES-decryption capable for SPI flash and fusemap update, and generally highly temper-proof.

Has two SPI ports for FPGA updates and one unrouted mini-USB port labelled "BIOS".

Boards dated May 2011. Seems to suffer of very bad soldering job on connectors.

&lt;div align="center">
&lt;gallery widths=400px perrow=2>
File:SMC2P.jpg
File:SMC2P_ports.jpg
File:SMC2P_progtop.jpg|Prog board top
File:SMC2P_progbot.jpg|Prog board bottom
File:SMC2P_chatop.jpg|CHA board top
File:SMC2P_chabot.jpg|CHA board bottom
&lt;/gallery>
&lt;/div>

[[File:SMC2P_fpga.jpg|thumb|left]]
[[File:SMC2P_solder.jpg|thumb|Yuck !]]

[[Category:Cartridge systems]]
[[Category:Chips]]

{{GameInfo|right
|en_title=Super Sidekicks 
|jp_title=Tokuten Ou
|jp_title2=得点王
|developer=SNK
|ngh_id=052
|megcount=54
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ssideki
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG-G2
|mvs_cboard=CHA_42G-2
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=ssideki
|aes_date=19/02/93
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=31/03/95
}}

==Protection==

Uses {{Chipname|PRO-CT0}} as a protection chip.

If one of the regular protection checks fails, a counter is incremented. If the counter goes over $2000, the player won't be able to move.

If this happens on a real system, the cartridge might be a [[bootleg]] or simply defective.

[[Category:Games]]

{{GameInfo|right
|en_title=Super Sidekicks 2 - The World Championship 
|jp_title=Tokuten Ou 2 - real fight football
|jp_title2=得点王 2
|developer=SNK
|ngh_id=061
|megcount=106
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ssideki2
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=ssideki2
|aes_date=27/05/94
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=31/03/95
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Super Sidekicks 3 - The Next Glory 
|jp_title=Tokuten Ou 3 - eikoue no michi
|jp_title2=得点王 3
|developer=SNK
|ngh_id=081
|megcount=158
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ssideki3
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA42G-3B
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=ssideki3
|aes_date=07/04/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=23/06/95
}}

[[Category:Games]]

'''Supergun''' ("Control Box" in Japan) is a strange name for devices that allows using arcade boards (not only MVS) as consoles. Many different models can be bought as finished products or kits. (Flawed) schematics can also be found.

=Power supply=

Most often, the supergun doesn't supply [[power supply|power]] to the board itself but provides a standard socket to plug an off-the-shelf computer power supply.

=A/V signal adaptation=

Video output (RGBS) from the JAMMA edge is high-level and non-uniform impedance. Very-high impedance, video-bandwidth amplifiers/buffers are necessary to prevent distortion and provide a steady impedance match for 75 ohm TV inputs. Wiring JAMMA video outputs directly to a SCART cable will produce a very dark (attenuated RGB voltage) picture. The picture will also have non-linear distortion because the [[video DAC]] cannot source enough current into the TV's load for most colors.

Audio output is low-impedance and (relatively) high-level for direct connection to 8 ohm speakers. An attenuation circuit ("line-out converter") should be used to drive line-level TV audio inputs. Otherwise the signal's large swing will fall outside the amplifier's linear range and could potentially damage an unprotected input stage.

The Neo Geo, amongst most arcade systems, outputs a malformed sync signal without proper serration or equalization pulses. This will not noticeably affect operation most TVs as the horizontal and vertical oscillator aberrations will typically fall within blanked video. Like video, JAMMA sync outputs are high-level and high-impedance. To drive a TV or broadcast monitor's sync input, the JAMMA signal should be buffered, attenuated and impedance-matched. Because the signal is bi-level, a biased logic gate buffer is sufficient. The attenuation/impedance match circuit should have a bandwidth >500 kHz to preserve sync's edges; a typical single-resistor solution forming a voltage divider with the 75 ohm terminator may not be acceptable.

=Video output conversion=

RGBS can be converted to Y/C or CVBS. Conversion to HDMI is way more complex and is often done by a separate device.

PAL/NTSC CVBS burst generators ? Component output ?

=Joypad signals translation=

A supergun may accept different kinds of joypads (Genesis, SNES, ...) and translate the serial signals to straight parallel signals.

=I/O breakout=

Special I/O for arcade cabs can be broken out to solderable pads, screw terminals... Coin-in inputs are often connected to momentary switches.

=Voltage control=

Voltmeters and ammeters can be hooked up between the PSU and board to measure voltage and current.

[[Category:Cartridge systems]]

#REDIRECT [[The Super Spy]]

#REDIRECT [[SNK vs. Capcom - SVC Chaos]]

{{GameInfo|right
|en_title=Syougi No Tatsujin - Master of Syougi
|jp_title=Syougi No Tatsujin - Master of Syougi
|jp_title2=将棋の達人
|developer=ADK / SNK
|ngh_id=203
|megcount=58
|mvs_release=yes
|mvs_release_en=n
|mvs_release_jp=y
|mvs_romset=mosyougi
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA42G-3B
|aes_release=y
|aes_release_jp=y
|aes_date=13/10/95
|cd_release=y
|cd_release_jp=y
|cd_date=20/10/95
}}

[[Category:Games]]

[[File:biosmenus.png|thumb|(Enlarge) Configuration and book keeping menus in the SP-2 MVS system ROM.]]

The system ROM (often called BIOS) is a ROM containing code for the [[boot process|68k startup program]], some [[system ROM tables|lookup tables]], and various generic functions which can or must be used by games. They are present in all NeoGeo hardware types in various versions. The [[CD systems|NeoGeo CD]] system ROMs also contains graphics, sound, and {{Chipname|Z80}} code.

Original system ROMs have their nationality set by the byte at address '''$000401''' (0=Japan, 1=US, 2=Euro), and their type set by the byte at '''$000400''' (0=AES, $80=MVS).

Through-hole ROMs can be replaced by 27C1024 or TC571024D EPROMs.

=Hashes=

Copied from [[https://github.com/mamedev/mame/blob/master/src/mame/drivers/neogeo.cpp#L1830 MAME's source]].

{| class="regdef"
|'''Ref.'''
|'''Version'''
|'''CRC32'''
|'''SHA-1'''
|-
|SP-S
|Europe MVS (V1)
|C7F2FA45
|09576FF20B4D6B365E78E6A5698EA450262697CD
|-
|SP-S2
|Europe MVS (V2)
|9036D879
|4F5ED7105B7128794654CE82B51723E16E389543
|-
|SP-E
|US MVS (V1)
|2723A5B5
|5DBFF7531CF04886CDE3EF022FB5CA687573DCB8
|-
|SP-U2
|US MVS (V2?)
|E72943DE
|5C6BBA07D2EC8AC95776AA3511109F5E1E2E92EB
|-
|V2
|US MVS (4-slot V2)
|62F021F4
|62D372269E1B3161C64AE21123655A0A22FFD1BB
|-
|ASIA-S3
|Asia MVS (V3)
|91B64BE3
|720A3E20D26818632AEDF2C2FD16C54F213543E1
|-
|VS-BIOS
|Japan MVS (V3)
|F0E8F27D
|ECF01EDA815909F1FACEC62ABF3594EAA8D11075
|-
|SP-J2
|Japan MVS (V2)
|ACEDE59C
|B6F97ACD282FD7E94D9426078A90F059B5E9DD91
|-
|SP1
|Japan MVS (V1)
|9FB0ABE4
|18A987CE2229DF79A8CF6A84F968F0E42CE4E59D
|-
|SP-45
|Asia MVS (V4.5)
|03CC9F6A
|CDF1F49E3FF2BAC528C21ED28449CF35B7957DC1
|-
|JAPAN-J3
|Japan MVS (V3)
|DFF6D41F
|E92910E20092577A4523A6B39D578A71D4DE7085
|-
|SP-1V1
|Hotel unit (V1.3)
|162F0EBE
|FE1C6DD3DFCF97D960065B1BB46C1E11CB7BF271
|-
|NEO-EPO
|Export AES
|D27A71F1
|1B3B22092F30C4D1B2C15F04D1670EB1E9FBEA07
|-
|NEO-PO
|Japan AES
|16D0C132
|4E4A440CAE46F3889D20234AEBD7F8D5F522E22C
|-
|DEBUG
|Dev. Sys.
|698EBB7D
|081C49AA8CC7DAD5939833DC1B18338321EA0A07
|}

=Use=

The system ROM is always mapped at [[68k memory map|$C00000]].

See:
* [[:Category:BIOS_calls|System ROM calls]]
* [[Hardware test]]
* [[System ROM tables]]

=Home system=

Size: 128KiB. Named NEO-P0 (Japan) or NEO-EP0 (Export).

=MVS=

Size: 128KiB. Often named "SP" for System Program. Many different versions.

&lt;gallery>
File:mvs_sp-s2.jpg|thumb|SP-S2 in PROM/MaskROM
File:mvs_sp1v2.jpg|thumb|SP1 in EPROM
File:brd_spj.jpg|thumb|SPJ Japanese system ROM on a [[ROM-Only boards|ROM-only arcade board]].
&lt;/gallery>

=CD/CDZ=

[[File:cdzbiosgfx.png|thumb|Graphic visualisation of the CDZ system ROM, highlighting the different data blocks.]]

On CD systems, the system ROM contains {{Chipname|Z80}} and {{Chipname|68k}} programs, [[ADPCM]] sound, and graphics which are loaded to the corresponding [[DRAM|DRAMs]] at startup. There are '''no''' [[SFIX ROM|SFIX]] or {{Chipname|SM1}} ROMs in CD systems (but still a {{Chipname|LO}} ROM).

Size: 512KiB.

* FRONT-SP1 (Front loaders)
* TOP-SP1 (Early top loaders using {{Chipname|LC8953}})
* TOP-SP1-2 (Late top loaders using {{Chipname|LC98000}})
* TOP-SPD ([[CDZ]])

&lt;gallery>
File:cd2_bios.jpg|thumb|TOP-SP1 system ROM on a {{PCB|NEO-CDM3-2 board}}.
File:top-sp1-2.jpg|thumb|TOP-SP1-2 on a {{PCB|NEO-CDM4-2 board}}. Pic by TortueGe.
File:top-sp1-3.jpg|thumb|TOP-SP1-3. Pic by l_oliveira.
&lt;/gallery>

==Hidden credits==
The CD1 and CD2 system ROMs contain credits organized to be displayed on the fix layer (how can this be seen ?):

[[File:ngcd_credits.png]]

* [[Noriyuki Higashi]] is "Mr.Noric".
* [[Toshiya Yahara]] is cited as the inventor of the NeoGeo Pocket power supply in an [[SNK Patents|SNK patent]].
* Jo(h)n Guso is credited as a programmer in several games.

==Sound drivers==

The [[CD hardware versions|CD1 and CD2]] system ROMs (FRONT-SP1 and TOP-SP1/SP2) include the [[Sound drivers list|"Ver 3.0 by Mr.Noric.1993/11/10 14:00"]] Z80 [[sound driver]].

The [[CDZ]] version includes the "Ver 3.0 by MAKOTO.04/03/10 to SK" driver.

&lt;br clear=all>

=UniBIOS=

Hacked MVS system ROM with various added functionalities such as cheats, [[debug DIPs]] settings, region and system switch, CRC checking, a jukebox, [[68k exception handling|error handling]]. See [[Universe BIOS]].

=Neopen BIOS=

Opensource AES/MVS system ROM in development. See [[Neopen BIOS]].

[[Category:Base system]]

[[File:Mv4_map_chips.jpg|thumb|The 3 74LS05 chips commonly incriminated.]]

Early boards like the {{PCB|MV4}} and {{PCB|MV6}} use discrete logic chips instead of {{Chipname|NEO-E0}} to map in the [[system ROM]] (BIOS) when needed.

As these chips are located close to the [[battery replacement|battery]], some systems with leaking batteries may become stuck in [[Click_of_death|watchdog reset]].

Depending on the board model, chip locations may be different and pins may be swapped but the overall circuit shown below is the same.

Troubleshooting steps:
* [[68k]] address lines A7 to A21 must go to individual inverters in [[74LS05]] chips.
* All the inverters outputs except one must be connected together to a 1k resistor and two XOR gates inputs (74LS86).
* Those two XOR gates output A22I and A23I, which must go to {{Chipname|PRO-C0}} pins 83 and 84 respectively.
* One inverter out of all 18 should be unused.
* One inverter must be fed by the VEC signal (74HC259 pin 5).
* One inverter must be fed from the output of a XOR gate (74LS86) having A22 and A23 as inputs.


[[File:Mv4_map_circuit.png]]

[[Category:Repairs]]

All (?) [[system ROM]]s provide lookup tables for games to use. Red lines represent zero.

=METRIC_DATA ($C02000)=

Actually two 64, 64-entry byte tables at $C02000 and $C03000 which might be used for animation easing/smoothing.

==$C02000==

Goes from 64~0 to 64~32.

[[File:Lut_metric2.png]]

==$C03000==

Goes from 0~63 to 63~89.

[[File:Lut_metric3.png]]

=SIN_DATA ($C04000)=

Two identical glitchy half-sine tables of 128 signed 16-bit words. The value overflows for one entry (at the top of the curve). There's also a glitch with two very close values in the 3rd quarter of each table.

[[File:Lut_sine.png]]

=RND_DATA ($C04200)=

256 "random" bytes. Do all values appear once ?

[[Category:Base system]]

Todo: Order of checks.

=Cartridge systems=

Some information by Channelmaniac.

The AES home console only performs checks when no game is detected.

{|class="regdef"
|'''Error'''
|No game
|[[WORK RAM ERROR]]
|[[COLOR RAM ERROR]]
|[[VIDEO RAM ERROR]]
|[[SYSTEM ROM ERROR]]
|[[MEMORY CARD ERROR]]
|-
|'''AES'''
|[[File:aes_sc_blue.png]]
|[[File:aes_sc_red.png]]
|[[File:aes_sc_green.png]]
|[[File:aes_sc_yellow.png]]
|[[File:aes_sc_pink.png]]
|[[File:aes_sc_cyan.png]]
|-
|'''MVS'''
|[[File:crosshatch.png|160px]] [[Crosshatch]]
|[[File:error_wram.png|160px]]
|[[File:error_color0.png|160px]]
|[[File:error_vram.png|160px]]
|[[File:error_sysrom.png|160px]]
|Screenshot needed
|-
|'''Meaning'''
|All tests passed (AES does not test the {{Chipname|Z80}}). Cartridge not detected.
|[[68k user RAM]] R/W error
|[[Palette RAM]] R/W error
|[[VRAM]] R/W error
|[[system ROM error|System ROM checksum mismatch]]
|[[Memory card]] R/W error (only tested if card present and blank)
|}

==MVS checks==

Additionnal checks are performed on MVS systems. The SP-S2 [[system ROM]] does them in the following order:

# Work RAM
# Backup RAM
# Palette RAM bank 0
# Palette RAM bank 1
# Low VRAM
# High VRAM
# RTC
# System ROM checksum
# Z80

{|class="regdef"
|'''Error'''
|[[BACKUP RAM ERROR]]
|[[Calendar freeze]]
|[[CALENDAR ERROR]]
|[[Z80 ERROR]]
|-
|'''Display'''
|[[File:error_bram.png|160px]]
|[[File:calendar_freeze.png|160px]]
|[[File:error_calendar.png|160px]]
|[[File:error_z80.png|160px]]
|-
|'''Meaning'''
|[[Backup RAM]] R/W error
|[[RTC]] isn't giving Time Pulse
|[[RTC]] ran to slow or too fast
|[[Z80]] didn't reply to command
|}

When a MVS board is powered up without cartridges inserted, the border color around the edges of the crosshatch screen indicates the system ROM region:

* Red: Japanese, SPJ2
* Cyan: USA, SPU2
* Blue: Korean/Spanish, SPS2
* Yellow: European
* Green: 6 slot (ROM name ?)

=UniBios tests=

The [[Universe BIOS]] does not use the above color codes to indicate errors.

[[Category:Base system]]
[[Category:Repairs]]

Three text files (excluding the [[IPL file]]) are necessary for a game CD to be recognized.

They must contain '''exactly''' the following text (without quotes):

* CPY.TXT: "Copyright by SNK corporation"
* BIB.TXT: "Bibliographiced by SNK corporation"
* ABS.TXT: "Abstracted by SNK corporation"

No null character or carriage return required.

[[Category:CD systems]]

{{GameInfo|right
|en_title=
|jp_title=Taisen Idol Mahjong Final Romance 2
|jp_title2=
|developer=Video Systems
|editor=Video Systems
|ngh_id=098
|cd_release=y
|cd_release_jp=y
|cd_date=25/08/95
}}

[[Category:Games]]

== Takashi Yamatani ==

SNK staff inventor 
US5940068A patent on Display controlling apparatus and control method thereof"

[[https://patents.google.com/?inventor=Takashi+Yamatani&amp;assignee=SNK #US5940068A]]

[[Category:People]]

These are the only clones I've seen, but if any more exist I doubt they will entirely use 74 series for the ZMC2/CT0 logic, at ~16 chips (some uncommon) it would be too expensive and difficult to initially design.

It looks like the "Goldstar" version has the logic in the 4x 22V10, 1x 16V8, 4x '153 and maybe the neighboring '32. It's not very efficient because they aren't using the 22V10 to its potential, they could have eliminated the '153 and also eliminated the 16V8 with minimal 74 series.

The "Gobit" must have it in the "ECW" chip which appears to be a mask clone of the CT0.
--[[User:Kyuusaku|Kyuusaku]] 19:10, 26 June 2012 (CEST)

Curious to see your ZMC2 logic, even though I know releasing it can be an issue as it would be the key to make AES boards. My (tested) schematic has: 2 inverters, one AND, 4*8 bit latches, 3 XORs, a 74163 counter clocked by 12M, 4 74153 4-to-1 data selectors, 2 74157 2-to-1 selectors to handle EVEN and 2 4-input OR gates for DOTA/DOTB. I know there's something made a bit too complicated with the polarity of the clocking edge but... I works about right.
Tried it on a EPM420 CPLD, works on the LSPC/B1 AES but glitches on PRO-C0/B0 AESes.

Wonder where's the YM2610 on that "Gobit" board then, was there a SOIC/TQFP version of it made maybe slapped on the back side ? --[[User:Furrtek|Furrtek]] 01:14, 28 June 2012 (CEST)

Yeah you're right, I'm not sure about the YM2610, it could be in the PLCC package and the CT0 could be integrated into the C0, though it would be difficult to find so many free inputs for a CT0. I also don't see the DAC chip. It seems unlikely they'd be able to integrate the YM2610 as easily however.

I'll share the logic soon, I haven't done anything with it in 2 years so it's time.--[[User:Kyuusaku|Kyuusaku]] 02:59, 28 June 2012 (CEST)

Yes, I believe left &amp; right nibbles ARE swapped!

==What to Include?==
Seeing as the various editors of the wiki might have differing opinions on what should be included, perhaps we should discuss this. --[[User:Freem|freem]] ([[User_talk:Freem|talk]]) 02:11, 22 March 2015 (UTC)

===Discussion Section===
(Putting this up top as a general commentary section. Don't forget to sign your comments with &lt;code>&lt;nowiki>--~~~~&lt;/nowiki>&lt;/code>.)
:Multiple colons can be used at the beginning of a comment to give depth to a conversation thread.

===BIOS Calls===
* Calls present on all systems
* MVS-only calls (e.g. Calendar-related)
* CD-only calls

===ROM Header===
(Pretty well covered at [[68k program header]], IMO. --[[User:Freem|freem]] ([[User_talk:Freem|talk]]) 02:11, 22 March 2015 (UTC))

===68K Vector Table and Exception Stack Frames===

===Interrupts===
* Mention how IRQ1 and IRQ2 are swapped on CD systems

===Memory Mapped Registers===

===GPU Reference and Timings===

The SNK-9201 could have been misprinted, but I'm thinking the SNK-9201 *IS* a PRO-CT0 character multiplexer. The GAL acronym typically stands for "generic array logic", the SPLD. This would be either a "gate array", "uncommitted logic array" or "semi-custom ASIC --[[User:Kyuusaku|Kyuusaku]] 20:54, 15 March 2012 (CET)

Why is it printed "SNK-9201" on the PROG boards of fatfury2 and ssideki, then ? Would the chip have a mode select pin ? --[[User:Furrtek|Furrtek]] 17:50, 16 March 2012 (CET)

Wait, seeing your pinout of PRO-CT0... Would they have dared using the logic of a video-dedicated chip to make a challenge-response kind of thing ? Checking if it would match what fatfury2 sends/expects right now, if my schematic of PRO-CT0 is right. --[[User:Furrtek|Furrtek]] 17:54, 16 March 2012 (CET)

For both AES PROG and CHA A24 is left audio in, A23 is left audio out, B24 is right in, B23 is right out

Thanks for the info. Can you tell me on which board you got this from ?
On a NEO-AES3-4 all those pins are NC (100% sure).
--[[User:Furrtek|Furrtek]] 07:10, 9 March 2012 (CET)

NEO-AES, it's the only revision with the audio loops
--[[User:Kyuusaku|Kyuusaku]] 07:25, 9 March 2012 (CET)

SNK-9201 don't have 3-state outputs because they weren't configured that way for the CT0 logic, the actual gate arrays are certainly capable of it. ZMC2 seems to have brought the buffer inside (see "CS" and "CSDOT") but no games use the ZMC2 for protection. --[[User:Kyuusaku|Kyuusaku]] 22:10, 15 March 2012 (CET)

{{GameInfo|right
|en_title=Tecmo World Soccer '96
|jp_title=Tecmo World Soccer '96
|jp_title2=テクモワールドサッカー '96
|developer=Tecmo
|editor=Tecmo
|ngh_id=086
|megcount=122
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=tws96
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256B
}}

[[Category:Games]]

&lt;table class="bitdef">
&lt;tr>
&lt;td style="background:#DDD; padding-right:6px;">&lt;b>Bit&lt;/b>&lt;/td>
&lt;td style="background:#EEE;">15&lt;/td>
&lt;td style="background:#EEE;">14&lt;/td>
&lt;td style="background:#EEE;">13&lt;/td>
&lt;td style="background:#EEE;">12&lt;/td>
&lt;td style="background:#EEE;">11&lt;/td>
&lt;td style="background:#EEE;">10&lt;/td>
&lt;td style="background:#EEE;">9&lt;/td>
&lt;td style="background:#EEE;">8&lt;/td>
&lt;td style="background:#DDD;">7&lt;/td>
&lt;td style="background:#DDD;">6&lt;/td>
&lt;td style="background:#DDD;">5&lt;/td>
&lt;td style="background:#DDD;">4&lt;/td>
&lt;td style="background:#DDD;">3&lt;/td>
&lt;td style="background:#DDD;">2&lt;/td>
&lt;td style="background:#DDD;">1&lt;/td>
&lt;td style="background:#DDD;">0&lt;/td>
&lt;/tr>&lt;tr>
&lt;td style="padding-right:6px;">&lt;b>Def&lt;/b>&lt;/td>
&lt;td colspan={{{2}}}>{{{1}}}&lt;/td>
{{#if:{{{3|}}}|&lt;td colspan={{{4}}}>{{{3}}}&lt;/td>}}{{#if:{{{5|}}}|&lt;td colspan={{{6}}}>{{{5}}}&lt;/td>}}{{#if:{{{7|}}}|&lt;td colspan={{{8}}}>{{{7}}}&lt;/td>}}{{#if:{{{9|}}}|&lt;td colspan={{{10}}}>{{{9}}}&lt;/td>}}{{#if:{{{11|}}}|&lt;td colspan={{{12}}}>{{{11}}}&lt;/td>}}{{#if:{{{13|}}}|&lt;td colspan={{{14}}}>{{{13}}}&lt;/td>}}{{#if:{{{15|}}}|&lt;td colspan={{{16}}}>{{{15}}}&lt;/td>}}{{#if:{{{17|}}}|&lt;td colspan={{{18}}}>{{{17}}}&lt;/td>}}{{#if:{{{19|}}}|&lt;td colspan={{{20}}}>{{{19}}}&lt;/td>}}{{#if:{{{21|}}}|&lt;td colspan={{{22}}}>{{{21}}}&lt;/td>}}{{#if:{{{23|}}}|&lt;td colspan={{{24}}}>{{{23}}}&lt;/td>}}{{#if:{{{25|}}}|&lt;td colspan={{{26}}}>{{{25}}}&lt;/td>}}{{#if:{{{27|}}}|&lt;td colspan={{{28}}}>{{{27}}}&lt;/td>}}{{#if:{{{29|}}}|&lt;td colspan={{{30}}}>{{{29}}}&lt;/td>}}{{#if:{{{31|}}}|&lt;td colspan={{32}}}>{{{31}}}&lt;/td>|}}
&lt;/tr>&lt;/table>

&lt;table class="bitdef">
&lt;tr>
&lt;td style="background:#DDD; padding-right:6px;">&lt;b>Bit&lt;/b>&lt;/td>
&lt;td style="background:#DDD;">7&lt;/td>
&lt;td style="background:#DDD;">6&lt;/td>
&lt;td style="background:#DDD;">5&lt;/td>
&lt;td style="background:#DDD;">4&lt;/td>
&lt;td style="background:#DDD;">3&lt;/td>
&lt;td style="background:#DDD;">2&lt;/td>
&lt;td style="background:#DDD;">1&lt;/td>
&lt;td style="background:#DDD;">0&lt;/td>
&lt;/tr>&lt;tr>
&lt;td style="padding-right:6px;">&lt;b>Def&lt;/b>&lt;/td>
&lt;td colspan={{{2}}}>{{{1}}}&lt;/td>
{{#if:{{{3|}}}|&lt;td colspan={{{4}}}>{{{3}}}&lt;/td>}}{{#if:{{{5|}}}|&lt;td colspan={{{6}}}>{{{5}}}&lt;/td>}}{{#if:{{{7|}}}|&lt;td colspan={{{8}}}>{{{7}}}&lt;/td>}}{{#if:{{{9|}}}|&lt;td colspan={{{10}}}>{{{9}}}&lt;/td>}}{{#if:{{{11|}}}|&lt;td colspan={{{12}}}>{{{11}}}&lt;/td>}}{{#if:{{{13|}}}|&lt;td colspan={{{14}}}>{{{13}}}&lt;/td>}}{{#if:{{{15|}}}|&lt;td colspan={{{16}}}>{{{15}}}&lt;/td>}}
&lt;/tr>&lt;/table>

&lt;span style="background: #ADD; padding:2px; font-size:8pt;">
'''[[BIOS_RAM_locations#{{{1}}}|{{{1}}}]] '''
({{ #ifeq: {{{1|}}} | BIOS_GAME_DIP | $10FD84+}}{{ #ifeq: {{{1|}}} | BIOS_USER_REQUEST | $10FDAE}}{{ #ifeq: {{{1|}}} | BIOS_USER_MODE | $10FDAF}}{{ #ifeq: {{{1|}}} | BIOS_UPSRC | $10FEF8}}{{ #ifeq: {{{1|}}} | BIOS_UPDEST | $10FEF4}}{{ #ifeq: {{{1|}}} | BIOS_UPSIZE | $10FEFC}}{{ #ifeq: {{{1|}}} | BIOS_UPZONE | $10FEDA}}{{ #ifeq: {{{1|}}} | BIOS_UPBANK | $10FEDB}}{{ #ifeq: {{{1|}}} | BIOS_DEVMODE | $10FE80}}{{ #ifeq: {{{1|}}} | BIOS_COMPULSION_TIMER | $10FDDA}}
{{ #ifeq: {{{1|}}} | BIOS_GAME_DIP | $10FD84}}{{ #ifeq: {{{1|}}} | BIOS_CREDIT_DEC1 | $10FDB0}}{{ #ifeq: {{{1|}}} | BIOS_CREDIT_DEC2 | $10FDB1}}{{ #ifeq: {{{1|}}} | BIOS_START_FLAG | $10FDB4}}{{ #ifeq: {{{1|}}} | BIOS_PLAYER_MOD | $10FDB6}}{{ #ifeq: {{{1|}}} | BIOS_P1STATUS | $10FD94}}{{ #ifeq: {{{1|}}} | BIOS_MONTH | $10FDD3}}{{ #ifeq: {{{1|}}} | BIOS_MVS_FLAG | $10FD82}}) &lt;/span>

[[File:cc-by.png]]

This work is licensed under a [http://creativecommons.org/licenses/by/3.0/ Creative Commons Attribution 3.0 Unported License].

[[File:cc-by-nc.png]]

This work is licensed under a [http://creativecommons.org/licenses/by-nc/3.0/ Creative Commons Attribution-NonCommercial 3.0 Unported License].

[[File:cc-by-nc-nd.png]]

This work is licensed under a [http://creativecommons.org/licenses/by-nc-nd/3.0/ Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License].

[[File:cc-by-nc-sa.png]]

This work is licensed under a [http://creativecommons.org/licenses/by-nc-sa/3.0/ Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License].

[[File:cc-by-nd.png]]

This work is licensed under a [http://creativecommons.org/licenses/by-nd/3.0/ Creative Commons Attribution-NoDerivs 3.0 Unported License].

[[File:cc-by-sa.png]]

This work is licensed under a [http://creativecommons.org/licenses/by-sa/3.0/ Creative Commons Attribution-ShareAlike 3.0 Unported License].

[[File:cc-zero.png]]

This work is licensed under a [http://creativecommons.org/publicdomain/zero/1.0/ CC0 1.0 Universal licence]

&lt;span style="background: #DDD; padding:2px; font-size:8pt;">'''[[{{{1}}}]]'''&lt;/span>

&lt;span style="background: #9FA; padding:1px;">'''[[{{{1}}}]]'''&lt;/span>

&lt;span style="background:#ADD; padding:2px; font-size:8pt;">[[Memory_mapped_registers#{{{1}}}|'''{{{1}}}''']]&lt;/span>

&lt;span style="background: #FFB; padding:2px; font-size:8pt;">[[Signal names#{{{2}}}|'''{{{1}}}''']]&lt;/span>

#REDIRECT [[Far East of Eden - Kabuki Klash]]

[[Category:Games]]

The test button is a push-button located inside MVS cabs used to bring up the [[system ROM]] menu at startup, and increasing the credits without using the [[coin switch|coin mechanisms]].

Using this button also prevents incrementing the [[coin counter]].

The input is read through {{Reg|REG_SYSTYPE}}.

[[Category:Cartridge systems]]

{{GameInfo|right
|en_title=The Irritating Maze 
|jp_title=Ultra Denryu Iraira Bou
|jp_title2=ウルトラ電流イライラ棒
|developer=SNK / Saurus
|ngh_id=
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=irrmaze
|mvs_date=1997
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA512Y
}}

Uses a [[trackball]], a special [[System ROM]] and the [[SIT board]] in between the MVS slot and jamma connector.

Air jets and lots of (strobe) lights.

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters '94
|jp_title=The King of Fighters '94
|jp_title2=ザ・キング・オブ・ファイターズ '94
|developer=SNK
|ngh_id=055
|megcount=196
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kof94
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=kof94
|aes_date=01/10/94
|aes_pboard=PROGRK
|aes_cboard=CHA256
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=02/11/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters '95
|jp_title=The King of Fighters '95
|jp_title2=ザ・キング・オブ・ファイターズ '95
|developer=SNK
|ngh_id=084
|megcount=250
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kof95
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_release=kof95h
|aes_date=01/09/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=29/09/95
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters '96
|jp_title=The King of Fighters '96
|jp_title2=ザ・キング・オブ・ファイターズ '96
|developer=SNK
|ngh_id=214
|megcount=362
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kof96
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=27/09/96
|aes_pboard=PROGBK1Y
|aes_cboard=CHA256RY
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=25/10/96
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters '96 Collection
|jp_title=The King of Fighters '96 Collection
|jp_title2=
|developer=SNK
|editor=SNK
|ngh_id=229
|megcount=
|cd_release=y
|cd_release_jp=y
|cd_date=14/02/96
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters '97
|jp_title=The King of Fighters '97
|jp_title2=ザ・キング・オブ・ファイターズ '97
|developer=SNK
|ngh_id=232
|megcount=460
|tcrf=https://tcrf.net/The_King_of_Fighters_%2797_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kof97
|mvs_date=1997
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA512Y
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=25/09/97
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=30/10/97
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters '98 - The Slugfest 
|jp_title=King of Fighters '98 - dream match never ends
|jp_title2=ザ・キング・オブ・ファイターズ '98
|developer=SNK
|ngh_id=242
|megcount=683
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kof98
|mvs_date=1998
|mvs_pchip=
|mvs_pboard=PROGSF1
|mvs_cboard=CHA512Y
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=23/09/98
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=23/12/98
}}

=Security=

Does a [[slot check]] at least at startup.

Some cartridges use the {{PCB|PROGSF1}} board, which uses a CPLD to unscramble and overlay the [[P ROM|P1 ROM]].

=Intro music=

&lt;pre>
Play that shit like you just got your motherfuckin'... *

It all began in '94
Kept on rolling in '95
The pieces were in place in '96
It came to an end in '97
Now it comes, and here we go
K-O-F is here again
Nothing's gonna stop 'cause it's nineteen ninety-eight !
&lt;/pre>

&lt;nowiki>*&lt;/nowiki> : The first line was censored in the non-encrypted version (kof98h). The [[V ROM]]s are identical so they still contain the sample, only the [[M1 ROM]] was modified so that the sample is no longer triggered during playback.

* Original M1 (242-m1.m1) hash: CRC 4ef7016b / SHA1 4182235e963bd70d398a79abeb54ab4d62887c48
* Censored M1 (242-mg1.m1) hash: CRC 4e7a6b1b / SHA1 b54d08f88713ed0271aa06f9f7c9c572ef555b1a

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters '99 - Millennium Battle
|jp_title=The King of Fighters '99 - Millennium Battle
|jp_title2=ザ・キング・オブ・ファイターズ '99
|developer=SNK
|ngh_id=251
|megcount=673
|tcrf=https://tcrf.net/The_King_of_Fighters_%2799_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kof99
|mvs_date=1999
|mvs_pchip=NEO-SMA
|mvs_pboard=PROGLBA
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=23/09/99
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=02/12/99
}}

*Set 1 ([[NEO-SMA]] protection): All ROMs are marked 251
*Set 2 (no protection): P ROMs marked 152

http://mvs.gotwalls.com/index.php/King_of_Fighters_%2799

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters 2000
|jp_title=The King of Fighters 2000
|jp_title2=ザ・キング・オブ・ファイターズ 2000
|developer=SNK
|ngh_id=257
|megcount=688
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kof2000
|mvs_date=2000
|mvs_pchip=NEO-SMA
|mvs_pboard=PROGLBA
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_date=21/12/2000
}}

*Set 2 ([[NEO-SMA]] protection): All ROMs are marked 257
*Set 3 (no protection): All ROMs marked 257

http://mvs.gotwalls.com/index.php/King_of_Fighters_%2799

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters 2001
|jp_title=The King of Fighters 2001
|jp_title2=ザ・キング・オブ・ファイターズ 2001
|developer=Eolith / SNK
|ngh_id=262
|megcount=681
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kof2001
|mvs_date=2001
|mvs_pchip=
|mvs_pboard=PROGBK2
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=14/03/2002
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters 2002
|jp_title=The King of Fighters 2002
|jp_title2=ザ・キング・オブ・ファイターズ 2002
|developer=Eolith
|editor=Playmore
|ngh_id=265
|megcount=681
|tcrf=https://tcrf.net/The_King_of_Fighters_2002_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=kof2002
|mvs_date=2002
|mvs_pchip=
|mvs_pboard=PROGBK2
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=18/12/2002
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The King of Fighters 2003
|jp_title=The King of Fighters 2003
|jp_title2=ザ・キング・オブ・ファイターズ 2003
|developer=SNK Playmore
|editor=SNK Playmore
|ngh_id=271
|megcount=716
|tcrf=https://tcrf.net/The_King_of_Fighters_2003_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=n
|mvs_romset=kof2003
|mvs_date=2003
|mvs_pchip=
|mvs_pboard=PROGBK3S
|mvs_cboard=CHAFIO
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=18/04/2004
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The Last Blade 
|jp_title=Bakumatsu Roman - Gekka no Kenshi
|jp_title2=幕末浪漫 月華の剣士
|developer=SNK
|ngh_id=234
|megcount=474
|tcrf=https://tcrf.net/The_Last_Blade_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=lastblad
|mvs_date=1997
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA512Y
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=29/01/98
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=26/03/98
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The Last Blade 2 
|jp_title=Bakumatsu Roman - Dai Ni Maku Gekka no Kenshi
|jp_title2=幕末浪漫第二幕 月華の剣士
|developer=SNK
|ngh_id=243
|megcount=554
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=lastbld2
|mvs_date=1998
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA512Y
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=28/01/99
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=27/02/99
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The Super Spy
|jp_title=The Super Spy
|jp_title2=ザ・スーパースパイ
|developer=SNK
|ngh_id=011
|megcount=55
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=superspy
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-8MB
|mvs_cboard=CHA-8M
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=superspy
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=The Ultimate 11 - The SNK Football Championship 
|jp_title=Tokuten Ou - Honoo no Libero
|jp_title2=得点王 炎のリベロ
|developer=SNK
|ngh_id=215
|megcount=226
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=ssideki4
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_date=20/12/96
}}

[[Category:Games]]

&lt;center>
[[File:cd2_eyespal.jpg]]
&lt;/center>

Eyes are silkscreened on the NeoGeo CD front, top and Z model boards to indicate jumpers locations.

[[Category:CD systems]]

=Main rule=

Knowledge isn't an excuse for being a dick. Keep your ego at the door, please :)

=Content directives=

* No AI generated content. Not knowing is fine, pretending to know isn't. If you "don't care", we won't either.
* No stolen content without the original author's approval, except if they explicitly stated as OK to do so.
* No blatant advertising for commercial products.
* No personal infos, except names of key people who already are publicly known.
* No non-technical infos about games (price, story, characters, gameplay, ...). Other websites exist for that.
* By posting information here, you know that it's going in the wild. If you want credit, you can sign (important) information, but don't expect people to care about it.

==Editing guidelines==

*To avoid creating duplicate pages, page names shouldn't contain upper case letters, except for the first one and for acronyms. Intra-wiki links are case sensitive.
*Try to keep page names singular.
*To avoid broken links to external files, please make a local copy by uploading them here (be sure you have the right to).
*If a picture has to be updated with major corrections (like a chip pinout for example), try to delete the wrong version to prevent search engines linking to wrong information.
*Don't hesitate to sign the information you add if you think you discovered something or to specify the source if not.
*It's perfectly okay to make 2-characters edit to correct English mistakes for example, as long as those edits are marked as "minor".
*Links to other pages should ideally be made only once in a page (where it's the most visible or relevant).
*Category tags should be placed at the bottom of the pages sources.

=How to edit=

See https://www.mediawiki.org/wiki/Help:Reference_card

For those who are unfamiliar with wiki editing and don't want to go through lengthy tutorials, here's a short summary of the basics:

*Pages can be created, edited or deleted by any registered user. All operations are logged and can be reverted ("view history" tab).
*Each edit is signed by your username and a timestamp.
*Links to existing pages are in blue, links to needed pages are in red.
*When editing, clicking on the "Show preview" button won't log anything, "Save page" will.
*Marking an edit as "minor" allows to find important changes in logs and correct typos without having the update appear on the front page.
*As stated in all edit pages: the content you submit will be placed under the [http://www.gnu.org/licenses/fdl-1.3.en.html GNU FDL]. This is not the best place to keep things secret.

Mediawiki uses a special markup language for formatting:
*Links to other pages look like this: &lt;nowiki>[[Page name]]&lt;/nowiki>
*They can be renamed like this: &lt;nowiki>[[Page name|Link text]]&lt;/nowiki>
*Links to categories look like this: &lt;nowiki>[[:Category:Category name]]&lt;/nowiki> and can also be renamed with a |.
*Links to other sites look like this: &lt;nowiki>[[http://www.com This is an external link]]&lt;/nowiki>
*Pictures can be inserted like this: &lt;nowiki>[[File:image.jpg|thumb|This is a thumbnail and will be placed on the right]]&lt;/nowiki>
*Or simply like this, to display them in full size: &lt;nowiki>[[File:image.jpg]]&lt;/nowiki>
*'''Bold''' looks like &lt;nowiki>'''this'''&lt;/nowiki>, ''Italic'' looks like &lt;nowiki>''this''&lt;/nowiki> (those are apostrophes)
*Headlines are made by using = characters: =Title= is the biggest, ====Title==== is the smallest
*Table of contents are automatically generated for pages containing multiple headlines
*Categorizing a page is done by adding tags like this: &lt;nowiki>[[Category:Category_name]]&lt;/nowiki>, a page can belong in multiple categories.
*Tables are made using characters: {| starts a table, | starts a new cell, |- starts a new line, |} ends a table. Each of those characters need to be at the start of a new line.
*CSS and HTML markup can also be used most of the time.


*To create a page, just type its URL or make a link to it and click "create". There can't be 404 errors here, any link to pages or files which don't exist give a "create" page.
*Member pages can be created and edited only by the associated member. These can hold informations about yourself, your current projects...

=Templates=

==CSS==

Common.css can be found here: [https://wiki.neogeodev.org/index.php?title=MediaWiki:Common.css].

==Binary register definitions==

[[Template:16BitRegister]] and [[Template:8BitRegister]] can be used to display such tables:
{{16BitRegister|High byte|8|Lower byte|8}}

The code for this one is: &lt;pre>&lt;nowiki>{{16BitRegister|High byte|8|Lower byte|8}}&lt;/nowiki>&lt;/pre>

Arguments go by pairs: starting from 0, even ones are the text definition, odd ones are the size of it (in bits). The total size must be equal to the register's length or else the table will be broken and browsers might be unhappy.

==Link templates==

===Register===
[[Template:Reg]]. Parameters: register name (not the address).

===Signal===
[[Template:Sig]]. Parameters: signal name, anchor name in [[signal names]] page, signal polarity ("N", "P", or nothing).

===RAM location===
[[Template:BR]]. Parameters: location name (not the address).

===Chip===
[[Template:Chipname]]. Parameters: chip name/reference.

===PCB===
[[Template:PCB]]. Parameters: board reference.

=Chip pinout templates=

The OpenOffice Draw format was previously used but a move to plain SVG is being made. See the [[https://github.com/neogeodev/SVGPinout SVGPinout NeoGeoDev repo]] to learn how to edit and generate pinouts easily.

Color proposals for buses and pin types (feel free to discuss):
*&lt;span style="background-color:green;color:white;">Green: cartridge slot connections or graphics data&lt;/span>
*&lt;span style="background-color:yellow;">Yellow: address buses&lt;/span>
*&lt;span style="background-color:blue;color:white;">Blue: data buses&lt;/span>
*&lt;span style="background-color:lightgrey;">Grey: ground&lt;/span>
*&lt;span style="background-color:red;color:white;">Red: power&lt;/span>
*&lt;span style="background-color:purple;color:white;">Purple: control lines&lt;/span>
*&lt;span style="background-color:magenta;color:white;">Magenta: clocks&lt;/span>
*&lt;span style="background-color:white;color:black;">White: NC (dotted), unknown, others...&lt;/span>

{{GameInfo|right
|en_title=Thrash Rally
|jp_title=Thrash Rally
|jp_title2=スラッシュラリー
|developer=Alpha Denshi Co.
|ngh_id=038
|megcount=46
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=trally
|mvs_date=1991
|mvs_pchip=
|mvs_pboard=PROG42G-COM
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=trally
|aes_date=20/12/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=31/10/1994
}}

[[Category:Games]]

The timer interrupt is a [[68k interrupts|68k interrupt]] triggered when the 32-bit down-counter internal to [[LSPC]] reaches 0. As it is synchronous with the video output, it is mainly used for [[scanline effects]].

=Mode of operation=

The value of this counter is decremented by the [[Clock|pixel clock]], which runs at 6MHz (166.7ns period). It is automatically reloaded with the value specified in {{Reg|REG_TIMERHIGH}} and {{Reg|REG_TIMERLOW}} each time one of these 3 selectable events occur:

* Immediately when {{Reg|REG_TIMERLOW}} register is written to.
* At the beginning of the frame blanking period (one-shot).
* When the counter reaches 0 (repeat).

=Range=

* Minimum time ($00000000): 166.7ns, corresponds to 1 pixel, useless, see below.
* Maximum time ($FFFFFFFF): 715.8s, corresponds to 42366 frames, or 11.9 minutes.

=[[68k vector table|Vector address]]=
* Cartridge systems: $68 (IRQ2)
* CD systems: $64 (IRQ1)

Like other interrupts, this one needs to be acknowledged with {{Reg|REG_IRQACK}} to trigger again.

=Configuration=

The {{Reg|REG_LSPCMODE}} register is used to configure the timer's operation:

* Bit 4 = 1: Enable timer interrupt.
* Bit 5 = 1: Reload counter as soon as {{Reg|REG_TIMERLOW}} is written to.
* Bit 6 = 1: Reload counter at the beginning of the hblank of the first vblank line (start of each frame).
* Bit 7 = 1: Reload counter when it reaches 0.

'''Caution''': When the timer interrupt is enabled, the value of {{Reg|REG_TIMERHIGH}} and {{Reg|REG_TIMERLOW}} should always be set higher than 4, or the [[68k]] will get flooded with interrupts and program execution will lock up.

=Example: [[Neo Turf Masters]]=

[[File:Timer_turfmast.png]]

* A: First line of the frame. The timer is reloaded with the value set at C: 41016. The next interrupt will trigger at B, in 106 lines and 313 pixels (just before the 107th line). The scroll value for the mountains is set.
* B: Start of the ground area. The timer is immediately reloaded to 767 and the mode is set to "reload when 0 is reached". This will trigger interrupts every 2 lines so that the ground can be shifted to produce the perspective effect. A variable is used to count the number of ground lines.
* C: End of the ground area. When enough ground lines are rendered, the timer is immediately reloaded to 16383 so that the next interrupt won't happen soon. The mode is set to "reload on first line of next frame" and the reload value (not the timer !) is set to 41016.



[[Category:Base system]]
[[Category:Video system]]

==Housekeeping==
* Merge Sprite_scaling with Sprite_shrinking
* Rename GPU to VDC everywhere ? Or VDP ? LSPC isn't really a processor. Sorry :/
* &lt;b>VDC should be renamed to "video controller" as done with &lt;b>[[Fix_bankswitching]]&lt;/b>? (check [[NEO-GRC2]] and [[LSPC-A0]])&lt;/b>
* Rename BIOS to system ROM everywhere (done ?)
* Use 3rd parameter of Sig template (signal polarity)
* Use Chipname, Reg, Sig, BR templates

==Useful==
* Tooltip extension for registers ?
* Check everything in [[Meg count]]. Add links to game pages.
* Add pin numbers on [[AES cartridge pinout]]
* Add on to [[How to start]] page
* Tutorials
* Change DEFINE names (and register names ?) to the ones used in the AoF source code
* Memory chip pinouts
* Finish PRO chipset pinouts !
* M1 and S1 ROM speeds
* CD I/O ERROR 0001 0002 0003 ?
* CRC32 of all known ROMs/ISOs from MAME's neogeo.inc
* Add more jumper configs
* Memory card stuff (format, banks...)
* neo-mga on mv1a + PALs info
* Chip functions for each kind of board (even discrete logic)
* NEOGEO chip sizes, like pitch, span and body (useful for finding drop-in replacements like CPLD or Castellated pcb boards with replacement chips)

==Trivia==
* Add links to TCRF pages for the debug DIPs of each game
* CMC fix bankswitching: how/when is vram bank info sent to the cartridge?
* Recent security chips info (SMA, PVC...)
* Neo cd chip pinouts (not very useful)
* Are the two missing FM channels from the YM2610 actually off the die or just disabled?

==Analysis / mysteries==
* Why does the L0 ROM need an output buffer ?
* Loading time graphs for all CD games, is MESS reliable enough ? (no)
* Details on CD registers
* CDDA playback (needs more research in CD system rom)
* Dump LC98000 version Neo CD system rom
* [[LC8953]]/98000 microcode (note: Sanyo tech support has nothing left except publicly available brief sheet)

==Verify==
* Check [[Clock]] distribution diagram, especially on cart edge

#REDIRECT [[Super Sidekicks]]

[[Category:Games]]

#REDIRECT [[The Ultimate 11 - The SNK Football Championship]]

[[Category:Games]]

#REDIRECT [[Super Sidekicks 2 - The World Championship]]

[[Category:Games]]

#REDIRECT [[Super Sidekicks 3 - The Next Glory]]

[[Category:Games]]

{{GameInfo|right
|en_title=Top Hunter
|jp_title=Top Hunter
|jp_title2=トップハンター
|developer=SNK
|ngh_id=046
|megcount=110
|tcrf=https://tcrf.net/Top_Hunter:_Roddy_%26_Cathy_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=tophuntr
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGTOP
|mvs_cboard=CHA256B
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=tophuntrh
|aes_date=24/06/94
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=29/09/94
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Top Player's Golf
|jp_title=Top Player's Golf
|jp_title2=トッププレイヤーズゴルフ
|developer=SNK
|ngh_id=003
|megcount=62
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=tpgolf
|mvs_date=1990
|mvs_pchip=
|mvs_pboard=PROG-EP
|mvs_cboard=CHA-32
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=tpgolf
|aes_date=01/07/91
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=09/09/94
}}

[[Category:Games]]

#REDIRECT [[Top Hunter]]

#REDIRECT [[Top Player's Golf]]

[[File:patchfix.jpg|thumb|Flying magnet wire patches on a shiny but lightly corroded board.]]

Make sure to use the appropriate gauge when patching power traces, AWG 35 won't allow 1 amp for long...

* "Kynar" wire: Great. Get a good quality spool (high-temperature plastic).
* Magnet wire: Good, easy to salvage but can be hard to solder.
* Telephone wire: Can do the job for a few traces, but very rigid (and ugly).
* Paper clip: '''No'''.

* Tape: If temporary, why not. Might leave sticky residue.
* Hot glue: Good, just don't make a mess and '''don't apply it to chip pins'''.
* Nail varnish: Good, can take a while to dry. Easily removed with acetone.
* Random glue: No, probably won't stick or will stick too much. Can also [[corrosion|eat the board up]].
* Epoxy glue: '''NO. NEVER.'''

[[Category:Repairs]]

[[File:Irrmaze_bios1.png|right]]

Special controller only used in [[The Irritating Maze]] cabs.

Works the same way as an upside-down mechanical mouse. Uses two optical encoders for X and Y movement, handled by the [[SIT board]].

A special [[system ROM]] is used (236-bios.sp1).

The counter values are read from {{Reg|REG_P1CNT}}:

* The X counter value when bit 0 of {{Reg|REG_POUTPUT}} is 0.
* The Y counter value when bit 0 of {{Reg|REG_POUTPUT}} is 1.

Speed and direction are computed from the counter deltas.

[[Category:Cartridge systems]]

#REDIRECT [[Thrash Rally]]

The NeoGeo video hardware only supports 1-bit transparency: a pixel is either opaque or transparent.

Developers had to come up with ways of faking semi-transparency with different methods like fast blinking (often used for shadows), or only having one out of two pixels drawn.

Blinking can appear buggy in emulators if frameskip is necessary.

&lt;gallery heights=224px widths=320px>
File:Breakerst.gif|1-of-2 pixel trick in [[Breakers]]
File:Fatfury3blink.gif|Blinking sprite in [[Fatal Fury 3 - Road to the Final Victory]] (slowed down)
&lt;/gallery>

[[Category:Code]]

#REDIRECT [[Aggressors_of_Dark_Kombat]]

[[Category:Games]]

#REDIRECT [[Neo Turf Masters]]

{{GameInfo|right
|en_title=Twinkle Star Sprites
|jp_title=Twinkle Star Sprites
|jp_title2=ティンクルスター スプライツ
|developer=ADK / SNK
|ngh_id=224
|megcount=146
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=twinspri
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256B
|aes_release=y
|aes_release_jp=y
|aes_date=31/01/97
|cd_release=y
|cd_release_jp=y
|cd_date=21/02/97
}}

*Known to have short but deep lag periods due to animation
*Heavily affected by the [[sprites per line limit]] on the top of the screen, causing masking

[[Category:Games]]

#REDIRECT [[Twinkle Star Sprites]]

[[Image:Screencap_twister.png|thumb|Screenshot]]
[[Twister in a Mirror]] is a small demo made by [[User:Blastar]].

==Links==
* [http://blastar.citavia.de/index.php?controller=post&amp;action=view&amp;id_post=8 Original post]
* [http://blastar.citavia.de/index.php?controller=post&amp;action=view&amp;id_post=11 NGCD version]

[[Category:Demos]]

#REDIRECT [[Tecmo World Soccer '96]]

[[File:mvs_upd4990.jpg|right|thumb|µPD4990AG RTC on a (dirty) {{PCB|MV1FZS}} board.]]

The µPD4990 is a RTC (Real Time Clock) chip made by NEC, used on [[MVS hardware]] to keep track of the time and date for [[bookkeeping]].

There are two versions used, the DIP 14 pin uPD4990AC and the SOP 16 pin uPD4990AG.

It shares the [[battery-backed RAM]]'s battery and has its own 32.768kHz crystal to run even when power is off.

The parallel command inputs aren't used, they are all set high to enable serial commands (see [[MVS schematics]] page 1, and datasheet).


=Interface=

The [[READ_CALENDAR]] system ROM call can be used to conveniently load the time and date to [[BIOS RAM locations]].

Raw access is done through {{Reg|REG_STATUS_A}} for input and {{Reg|REG_RTCCTRL}} for output.

=Pinouts=
==SOP16==

[[File:uPD4990.png|300px]]

[[File:uPD4990.odg]]

==DIP14==
[[File:UPD4990AC_pinout.png|256px]]

=Failure=

A damaged chip, oscillator or their connections can bring a [[CALENDAR ERROR]], but most of the time the system ROM just [[calendar freeze|freezes]] due to a [[System_self-test|self-test]] bug.

=Datasheet=

Official µPD4990A datasheet: [[http://www.datasheetcatalog.org/datasheet/nec/UPD4990AC.pdf]]


[[Category:Chips]]
[[Category:Repairs]]

The USER subroutine (not called, always jumped to by the [[system ROM]]) is required [[68k]] code which needs to perform actions according to the command value set in {{BR|BIOS_USER_REQUEST}}.

At the end of the routine, a jump to [[SYSTEM_RETURN|BIOSF_SYSTEM_RETURN]] is needed to give back control to the BIOS.

=Handling code=

&lt;syntaxhighlight>
JT_User:
    dc.l   StartupInit
    dc.l   EyeCatcher
    dc.l   Game
    dc.l   Title

User:
    move.b  d0,REG_DIPSW
    clr.l   d0
    move.b  BIOS_USER_REQUEST,d0
    lsl.b   #2,d0
    lea     JT_User,a0
    movea.l (a0,d0),a0
    jsr     (a0)
    jmp     BIOSF_SYSTEM_RETURN
&lt;/syntaxhighlight>

=USER_REQUEST values=

==Command 0==
Initilization of the soft/debug [[DIPs]] in the [[68k user RAM]]. Used only once, when the game is started for the first time on a MVS system (probably when the BIOS doesn't find the game's NGH number in the [[backup RAM]]).

Set {{BR|BIOS_USER_MODE}} to 0 during operations, and don't forget to kick the watchdog as interrupts are disabled.

Initilization of the rest of the user RAM, the display, and I/O.

[[Viewpoint]], which has its backup RAM save pointer set to $100000 (header $10E) and game save size set to $0200 (header $112) does this:
&lt;syntaxhighlight>
	move.b	#$00,BIOS_USER_MODE
	lea	$100000,a0		;Start of game save block
	move	#$001F,d1		;32*4 longword writes = 512 bytes
	moveq	#0,d0
.cl:
	move.l	d0,(a0)+
	move.l	d0,(a0)+
	move.l	d0,(a0)+
	move.l	d0,(a0)+
	dbf	d1,.cl
	move.b	d0,REG_WATCHDOG
...
        jmp     BIOSF_SYSTEM_RETURN
&lt;/syntaxhighlight>

Typical use is load default data (default rankings, etc) into work-backup area, then jump to SYSTEM_RETURN.

==Command 1==
Show the game's own boot logo animation (when [[68k program header|$114]] = 1).

This command by default is only called on AES and not on the [[MVS]]. It is called once only at system start (before attract mode) and not again.

Later games by SNK trick the MVS bios into calling this subroutine. They do this by first moving and then executing code from RAM during their command 2 routine. This code determines the games SLOT location and then stores this location to address 0xD00058 (See routine from 0xA910E in KOF99).

A side affect is the new eye catcher does not display right away, at least one attract mode sequence must be completed first. SNK appear to have done this with the aim of updating the original spinning logo with their new version and thus this method is not advised if you want an eye catcher to show on MVS hardware. Instead it is advised to call your own the eye catcher routine from within command 2 (attract mode) only. See Aero Fighters 2 as an example, it has both the Neo Geo eye catcher and a VideoSystem eye catcher.

==Command 2==
Show the game's demo, this means anything related to attract mode. (the recommended duration is ?).

On AES systems the bios only comes this far and never calls command 3, if title page is required it must be done here.

==Command 3==
Show the game's title screen. This is called when a coin is inserted on [[MVS]] only and is never called on AES systems. {{BR|BIOS_COMPULSION_TIMER}} is used as a count-down timer for auto-start.

Some games write 0x01 to 0x10FEC5 in this routine. It stops the bios calling command 3 twice after game over if credits are already in the system (attract mode skipped). When 0x00 the bios will initiate another command 3 a few frames after the first. This causes the title page to draw twice. This could be a bios bug which SNK fixed by adding this variable in a later bios revision (needs confirming).

To see an example compare Art or Fighting to Art of Fighting 2 after game over.

[[Category:Code]]

#REDIRECT [[The Irritating Maze]]

[[Category:Games]]

The Universe BIOS (or UniBIOS) is a patched MVS [[System ROM]] maintened by [[Razoola]], which can run on both MVS and AES. It wasn't written from the ground up but built over the original (copyrighted) SNK system ROM code and data.

An alternative to the Universe Bios there is the [[Neopen BIOS]].

Graphic visualisation:

[[File:binviewunibios23.png]]

Difference with [[System ROM|SP-S2]]:

[[File:unibios23diff.png]]

== Features ==
* Cheat database with in-game menu
* Jukebox function
* Error handling
* ...

[[Category:Cartridge systems]]

"F*ckin frog"
  - some ng.com fags

Unreleased games fanatic, and very-beginner neo developer

Blah

Quick overview of known [[system ROM]] versions, may not be completely accurate. Various third-party system ROMs (e.g. [[Universe BIOS]], [[Neopen BIOS]], smkdan's [[Diagnostics BIOS]]) are missing from this list.

==MVS System ROMs==
{|class="wikitable"
! Filename || Short Name || Region || Reported Version || Description
|-
| sp1.jipan.1024 || japan-s1 || Japan || &amp;nbsp; || Japan MVS v1
|-
| sp1-1v1_3db8c.bin || japan-hotel || Japan || 6, NEO-GEO GIT Ver 1.3 || Japanese Hotel v1.3 (Copyright 1993)
|-
| sp-j2.sp1 || japan-s2 || Japan || 5 || Japan MVS v2
|-
| vs-bios.rom || japan || Japan || (JAPAN) Ver. 6.00 || Japan MVS v3 (Copyright 1995)
|-
| japan-j3.bin || japan-j3 || Japan || (JAPAN/J3) Ver. 6 || Japan MVS J3 (Copyright 1995)
|-
| 236-bios.bin || &amp;nbsp; || Asia || (ASIA/ST1) Ver.T1 || The Irritating Maze ([[Trackball]]/[[SIT board]] support); (Copyright 1997 SNK/Saurus Corp.)
|-
| asia-s3.bin || asia || Asia || (ASIA /S3) Ver. 6 || Asia MVS v3 (Copyright 1995)
|-
| sp-45.sp1 || mv1c || Asia || (ASIA /S3) Ver. 6 || NEO-MVH MV1C (Copyright 1995)
|-
| sp-e.sp1 || us-e || USA || 5 || USA MVS v1
|-
| sp-u2.sp1 || us || USA || 5 || USA MVS v2?
|-
| sp-s.sp1 || euro-s1 || Europe || &amp;nbsp; || Europe MVS v1
|-
| sp-s2.sp1 || euro || Europe || 5 || Europe MVS v2
|}

==Home System ROMs==
todo: USA system ROM exists, even if most people swapped out the chip. Has it been dumped? Same question for Korean and PAL home consoles.

{|class="wikitable"
! Filename || Short Name || Region || Description
|-
| neo-po.bin || japan || Japan || Japan AES
|-
| neo-epo.bin || asia || Asia || Asia AES
|-
| neodebug.bin || devel || Japan || Debug/Development
|}

==CD System ROMs==
Regions are handled via a set of jumpers. Does the Brazilian/Portuguese language system have a different system ROM?

{|class="wikitable"
! Filename || Description
|-
| top-sp1.bin || Top-Loading NeoGeo CD
|-
| front-sp1.bin || Front-Loading NeoGeo CD
|-
| neocd.bin || NeoGeo CDZ ([[:File:Cdzbiosgfx.png|Visualization]])
|}

Some Neo-Geo CD games include intentional omake/bonus content, while others include unintentional bonus content. This list is not comprehensive.

==Aero Fighters 2==
There is a "VSYS" directory, containing various TIFF format images, as well as two text files (INDEX.TXT and LINER.TXT).

==Fatal Fury Special==
Two files, P058.old (dated 1994/09/20) and P058P.OLD (dated 1994/5/5), exist on the disc. These are presumed to be older versions of P058.PRG (dated 1994/10/14) and P058P.PRG (dated 1994/09/20).

==Ninja Master's==
Two files, DEF1.H (a file with a small amount of defines) and NMCD ("DATF1.10CDWriter/Aplix Corporation" plus other data) exist on the disc.

==Robo Army==
Two files, 032_P1.OLD (dated 1995/02/16) and 032_P1O.OLD (dated 1995/02/15), exist on the disc. These are presumed to be older versions of 032_P1.PRG (dated 1995/03/17).

==Soccer Brawl==
A file named 031_P1.OLD (dated 1995/02/27) is on the disc. This is presumed to be an older version of 031_P1.PRG (dated 1995/03/7).

==Super Sidekicks 2==
A program called SOUND.EXE can be found on the disc.

==World Heroes 2==
Two BMP images, two ICO icons, and a VEGA.TXT.

Many Neo-Geo games have debug menus and development tools lurking in their code, waiting to be discovered. Some are as easy as messing with the [[Debug DIPs]], while others require more work.

==Twinkle Star Sprites==
If ROM address 0x0000FF (0x1000FE in an un-byteswapped "224-p1.p1") is set to &lt;code>0xDB&lt;/code>, debugging features will be available.

===Program Menu===
[[Image:Twinsprites_debug1.png|Main debug menu, accessed by holding Player 2's A,B,C, and D buttons on boot]]

The main debug menu, "--- PROGRAM MENU ---", is accessed by holding down Player 2's A, B, C, and D buttons on boot.

===Select Button Menu===
[[Image:Twinsprites_debug2.png|Another debug menu, accessed by pressing Player 1 Select]]

Another debug menu is available by pressing Player 1 Select at any time.

==The Last Blade==
The Last Blade has a tool menu; more research is needed. (This was discovered on 2ch. Is this the same menu that you get with debug dip 2-4?)

In "234-p1.bin" (un-byteswapped?) make these changes:
* 0x5F5F4: 0xAA &amp;rarr; 0x40
* 0x5F5F5: 0xF3 &amp;rarr; 0xAF

==Viewpoint==
Viewpoint has a special test/debug type menu. This was discovered by Razoola on the CD system while working on the Universe Bios but also works on the MVS/AES versions of the game.

In "051-p1" make this change:
* 0x3FFFF: 0x7F &amp;rarr; 0xFF

When game is running press START+SELECT at the same time, the game will pause and you will see the word 'PAUSE' in the top right corner. Pull the joystick DOWN and the new menu will appear.

==Todo==
* [http://sudden-desu.net/entry/disabled-debug-functions-in-neo-bomberman Neo Bomberman's debug menu and "DEBUGING(sic) MONITOR"]
* Other games are likely to have something lurking in them...

[[User:Freem|freem's]] standard set of include files can be found in the [https://github.com/freem/freemlib-neogeo freemlib for Neo-Geo]. They are a bit different from [[68k ASM defines|the ones you'll find on the wiki]].

==[https://raw.githubusercontent.com/freem/freemlib-neogeo/master/src_68k/inc/neogeo.inc neogeo.inc]==
Various [[Memory mapped registers|hardware register defines]].

==[https://raw.githubusercontent.com/freem/freemlib-neogeo/master/src_68k/inc/ram_bios.inc ram_bios.inc]==
[[BIOS RAM locations|RAM locations]] used by the [[system ROM]].

==[https://raw.githubusercontent.com/freem/freemlib-neogeo/master/src_68k/inc/mvs_bram.inc mvs_bram.inc]==
Names for values in MVS [[Backup RAM]].

__NOTOC__
:''In order to avoid a situation like the homebrew page formerly in my namespace, I'm going to be testing some things here. Everything is subject to change and/or deletion.''

=Hello World Tutorial=
This tutorial will guide you through all the necessary steps to make a Neo-Geo binary which displays the text "Hello world!". The language we will be using is 68000 assembly, but good knowledge of it is not needed.

==Setting up the Development Environment==
# Download [http://mamedev.org/release.html the latest version of MAME] and extract the contents somewhere you can easily remember (e.g. a directory like &lt;code>C:\mame\&lt;/code> or &lt;code>~/mame/&lt;/code>).
# In order to run Neo-Geo software on MAME, you will need to create (or find) dumps of the various ROMs on the system motherboard. Typically these ROMs are packaged in a file called &lt;code>neogeo.zip&lt;/code>. If you manage to find this zip file, copy it into the &lt;code>roms&lt;/code> subdirectory of where you installed MAME. Otherwise, you will need a few files in the &lt;code>roms/neogeo/&lt;/code> subdirectory: '''000-lo.lo''' (64KiB, the [[LO ROM]]), '''sm1.sm1''' (128KiB, the [[M1 ROM]] for sound), '''sp-s2.sp1''' (128KiB, the [[System ROM]]) and '''sfix.sfix''' (128KiB, the [[SFIX]] ROM).

The [[MVSTracker]] driver exists in two versions:
# The original version by Ivan Mackintosh
# The modified version by Pascal and Kaneda

The latter version of the engine is able to target the Neo-Geo and Megadrive/Genesis. It splits out common routines and macros into separate files.

[http://www.culturaneogeo.com/entrevistajeffkurtzeng.htm According to Jeff Kurtz], this driver does not work on hardware. It seems that the required wait times for the address and data writes are not in place. (This is true for both the original and modified versions.)

=Original Version (v0.1)=
The original MVSTracker Z80 driver is contained in a file called &lt;code>modplay.asm&lt;/code>.

==Variables==
From &lt;code>vars.inc&lt;/code>:
* &lt;code>SongPos&lt;/code> (byte) &amp;mdash; Song position
* &lt;code>SongLen&lt;/code> (byte) &amp;mdash; Song length
* &lt;code>FreqHi&lt;/code> (byte) &amp;mdash; Current working Frequency MSB
* &lt;code>FreqLo&lt;/code> (byte) &amp;mdash; Current working Frequency LSB
* &lt;code>Block&lt;/code> (byte) &amp;mdash; Current working Block
* &lt;code>Instr&lt;/code> (byte) &amp;mdash; Current working instrument number
* &lt;code>Effect&lt;/code> (byte) &amp;mdash; Effect number
* &lt;code>Value&lt;/code> (byte) &amp;mdash; Effect value
* &lt;code>CurInstr&lt;/code> (byte[4]) &amp;mdash; Current instrument number for each channel
* &lt;code>PatternPos&lt;/code> (word) &amp;mdash; Pattern position
* &lt;code>PatternCnt&lt;/code> (byte) &amp;mdash; Pattern count(?)
* &lt;code>TempoCount&lt;/code> (byte) &amp;mdash; Tempo count
* &lt;code>Tempo&lt;/code> (byte) &amp;mdash; Current tempo
* &lt;code>InstrStart&lt;/code> (word) &amp;mdash; Instrument start address?
* &lt;code>TuneStart&lt;/code> (word) &amp;mdash; Tune start address?
* &lt;code>MusicPlaying&lt;/code> (byte) &amp;mdash; Music playing flag
* &lt;code>PatternBreak&lt;/code> (byte) &amp;mdash; Pattern break(?)
* &lt;code>NextChannel&lt;/code> (byte) &amp;mdash; Next ADPCM-A channel to use (cycled in NMI_ProcessADPCM)
* &lt;code>UseChannel&lt;/code> (byte) &amp;mdash; Current ADPCM-A channel to use

==Macros==
* &lt;code>RAMDB&lt;/code> &amp;mdash; define a byte in RAM?
* &lt;code>RAMDW&lt;/code> &amp;mdash; define a word in RAM?
* &lt;code>RAMARRAY&lt;/code> &amp;mdash; define a series of bytes in RAM?
* &lt;code>sendDEPortA&lt;/code> &amp;mdash; push af, do rst 0x08 (write to ports 4/5), pop af
* &lt;code>sendDEPortB&lt;/code> &amp;mdash; push af, do rst 0x10 (write to ports 6/7), pop af
* &lt;code>loadDEinstrX32&lt;/code> &amp;mdash; do rst 0x18; "instrument# 0..31 multiply by 32; result in de"

==Code==
(todo; this is going to take a bit to clean up and format into wiki syntax)

=Modified (v0.2, 08Sep2006 by Kaneda)=
The modified version of the MVSTracker driver is split into multiple files:
* &lt;code>common_func.inc&lt;/code> &amp;ndash; Shared functions between Megadrive/Neo-Geo drivers.
* &lt;code>common_macro.inc&lt;/code> &amp;ndash; Shared macros between Megadrive/Neo-Geo drivers.
* &lt;code>common_vars.inc&lt;/code> &amp;ndash; Shared variables between Megadrive/Neo-Geo drivers.
* &lt;code>modplay_md.asm&lt;/code> &amp;ndash; Megadrive/Genesis Z80 sound driver code.
* &lt;code>modplay_ng.asm&lt;/code> &amp;ndash; Neo-Geo Z80 sound driver code.

This version of the code is meant to be assembled with [https://github.com/vhelin/wla-dx/ WLA-DX]. The Neo-Geo driver code has been reformatted and updated to work with the new common files, but is mostly unchanged from the original version.

The '''Mr.Pac''' Sound Driver exists in two versions:
* &lt;code>Ver 1.5b by Mr.Pac h Ber.02/01/08&lt;/code> (January 8th, 1990)
* &lt;code>Ver 2.0 by Mr.Pac h Ber.02/02/14&lt;/code> (February 14th, 1990)

The information on this page primarily deals with the [[SM1|first version of the driver as it appears on the SM1 chip]].

==Origin==
It is likely that this sound driver is based off of the one found in Beast Busters, which contains this signature:
&lt;pre>SOUND CONDUCTER Ver 1.0a for YM2610(OPNB) by Mr.Pac hector Ber.1989/06/17&lt;/pre>

==Command Codes==
{|class="wikitable"
|-
! Code || Description
|-
| 0x00 || No operation
|-
| 0x01 || Slot Switch
|-
| 0x02 || Play Eyecatch Music
|-
| 0x03 || Reset
|-
| 0x04 || Disable music/sound effect playback
|-
| 0x05 || Disable music playback
|-
| 0x06 || Disable sound effect playback
|-
| 0x07 || Enable music/sound effect playback
|-
| 0x08 || Enable music playback
|-
| 0x09 || Enable sound effect playback
|-
| 0x0A || Fade out (0 in SM1's &lt;code>TBL_MCODE&lt;/code>)
|-
| 0x0F || Stop SSG (0 in SM1's &lt;code>TBL_MCODE&lt;/code>)
|-
| 0x10 || ROM/RAM Check
|-
| 0x11 || Stop fade out (0 in SM1's &lt;code>TBL_MCODE&lt;/code>)
|}

==Voice/Instrument Formats==
===ADPCM-A===
{|class="wikitable"
|-
! Offset || Size || Description
|-
| 0x00 || byte || Priority (lower value = higher priority)
|-
| 0x01 || word || Start Address
|-
| 0x03 || word || End Address
|-
| 0x05 || byte || Loop Count
|-
| 0x06 || word || Loop Start Address
|-
| 0x08 || word || Loop End Address
|-
| 0x0A || byte || Volume and Left/Right Output
|}

===ADPCM-B===
{|class="wikitable"
|-
! Offset || Size || Description
|-
| 0x00 || byte || Priority
|-
| 0x01 || word || Start Address
|-
| 0x03 || word || End Address
|-
| 0x05 || byte || Loop Count
|-
| 0x06 || word || Loop Start Address
|-
| 0x08 || word || Loop End Address
|-
| 0x0A || word || Delta-N Sampling Rate
|-
| 0x0C || byte || Volume
|-
| 0x0D || byte || LFO Sync/Delay
|-
| 0x0E || byte || LFO Envelope, Left/Right Output
|-
| 0x0F || word || Minimum LFO Pitch
|-
| 0x11 || word || Maximum LFO Pitch
|-
| 0x13 || word || LFO Speed
|-
| 0x15 || byte || Volume Portamento
|-
| 0x16 || byte || Volume Speed
|-
| 0x17 || byte || Initial Volume
|-
| 0x18 || byte || Final Volume
|-
| 0x19 || byte || Portamento Speed
|}

===FM===
{|class="wikitable"
|-
! Offset || Size || Description
|-
| 0x00 || byte || Feedback
|-
| 0x01 || byte || Algorithm
|-
| 0x02 || byte || Detune (Op1)
|-
| 0x03 || byte || Detune (Op2)
|-
| 0x04 || byte || Detune (Op3)
|-
| 0x05 || byte || Detune (Op4)
|-
| 0x06 || byte || Multi (Op1)
|-
| 0x07 || byte || Multi (Op2)
|-
| 0x08 || byte || Multi (Op3)
|-
| 0x09 || byte || Multi (Op4)
|-
| 0x0A || byte || Output (Op1)
|-
| 0x0B || byte || Output (Op2)
|-
| 0x0C || byte || Output (Op3)
|-
| 0x0D || byte || Output (Op4)
|-
| 0x0E || byte || Key Scale Rate (Op1)
|-
| 0x0F || byte || Key Scale Rate (Op2)
|-
| 0x10 || byte || Key Scale Rate (Op3)
|-
| 0x11 || byte || Key Scale Rate (Op4)
|-
| 0x12 || byte || Attack Rate (Op1)
|-
| 0x13 || byte || Attack Rate (Op2)
|-
| 0x14 || byte || Attack Rate (Op3)
|-
| 0x15 || byte || Attack Rate (Op4)
|-
| 0x16 || byte || Decay Rate (Op1)
|-
| 0x17 || byte || Decay Rate (Op2)
|-
| 0x18 || byte || Decay Rate (Op3)
|-
| 0x19 || byte || Decay Rate (Op4)
|-
| 0x1A || byte || Sustain Rate (Op1)
|-
| 0x1B || byte || Sustain Rate (Op2)
|-
| 0x1C || byte || Sustain Rate (Op3)
|-
| 0x1D || byte || Sustain Rate (Op4)
|-
| 0x1E || byte || Sustain Level (Op1)
|-                             
| 0x1F || byte || Sustain Level (Op2)
|-                             
| 0x20 || byte || Sustain Level (Op3)
|-                             
| 0x21 || byte || Sustain Level (Op4)
|-
| 0x22 || byte || Release Rate (Op1)
|-                            
| 0x23 || byte || Release Rate (Op2)
|-                            
| 0x24 || byte || Release Rate (Op3)
|-                            
| 0x25 || byte || Release Rate (Op4)
|-
| 0x26 || byte || SSG-type Envelope (Op1)
|-                                 
| 0x27 || byte || SSG-type Envelope (Op2)
|-                                 
| 0x28 || byte || SSG-type Envelope (Op3)
|-                                 
| 0x29 || byte || SSG-type Envelope (Op4)
|-
| 0x2A || byte || "lfoWave"
|-
| 0x2B || byte || LFO Delay
|-
| 0x2C || word || LFO Speed
|-
| 0x2E || byte || "pmd"
|-
| 0x2F || byte || "pms"
|-
| 0x30 || byte || "intCount"
|-
| 0x31 || byte || (unused)
|-
| 0x32 || byte || Hardware LFO AMS/PMS
|-
| 0x33 || byte || Hardware LFO ??
|}

==Sequence Data Header Formats==
Some values need verification.

===Music===
{|class="wikitable"
|-
! Offset || Size || Description
|-
| 0x00 || byte || "Select Code"
|-
| 0x01 || word || Pointer to FM Channel 1 sequence data
|-
| 0x03 || word || Pointer to FM Channel 2 sequence data
|-
| 0x05 || word || Pointer to FM Channel 3 sequence data
|-
| 0x07 || word || Pointer to FM Channel 4 sequence data
|-
| 0x09 || word || Pointer to ADPCM-A Channel 1 sequence data
|-
| 0x0B || word || Pointer to ADPCM-A Channel 2 sequence data
|-
| 0x0D || word || Pointer to ADPCM-A Channel 3 sequence data
|-
| 0x0F || word || Pointer to ADPCM-A Channel 4 sequence data
|-
| 0x11 || word || Pointer to ADPCM-A Channel 5 sequence data
|-
| 0x13 || word || Pointer to ADPCM-A Channel 6 sequence data
|-
| 0x15 || word || Pointer to ADPCM-B Channel sequence data
|-
| 0x17 || byte || Tempo (music)/Priority (effect)
|-
| 0x18 || byte || Initial FM Volume
|-
| 0x19 || byte || Initial ADPCM-A Volume
|-
| 0x1A || byte || Initial ADPCM-B Volume
|-
| 0x1B || byte || Open/Close Flag (FM Channel 1)
|-
| 0x1C || byte || Open/Close Flag (FM Channel 2)
|-
| 0x1D || byte || Open/Close Flag (FM Channel 3)
|-
| 0x1E || byte || Open/Close Flag (FM Channel 4)
|-
| 0x1F || byte || Open/Close Flag (ADPCM-A Channel 1)
|-
| 0x20 || byte || Open/Close Flag (ADPCM-A Channel 2)
|-
| 0x21 || byte || Open/Close Flag (ADPCM-A Channel 3)
|-
| 0x22 || byte || Open/Close Flag (ADPCM-A Channel 4)
|-
| 0x23 || byte || Open/Close Flag (ADPCM-A Channel 5)
|-
| 0x24 || byte || Open/Close Flag (ADPCM-A Channel 6)
|-
| 0x25 || byte || Open/Close Flag (ADPCM-B)
|}

===Sound Effects===
{|class="wikitable"
|-
! Offset || Size || Description
|-
| 0x00 || byte || Priority
|-
| 0x01 || word || Pointer to SSG Channel A sequence data
|-
| 0x03 || word || Pointer to SSG Channel B sequence data
|-
| 0x05 || word || Pointer to SSG Channel C sequence data
|-
| 0x07 || word || Pointer to SSG Noise Channel sequence data
|-
| 0x09 || byte || Open/Close Flag (SSG Channel A)
|-
| 0x0A || byte || Open/Close Flag (SSG Channel B)
|-
| 0x0B || byte || Open/Close Flag (SSG Channel C)
|-
| 0x0C || byte || Open/Close Flag (SSG Noise Channel)
|-
| 0x0D || byte || Open/Close Flag (Software-mixed Noise)
|}

==Other Notes==
* Timer A seems to be used for sound effect playback. (The Timer A value is also stored in &lt;code>0xFAD3&lt;/code> (lower 2 bits) and &lt;code>0xFAD4&lt;/code> (upper 8 bits) in the SM1/BIOS driver)
* Timer B is used as the tempo for music playback. (The Timer B value is also stored in &lt;code>0xFAD4&lt;/code> in the SM1/BIOS driver)

The '''STSOUND''' engine is found in the NeoGeo 3D! demo by Leonard of Oxygene. It is notable in that it uses the SSG portion of the YM2610 to playback an Atari ST song.

==Description==
Leonard describes the engine as follows:
&lt;blockquote>"68k only send a "tick" command at 50hz (ATARI music are 50hz). Then Z80 wake up at 50hz, and depack YM registers (all data is packed in Z80 ROM, the packed music is about 43KB). And then the magic trick is that NeoGeo has a YM2160 chip, far better than ATARI YM2149. BUT, the YM2160 has a SSG part (simple sound generator), which is hardware compatible with YM2149 :) So no software emulation, I simply put the registers into the SSG par[t] of the YM2160" [http://www.pouet.net/prod.php?post=607543 (quoted post)]&lt;/blockquote>

==RAM Usage==
* &lt;code>$F800-$F81F&lt;/code> &amp;ndash; command buffer (32 bytes)
* &lt;code>$F820&lt;/code> &amp;ndash; previous command (1 byte)
* &lt;code>$F821&lt;/code> &amp;ndash; current command (1 byte)
* &lt;code>$F822&lt;/code> &amp;ndash; music data pointer (2 bytes)

==Command Codes==
{|class="wikitable"
|-
! Code || Description
|-
| 0x01 || Slot Switch
|-
| 0x03 || Reset
|-
| 0x10 || Sound driver tick
|}

==Code==
The bulk of the work is done in Command 0x10, which is sent from the 68K at 50Hz.

  handleCommand:
  	cp #0x10 ; is this command $10?
  	jr Z, command10
  	ret
  
  command10:
  	ld hl, (0xF822) ; current music data pointer
  	ld d, #0
  
  loc_134:
  	ld a, d
  	or a
  	jr NZ, loc_13C
  
  loc_138:
  	ld b, (hl) ; load value from music data
  	inc hl ; increment music data pointer
  	jr loc_144
  ; ---------------------------------------------------------------------------
  
  loc_13C:
  	cp #8
  	jr Z, loc_138
  	cp #0xE
  	jr Z, loc_153
  
  loc_144:
  	bit 7, b ; check for MSB
  	jr Z, loc_14D ; branch if top bit not set
  	ld e, (hl) ; load value from music data
  	inc hl ; increment music data pointer
  	call write_45 ; write values to ports $04 and $05
  
  loc_14D:
  	ld a, b
  	add a, a
  	ld b, a
  	inc d
  	jr loc_134
  ; ---------------------------------------------------------------------------
  
  loc_153:
  	ld (0xF822), hl ; update music data pointer
  	ld a, (hl) ; get first value from music data
  	cp #0xFF
  	jr NZ, handleCommand_end ; end if first value is not $FF
  
  	inc hl ; increment music data pointer
  	ld a, (hl) ; get second value from music data
  	cp #0xFF
  	jr NZ, handleCommand_end ; end if second value is not $FF
  
  	ld hl, #musicData ; music data
  	ld (0xF822), hl ; update music data pointer
  
  handleCommand_end:
  	ret

__NOTOC__
:''Mainspace pages of interest: [[Sound driver]], [[Sound drivers list]], [[YM2610]], [[YM2610 registers]], [[Z80/YM2610 interface]], [[68k/Z80 communication]]''

==Driver Overview==
The primary source of sound drivers was SNK. Most third parties stuck to using the MAKOTO series (and the Mr.NORIC driver on CD). ADK created their own in-house sound driver as well.

===SNK===
SNK had multiple sound drivers, starting with one labeled "Mr.Pac", and ending with "Sound Driver(ROM)Ver 1.9".

====Mr.Pac====
:''More Information: [[User:Freem/Sound Drivers/Mr.Pac]]''
The original sound driver.

* '''"Ver 1.5b by Mr.Pac h Ber.02/01/08"''' &amp;ndash; Used in the BIOS M1 driver, as well as the first four released games (NAM-1975, Baseball Stars Professional, Top Player's Golf, and Mahjong Kyoretsuden).
** Date: Heisei 2 (1990) January 8th
* '''"Ver 2.0 by Mr.Pac h Ber.02/02/14"''' &amp;ndash; Used in games from 1990 (starting with Riding Hero) to 1998 (Blazing Star).
** Date: Heisei 2 (1990) February 14th

====MAKOTO====
:''More Information: [[User:Freem/Sound Drivers/MAKOTO]]''
MAKOTO appears to be an evolution of the Mr.Pac driver, as its first appearance is marked "Ver 2.0a".

* '''"Ver 2.0a by MAKOTO.03/04/05 to SK"''' &amp;ndash; Used in games from 1992 (starting with Mutation Nation) to 1995 (Goal! Goal! Goal!).
** Date: Heisei 3 (1991) April 5th
* '''"[[MAKOTO V3 driver|Ver 3.0 by MAKOTO.04/03/10 to SK]]"''' - Used in games from 1992 (starting with King of the Monsters 2) to 2001 (Jockey Grandprix, encrypted). Also found in the Neo-Geo CDZ BIOS.
** Date: Heisei 4 (1992) March 10th
* '''"Ver 3.2 by MAKOTO.97/06/01 to SK"''' &amp;ndash; Found in the Samurai Spirits RPG Neo-Geo CD game.
* '''"Ver 8.3 by MAKOTO.98/05/07 to SK"''' &amp;ndash; Found in later games, from 1998 (Neo Geo Cup '98) to 1999 (Prehistoric Isle 2).

====Mr.Noric====
:''More Information: [[User:Freem/Sound Drivers/Mr.Noric]]''
* '''"Ver 3.0 by Mr.Noric.1993/11/10 14:00"''' &amp;ndash; Sound driver found in most CD games. Also found in the Neo-Geo CD (front and top loader) BIOS.

====Sound Driver (1995-2000)====
:''More Information: [[User:Freem/Sound Drivers/To SNK]]''

* '''"Sound Driver Ver 0.0 95/08/11 To SNK"''' &amp;ndash; Found in Kizuna Encounter/Fu'un Super Tag Battle (1996).
* '''"Sound Driver Ver 0.1 96/07/03 To SNK"''' &amp;ndash; Found in King of Fighters '96 (cart versions).
* '''"Sound Driver Ver 1.0 96/08/09 To SNK"''' &amp;ndash; First appearance on cart: Super Sidekicks 4 (1996); First appearance on CD: King of Fighters '96 (1996)
* '''"Sound Driver Ver 1.1 96/10/01 To SNK"''' &amp;ndash; First appearance on cart: Real Bout Fatal Fury Special (1996)
* '''"Sound Driver(CD) Ver 1.2 97/08/08 To SNK "''' &amp;ndash; First version of the driver to make a distinction between cart and CD.
* '''"Sound Driver(ROM)Ver 1.3 97/08/08 To SNK"''' and '''"Sound Driver(CD) Ver 1.3 97/08/08 To SNK"'''
* '''"Sound Driver(ROM)Ver 1.6 97/12/08 To SNK"''' and '''"Sound Driver(CD) Ver 1.6 97/12/08 To SNK"''' &amp;ndash; Real Bout Fatal Fury 2
* '''"Sound Driver(ROM)Ver 1.7 98/06/16 To SNK"''' and '''"Sound Driver(CD) Ver 1.7 98/06/16 To SNK"'''
* '''"Sound Driver(ROM)Ver 1.8 98/10/28 To SNK"''' and '''"Sound Driver(CD) Ver 1.8 99/01/07 To SNK"''' &amp;ndash; The Last Blade 2
* '''"Sound Driver(ROM)Ver 1.8 99/08/04 To SNK"''' &amp;ndash; First appearance on cart: Garou: Mark of the Wolves
* '''"Sound Driver(ROM)Ver 1.9 00/03/22 To SNK"''' &amp;ndash; First sound driver to be encrypted (2000, before SNK's demise)

===ADK===
:''More Information: [[User:Freem/Sound Drivers/ADK]]'', [http://www.chrismcovell.com/ADKMML.html Chris Covell's page about the ADK driver and its use of MML]
ADK's sound driver was the work of M.Chiba (credited as "M.C" in later versions) between 1990 and 1996. There are a number of drivers missing from this list, especially CD games.

* '''"Operation System Program for Music &amp; Effective Sound Ver. 1.2 (c) Copyright ALPHA DENSHI Co., Ltd. 1990 / February / 18 by M.Chiba"''' &amp;ndash; Magician Lord (cart)
* '''"Operation System Program for Music &amp; Effective Sound Ver. 2.2 (c) Copyright ALPHA DENSHI Co., Ltd. 1990 / June / 18 by M.Chiba"''' &amp;ndash; Ninja Combat (cart)
* '''"Operation System Program for Music &amp; Effective Sound Ver. 3.5 (c) Copyright ALPHA DENSHI Co., Ltd. 1990 / Novenber / 1 RG by M.Chiba"''' &amp;ndash; Blue's Journey/Raguy (cart)
* '''"Operation System Program for Music &amp; Effective Sound Ver. 6.4 (c) Copyright ALPHA DENSHI Co., Ltd. 1991 / March / 14 by M.C"''' &amp;ndash; Crossed Swords (cart)
* '''"Operation System Program for Music &amp; Effective Sound Ver. 6.5 (c) Copyright ALPHA DENSHI Co., Ltd. 1991 / July / 5 by M.C"''' &amp;ndash; Thrash Rally (cart)
* '''"Operation System Program for Music &amp; Effective Sound Ver. 7.3 (c) Copyright ALPHA DENSHI Co., Ltd. December 3 ,1991 by M.C"''' &amp;ndash; Ninja Commando (cart)
* '''"Window &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.4 (c) Copyright ALPHA DENSHI Co., Ltd. July 18 ,1992 by M.C"''' &amp;ndash; World Heroes (cart)
* '''"Window &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.5 (c) Copyright ALPHA DENSHI Co., Ltd. November 17 ,1992 by M.C"''' &amp;ndash; World Heroes 2 (cart)
* '''"Window &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.8A (c) Copyright ADK Corporation February 4, 1994 by M.C"''' &amp;ndash; World Heroes 2 Jet (cart)
* '''"Window &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.7.8 (c) Copyright ADK Corporation July 2, 1994 by M.C"''' &amp;ndash; Aggressors of Dark Kombat (cart)
* '''"CD-DA &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.8.3A (c) Copyright ADK Corporation August 2, 1994 by M.C"''' &amp;ndash; Magician Lord (CD)
* '''"CD-DA &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.8.3SR (c) Copyright ADK Corporation August 25, 1994 by M.C (^_^)"''' &amp;ndash; Rally Chase (CD)
* '''"CD-DA &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.8.4 (c) Copyright ADK Corporation August 25, 1994 by M.C"''' &amp;ndash; Ninja Combat, Blue's Journey/Raguy, Crossed Swords, World Heroes (CD)
* '''"CD-DA &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.8.7 (c) Copyright ADK Corporation March 18 , 1995 by M.C"''' &amp;ndash; Shogi no Tatsujin/Master of Shogi (cart)
* '''"CD-DA &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.8.7 (c) Copyright ADK Corporation May 11 ,1995 by M.C"''' &amp;ndash; World Heroes Perfect (cart), Shogi no Tatsujin/Master of Shogi (CD)
* '''"CD-DA &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.8.7A (c) Copyright ADK Corporation April 13 , 1995 by M.C"''' &amp;ndash; Crossed Swords II (CD)
* '''"CD-DA &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.8.7A (c) Copyright ADK Corporation September 26, 1995 by M.C (^_^)"''' &amp;ndash; ADK World (CD)
* '''"CD-DA &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.8.9 (c) Copyright ADK Corporation December 4, 1995 by M.C (^_^)"''' &amp;ndash; Zintrick (CD), Over Top, Ninja Master's (cart)
* '''"CD-DA &amp; Operation System Program for Music &amp; Effective Sound Ver. 8.8.11 (c) Copyright ADK Corporation June 11, 1996 by M.C"''' &amp;ndash; Twinkle Star Sprites (cart)

===Third Party===
Various third party developers came up with their own sound drivers.

====Data East====
:''More Information: [[User:Freem/Sound Drivers/Data East]]''
Data East used their custom driver in most of their games:
* Windjammers/Flying Power Disc
* Fighters History Dynamite/Karnov's Revenge
* Street Hoop/Dunk Dream
* Magical Drop 2
* Ghostlop

====Face====
:''More Information: [[User:Freem/Sound Drivers/Face]]''
Face's custom driver was only used in Gururin. However, it was stolen for Diggerman.

====Video System====
:''More Information: [[User:Freem/Sound Drivers/Video System]]''
Video System's custom driver, apparently coded by Masami Yamana.
* Power Spikes 2
* Sonic Wings 2, Sonic Wings 3
* Mahjong Final Romance 2
* Pop 'N Bounce/Gapporin

Between the &lt;code>SYSTEM&lt;/code> and &lt;code>PROGRAM&lt;/code> strings is a Shift-JIS encoded string (replicated here in UTF-8): ﾋｭｰﾏﾝ･ｸﾘｴｲﾃｨﾌﾞ･ｽｸｰﾙ 2ｷｾｲ  ﾔﾏﾅﾏｻﾐ

(A rough, incomplete translation: "Human Creative School 2[kisei] Yamana Masami")

====Nazca====
:''More Information: [[User:Freem/Sound Drivers/Nazca]]''
Nazca's custom driver. ABANDON HOPE, ALL YE WHO ENTER HERE :D
* Neo Turf Masters
* Metal Slug 1/2/X (unmarked)
* Metal Slug 3 ("A33-2316&amp;OhButch2000-03-17 10:21Master Version")

====Technos====
:''More Information: [[User:Freem/Sound Drivers/Technos]]''
Robert C. Ashworth's custom sound driver for Technos Japan's games. YOROSHIKU NE!!
* '''"SDC SYSTEM NGS-CD DRIVER V1.0 BY BOB"''' &amp;ndash; Voltage Fighter Gowcaizer (CD)
* '''"SDC_NGSS &lt;code>0x0100&lt;/code> RCA"''' &amp;ndash; Double Dragon (Cart)
* '''"SDC SYSTEM NGS-CD DRIVER V1.0 BY BOB"''' &amp;ndash; Double Dragon (CD)
* '''"SDC_NGSS &lt;code>0x0101&lt;/code> RCA"''' &amp;ndash; Super Dodge Ball (Cart)

====Tecmo====
:''More Information: [[User:Freem/Sound Drivers/Tecmo]]''
'''"TECMO"''' &amp;ndash; Tecmo World Soccer '96 driver, one of my least favorites to deal with (aside from Nazca's driver).

====Psikyo====
:''More Information: [[User:Freem/Sound Drivers/Psikyo]]''
Psikyo custom driver, only used in Strikers 1945 Plus.

===Homebrew===
These are just a few of the known homebrew sound drivers.

* '''"Le Cortex PCM sound driver v1.02 / L+F (^v^)"''' &amp;ndash; Crouching Pony Hidden Dragon (demo)
* '''"NGCD Z80 DRIVER (C) BY TIMM HELLWIG V0.19 22/07/03"''' &amp;ndash; Last Hope (CD beta)
* '''"[[User:Furrtek|FURRTEK'S]] NG SOUND DRIVER V0.12"''' &amp;ndash; Used in Nyan Cat demo, Astrosmash
* '''"Neobitz M1"''' &amp;ndash; Used in Knight's Chance, Santaball, Time's Up!, and others; output typically emitted by [[Neo Sound Builder]]
* '''"NEO-GEO ADPCM Sound Driver"''' &amp;ndash; Used in various cartoon intros
* '''"[[User:Freem/Sound Drivers/STSOUND|STSOUND]]"''' &amp;ndash; Used in Leonard's Neo-Geo 3D demo
* '''[[User:Freem/Sound Drivers/MVSTracker|MVSTracker]]''' driver (does not work on hardware without modification)
* (various) &amp;ndash; my own sound drivers, which are really incomplete.

__NOTOC__
'''freem'''! Also known as AJ 187 in some circles; &lt;code>freem&lt;/code> or &lt;code>freem_inc&lt;/code> on #neogeodev IRC. Responsible for the NeoFixFormat plugin for [[YY-CHR|YY-CHR.NET]] and some other tools.

==Sub-Pages==
{{Special:PrefixIndex/{{FULLPAGENAME}}/}}

==Various todo==
===Wiki===
* More screenshots of [[Homebrew software]]
* Make pages for said homebrew software
* Edit various pages
** Work on the [[NeoGeo programming cheatsheet]]
** Create a new [[Hello world tutorial]] (somewhat in progress, though [http://ajworld.net/neogeodev/beginner/ externally] for now)
* Make new pages as needed ([[Special:WantedPages]])

===Hardware===
* Get money so I can buy some dang real hardware
** AES (with US BIOS so I can dump it, because it appears nobody has done that?)
** Neo-Geo Pocket Color (eventually two for testing system link capabilities and such)
** JEIDA v3 compatible Memory Card (maybe multiples for dealing with self-made software/utils that uses non-standard Neo-Geo formats)
** NGP Link Cable (at least 2; one for keeping in pristine condition and the other for a silly idea I have regarding NGPC &lt;-> Neo-Geo/CD consoles)
** NGP Wireless Communication Unit (for another silly idea regarding the realization of [[SNK Patents|patent]] EP 0997172 A1)

* Build some things
** PC-2-Neo cable (parallel)
** MIDI ↔ Neo-Geo controller port cable, if possible
** Neo-Geo Pocket Link port ↔ Neo-Geo controller port cable (see above)

* Learn how to not suck at electrical engineering in order to do the following:
** Make a simple dev cart.
** Experiment with RAM in places it normally shouldn't be (C ROMs, S ROM, V ROMs)...
*** Determine if having it in P and M ROMs are worth the effort.
** However many years down the line, once I've figured out how to not suck, and if nobody else has done it by then, see about replicating certain features of later SNK chips (e.g. NEO-PCM(!!), NEO-CMC, NEO-SMA).

===Software===
* Continue overall work on freemlib
** Make sure ISC License is the best choice??
** Create/Add more library code
** Finish up existing examples in pipeline
** Add &lt;code>TITLE_x.SYS&lt;/code> files for other examples
** Create more examples
** Work on Sound driver
* Finish up C# palette generator program
* Create various other tools:
** [http://www.mapeditor.org/ Tiled] map to data converter
** A tool for creating Fix layer "nametables"
** Some sort of ADPCM conversion toolbox (combine ADPCM-A encoder, ADPCM-B encoder, and V ROM/.PCM builder)
** Others not listed here
* Oh, and make some games, of course ;)

===Reverse Engineering===
* System ROM fun
** AES Development BIOS
** Whichever other MVS and AES system ROMs I was working on
** CDZ system ROM
** Front loader CD system ROM
* Sound Drivers
** SNK Sound Drivers
** Homebrew Sound Drivers
* Games
** wtf is METRIC_DATA for anyways??
*** Alpha Mission 2/ASO2 uses METRIC_DATA (subroutine $139d8)
*** League Bowling (at $4476)
*** "Also used in 2020 super baseball for ball hit detection seemingly. If you mess with the values returned you can't hit the ball :D" -HPMAN

==Links==
* [http://ajworld.net/neogeodev/ My Neo-Geo Development Stuff]
** [http://ajworld.net/neogeodev/ym2610am_en.html Yamaha YM2610 Application Manual (WIP English translation)]
** [http://ajworld.net/neogeodev/ym2610am2.html Yamaha YM2610 Application Manual Ⅱ (WIP)]

===Project Links===
* [https://github.com/freem/freemlib-neogeo freemlib for Neo-Geo] (includes some tools as well)
* [https://github.com/freem/NeoSpriteConv NeoSpriteConv] (convert 4BPP SMS/WSC/GG tiles to Neo-Geo compatible)
* [https://github.com/freem/adpcma ADPCM-A encoder]
* [https://github.com/freem/romwak ANSI C port of ROMwak]

Hello :)

I couldn't have a NeoGeo when I was a kid so now I'm taking my revenge.

[[File:ftksnk.jpg]]

Contact: ftk or furrtek on irc:freenode, Telegram: furrtek, Mail: furrtek/gmail

&lt;p>Hi&lt;/p>
&lt;p>I'm just another Schematic Junkie with more open projects than sanity.&lt;/p>
&lt;p>&lt;/p>

[[File:Gokuu.png]]

&lt;p>&lt;/p>
&lt;p>Btw&lt;/p>
&lt;p>Neo Bufs&lt;/p>
&lt;q>What were they thinking?&lt;/q>
&lt;p>No really&lt;/p>
&lt;p>I'm asking&lt;/p>
&lt;p>What were they thinking?&lt;/p>
XD

You want to know my secret ? 



I repair boards for fun oO !!!

Bought a broken MV1FS off of eBay, going to try and get the thing running.

Repaired some traces and installed a Diagnostic Bios into the board. Tested good.

Threw UniBIOS 4.0 on it, fired up Samurai Shodown... No sound.

The adventure continues.

User input can be read directly from [[Memory mapped registers|registers]] {{Reg|REG_P1CNT}} and {{Reg|REG_P2CNT}}, which come from the hardware.

The [[SYSTEM_IO]] BIOS call sets more convenient values in RAM (active high bits, edge detection, repeat...). See the call's page for more details.

Most of the games use that BIOS call to read player input (mslug is an exception ?).

[[Category:Base system]]

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 18:24, 18 March 2021 (UTC)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 22:11, 10 November 2019 (CET)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 10:42, 28 December 2020 (UTC)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 07:16, 27 December 2018 (CET)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [[Help:Contents|help pages]].
Again, welcome and have fun! [[User:ElBarto|ElBarto]] 16:36, 1 December 2011 (CET)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 18:49, 2 October 2017 (CEST)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [[Help:Contents|help pages]].
Again, welcome and have fun! [[User:ElBarto|ElBarto]] ([[User talk:ElBarto|talk]]) 01:00, 12 May 2014 (UTC)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [[Help:Contents|help pages]].
Again, welcome and have fun! [[User:ElBarto|ElBarto]] 08:33, 3 May 2012 (CEST)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 13:10, 23 February 2025 (UTC)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [[https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents|help pages]].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 15:53, 13 December 2015 (CET)

Thanks for sharing your CT0 logic, nice learning Verilog from examples ;) --[[User:Furrtek|Furrtek]] 23:03, 29 June 2012 (CEST)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 05:46, 21 September 2018 (CEST)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 20:34, 15 May 2020 (UTC)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 14:43, 7 December 2022 (UTC)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [[https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents|help pages]].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 20:45, 30 September 2015 (CEST)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 19:04, 7 June 2017 (CEST)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 05:13, 2 September 2023 (UTC)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [[Help:Contents|help pages]].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] 19:24, 27 October 2012 (CEST)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 00:17, 24 June 2017 (CEST)

Excellent page about the graphic glitches, will definitely take some time to get the pinout of lspc-a/pro chips next month. How did you emulate the glitches, is MAME low level enough to "cut the traces"  in the code ?
--[[User:Furrtek|Furrtek]] 09:02, 17 June 2012 (CEST)

Thanks, any extra info you have would be great. I didn't modify MAME. It's just some tiny C apps that read in the unmodified ROMs and output files with the glitches simulated and ran MAME with those.
--[[User:SMKDAN|SMKDAN]] 08:30, 18 June 2012 (CEST)

Okay, I see. Do you think it's possible to simulate other cuts such as on DOTA/DOTB... and on those in between lspc/B1 without too much effort ? I'll trace out the old chips pinouts from a dead board asap.--[[User:Furrtek|Furrtek]] 11:07, 18 June 2012 (CEST)

I'd like to do something like that but I need low level info on how those work. I read DOTA/DOTB is output by ZMC2 or whatever when pixel is opaque and goes to LSPC2, so NEO-B1 does not automatically drop transparent pixels and requires LSPC to command it to draw every individual pixel? With xpos sent to it on P-bus etc.? That's my best guess for now. All the other LSPC&lt;->B1 signals have really cryptic names but I have guesses as to what they are, but no easy way to confirm it. If the right info was posted I'd modify MAME's driver to create some realistic pics later on.--[[User:SMKDAN|SMKDAN]] 09:48, 20 June 2012 (CEST)

I really have no idea how both graphic chips work, I'm not even sure where are the line buffers (B1 from what you're saying ?). I don't have much equipment so all I'll be able to get is the pinouts. Signals between the chips will be hard to decrypt with what I have, curious to see what will go on if those lines are cut/pulled low/down. Kyuusaku said he had reversed some of the internal logic but don't know if he'll share.
Weird they always had 2/3 chips for graphics instead of just 1, they never got to integrate everything in one even with NEO-GRZ...--[[User:Furrtek|Furrtek]] 11:13, 20 June 2012 (CEST)

I only guessed that buffers are on B1 since that's where the GFX data and palette addresses come from. It just seemed odd to move it back and forth between LPSC/B1 like that and the B1 would otherwise have not much to do apart from watchdog and 68k palette access. It's still just a guess though, I have nothing 100% on it and I'm in a bad position to figure it out myself. It would be cool if you manage to figure anything out from those. It's already known what has to be sent to B1 based on how they're hooked up, just don't know how it's done exactly. --[[User:SMKDAN|SMKDAN]] 09:10, 23 June 2012 (CEST)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 14:43, 7 December 2022 (UTC)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents help pages].
Again, welcome and have fun! [[User:Furrtek|Furrtek]] ([[User talk:Furrtek|talk]]) 23:49, 2 March 2021 (UTC)

'''Welcome to ''NeoGeo Development Wiki''!'''
We hope you will contribute much and well.
You will probably want to read the [[Help:Contents|help pages]].
Again, welcome and have fun! [[User:ElBarto|ElBarto]] 00:07, 30 April 2012 (CEST)

&lt;pre>
        .org $8
	push af	        	;Set YM2610 "Port A" register D to value E
	ld   a, d
	out  (4), a
	ld   a, e
	out  (5), a
	pop af
&lt;/pre>

&lt;pre>
FastBeep:
	ld de, 0040h	        ;Channel 1 frequency: 2kHz
	rst 08h
	ld de, 0100h
	rst 08h

	ld de, 0B0Fh		;EG period: $50F
	rst 08h
	ld de, 0C05h
	rst 08h

	ld de, 0810h		;Channel's 1 amplitude is tied to the EG
	rst 08h
	ld de, 0D08h		;EG shape: Repetitive ramp down
	rst 08h
	ld de, 070Eh		;All channels except 1 are off
	rst 08h

	ret
&lt;/pre>

&lt;pre>
SSG_Silence:
	ld de, 0800h		;SSG channel 1 volume = 0
	rst 08h
	ld de, 0900h		;SSG channel 2 volume = 0
	rst 08h
	ld de, 0A00h		;SSG channel 3 volume = 0
	rst 08h
	ld de, 070Fh		;Disable all channels
	rst 08h
	ret
&lt;/pre>

[[Category:Code]]
[[Category:Sound Code]]

{{GameInfo|right
|en_title=V-Liner
|jp_title=V-Liner
|developer=Dyna / BrezzaSoft
|ngh_id=
|mvs_release=yes
|mvs_release_jp=y
|mvs_romset=vliner
|mvs_date=2001
|mvs_pchip=
|mvs_pboard=PROGV
|mvs_cboard=CHAV
}}

[[Category:Games]]

'''VRAM''' stands for Video RAM.

[[File:Aes_cxk5814.jpg|thumb|One of two CXK5814 2KiB RAM chips used for the upper zone of the VRAM ($8000~$87FF) on a AES system]]

The NeoGeo has 68KiB of VRAM split in two: a 64KiB lower zone, and 4KiB higher zone. Contrary to other systems, the VRAM '''does not contain actual graphics'''. It is used to store [[Sprites|sprite]] attributes, the [[fix layer]] tile map and sprite lists for video rendering.

Access to VRAM is always done through 3 [[memory mapped registers]] handled by the [[LSPC]], it does not appear in the [[68k]] address space. Every VRAM address points to a 16-bit word, not a byte.

* {{Reg|REG_VRAMADDR ($3C0000)}} sets the VRAM address for the next read/write operation.
* {{Reg|REG_VRAMRW ($3C0002)}} is the data read or to write.
* {{Reg|REG_VRAMMOD ($3C0004)}} is the signed value automatically added to the VRAM address after a write.

Due to the different access slots used internally for each of the VRAM zones, the address register must be set directly instead of relying on {{Reg|REG_VRAMMOD}} to cross zones ($0000~$7FFF to/from $8000~$FFFF).

==Memory map==
[[File:Vrammap.png|right|frame]]

{| class="regdef"
|'''Start'''
|'''End'''
|'''Words'''
|'''Zone'''
|'''Description'''
|-
|$0000
|$6FFF
|28K
|rowspan=3|Lower
|[[Sprites#SCB1|SCB1]]
|-
|$7000
|$74FF
|rowspan=2|4K
|[[Fix layer|Fix map]]
|-
|$7500
|$7FFF
|[[Fix bankswitching|Extension]]
|-
|$8000
|$81FF
|512
|rowspan=5|Upper
|[[Sprites#SCB2|SCB2]]
|-
|$8200
|$83FF
|512
|[[Sprites#SCB3|SCB3]]
|-
|$8400
|$85FF
|512
|[[Sprites#SCB4|SCB4]]
|-
|$8600
|$867F
|128
|Sprite list for even scanlines
|-
|$8680
|$86FF
|128
|Sprite list for odd scanlines
|-
|$8700
|$87FF
|256
|Unused (free)
|}

==Access timing==

Even if VRAM can be modified even during active display, some timing restrictions have to be met in order to avoid skipping writes or reading incorrect data. This is because the [[LSPC]] can only provide a limited number of access slots for the CPU between the video rendering steps.

SNK imposed minimum waiting times to always be sure that no read or write operation to VRAM will fail:

* After writing the VRAM address, a read will return valid data after 16 CPU cycles or more (>32mclk).
* After writing the VRAM data, a new address can be set after 16 CPU cycles or more (>32mclk).
* After writing the VRAM data, another write can be done after 12 CPU cycles or more (>24mclk).

Note that these restrictions only concern the VRAM access, and not the other LSPC registers.

[[Overclocking|Overclocked]] systems often produce video glitches because games are trying to access VRAM too quickly.

==Speed==

* Lower (slow) VRAM must be 120ns or less (3mclk).
* Upper (fast) VRAM must be 35ns or less (1mclk).

[[Category:Video system]]

[[File:v_rom.jpg|thumb|right|4MiB V ROM]]
The '''V'''(oice ?) ROMs contain the [[ADPCM]] audio samples in [[cartridges]].

In early games, the ADPCM-A and ADPCM-B data was stored in separate V ROMs. Later, the {{Chipname|PCM}} demultiplexer chip was made to allow both types of data to be mixed in the same ROM(s).

The TC5332204 mask ROMs have a similar pinout to the 27C322 EPROMs. The only difference is that they're set to byte mode only: half of the data output pins are unused. Pin 30 (Q15) is used as the address lowest bit.

==Speed==

* V A ROMs minimum speed: any will do (>2µs).
* V B ROMs minimum speed: 250ns (see [[YM2610 bus timing]]).

[[Category:Chips]]
[[Category:Cartridge systems]]

The first $80 bytes of the [[68k memory map]] are swappable between the onboard [[System ROM]] and the cartridge's first [[P ROM]].

When the vector tables are swapped, $00~$7F point to $C00000~$C0007F, and $C00000~$C0007F point to the data in the P ROM (if any).

On startup or reset, the first $80 bytes are those found at $C00000~$C0007F, so that the system always starts by executing the initialisation routine.

Right before starting a game, the cart's ROM is swapped in as well as the [[S ROM]] and [[M1 ROM]].

Registers {{Reg|REG_SWPBIOS}} and {{Reg|REG_SWPROM}} are used for this.

Note: The mapping of the P ROM to $C00000-$C0007F when swapping vectors is not emulated in MAME as of version 0.273.

[[Category:Code]]

[[File:mvs_viddac.jpg|right|thumb|Resistor array forming the video DAC on a [[MV1FZS]].]]

The NeoGeo uses a discrete video '''D'''igital-to-'''A'''nalog '''C'''onverter made of resistors fed by two [[74LS273|74LS273]] latches which store the color value from the [[palette RAM]] and [[74LS05|74LS05]] inverters. This is controlled by either {{Chipname|NEO-B1}}, {{Chipname|NEO-GRC}} or {{Chipname|NEO-GRZ}}.

[[File:aes_viddac.png|right|thumb|Video DAC on a AES board.]]

[[File:aes_viddac_schematic.png]]

Note: The schematic has a typo and shows a 74LS06 instead of [[74LS05|74LS05]] but both can be used.

Each color component has its own set of 7 resistors. 6 of them are used for the actual color value (5 + 1 [[Colors|common bit]]). The last (SHADOW signal) is related to the {{Reg|REG_SHADOW}} and {{Reg|REG_NOSHADOW}} registers ([[system latch]]).

==Arcade==

The output isn't lowered like on the AES. It goes straight to the [[JAMMA connector pinout|JAMMA edge]] as a 0~3.5V signal for the high-impedance inputs on arcade monitors.

==Home==

The output is divided by 2200 / (6800 + 2200) = 4.1 to obtain a ~0.9Vp-p max signal, which feeds the [[video encoder]] for amplification and conversion to composite.

[[Category:Chips]]
[[Category:Video system]]

The video PLL circuit is only present in home consoles, it was added as a way to improve '''composite''' video quality by adjusting the main clock frequency with the color burst frequency.

=Operation=

[[File:Aes_pll.png|center]]

{{Sig|REF|REF}} is generated by {{Chipname|LSPC2-A2}}from the {{Sig|24M|24M}} main clock: Square, 24167829Hz / 384 / 16 = 3933Hz (16 lines)

{{Sig|DIVO|DIVO}} is generated by LSPC2 from {{Sig|DIVI|DIVI}} (color burst frequency, NTSC 3579545Hz): Not square, DIVO is counter's 10th bit (512 DIVI periods low) and reset at 912 (398 DIVI periods high ?) = 3933Hz also.

DIVO and REF are compared to generate the adjustment voltage for the varicap diode.

{{Sig|DIVI|DIVI}} also feeds the [[video encoder]].

&lt;br clear=all>

=First generation=

[[File:aes_pll_board.jpg|thumb|First generation AES main clock + PLL board, with bodge-on-a-bodge technology.]]

It was added during the production of [[NEO-AES board|first generation]] AES consoles as a correction board wired to different locations on the main board.

The divider was made using 74LS161 4-bit counters.

Board's reference is '''PL241S''' ?

&lt;br clear=all>

=Second generation=

[[File:Neogeo_aes_schematics_pal_2-page-011.jpg|thumb|Second revision AES schematics page 11.]]

When SNK made the second generation chipset, the bodge became part of the system with the inclusion of the divider logic in {{Chipname|LSPC2-A2}}.

[[Category:Video system]]

Video encoders are chips used to amplify RGB signals and to generate a composite one to be output to a TV set.

The AES uses a [[CXA1145]], the CD1/2 uses a [[CXA1645]].

[[Category:Chips]]
[[Category:Video system]]

#REDIRECT [[Viewpoint]]

{{GameInfo|right
|en_title=Viewpoint
|jp_title=Viewpoint
|jp_title2=ビューポイント
|developer=Sammy / Aicom
|ngh_id=051
|megcount=74
|tcrf=https://tcrf.net/Viewpoint_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=viewpoin
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG-G2
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=viewpoin
|aes_date=11/12/92
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=25/02/95
}}

Viewpoint is a shoot'em up game made by Sammy Corp., notable for its original and heavily [[YM2610#ADPCM|sample]]-based music, pre-rendered 3D graphics and difficulty.

== Technical features ==

* The game engine achieves a one-way isometric scroll of the entire game field, which contains itself several masking tricks.
* The Sammy logo animation uses the [[68k interrupts#Raster Line Interrupt|RLI interrupt]].

[[Category:Games]]

[[Image:Screencap_visualnovel.png|thumb|Screenshot]]
[[Visual Novel]] is a Neo-Geo CD demo made by trilobit and released at Revision 2016.

==Credits==
* '''Code''' - visy
* '''Music''' - ilmarque
* '''Graphics'''
** bracket
** ZanaGB
** metalisko
** Rafaël Rozendaal
** rubberduck
** visy

==Links==
* [http://www.pouet.net/prod.php?which=67100 Pouet entry]

[[Category:Demos]]

#REDIRECT [[V-Liner]]

{{GameInfo|right
|en_title=Voltage Fighter - Gowcaizer 
|jp_title=Choujin Gakuen Gowcaizer
|jp_title2=超人学園ゴウカイザー
|developer=Technos Japan
|ngh_id=094
|megcount=186
|tcrf=https://tcrf.net/Voltage_Fighter_Gowcaizer_(Neo_Geo)
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=gowcaizr
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA42G-3B
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=gowcaizr
|aes_date=20/10/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=24/11/95
}}

[[Category:Games]]

The [[68k]] is able to wait for data by using wait cycles during bus access. This allows the use of slow, cheaper memories in cartridges and memory cards.

The NeoGeo has wait state generation for 3 [[68k memory map|memory zones]]:

* 000000~0FFFFF: ROM zone ([[P ROM]]) - Configurable, 0 or 1 cycle
* 200000~2FFFFF: PORT zone ([[P ROM]] or special chips) - Configurable, 0, 1, 2 or more cycles
* 800000~BFFFFF: [[Memory card]] - Fixed, 2 cycles

=Cartridge configuration=

Configuration is done by setting the levels of the following [[pinouts|cartridge pins]]. '1' means pulled to 5V, '0' means pulled to ground. All signals are active low.

{|class="wikitable"
!ROMWAIT||ROM zone wait
|-
|1||Full speed
|-
|0||1 cycle
|}

{|class="wikitable"
!PWAIT1||PWAIT0||PORT zone wait
|-
|1||1||Full speed
|-
|1||0||1 cycle
|-
|0||1||2 cycles
|-
|0||0||As long as PDTACK is high
|}

=Use cases=

Some games rely on wait cycles to perform sufficiently spaced [[VRAM]] accesses. Disabling the wait on those cartridges causes the accesses to become too close to each other and results in graphics corruption.

No originally released cartridges are known to use PDTACK.

[[Category:Base system]]

{{GameInfo|right
|en_title=Waku Waku 7
|jp_title=Waku Waku 7
|jp_title2=わくわく7
|developer=Sunsoft
|ngh_id=225
|megcount=259
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=wakuwak7
|mvs_date=1996
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHA256B
|aes_release=y
|aes_release_jp=y
|aes_date=27/12/96
}}

[[Category:Games]]

#REDIRECT [[Waku Waku 7]]

[[File:Doge.jpg|thumb|The watchdog can be physically disabled for troubleshooting purposes by connecting pin {{Sig|DOGE|DOGE}} (watch'''DOG E'''nable, {{Chipname|NEO-B1}} pin 94, J2 jumper on some boards) to ground.]]

The watchdog is an automatic reset system to prevent games from freezing due to a bug or a hardware fault. It's a common feature of arcade hardware and many electronic systems.

On the NeoGeo, it consists of an internal frame counter which resets the whole system if it goes over a certain value. To avoid this, the software needs to regularly reset the counter by writing any value to {{Reg|REG_DIPSW|REG_DIPSW}} (to "kick" the watchdog). [[68k interrupts|VBlank]] routines typically take care of this task, so care has to be taken when the interrupt is disabled.

A constantly resetting system produces the [[click of death]]: a typical clicking sound, giving a clue for solving boot issues.

The NeoGeo CD 2 also has a watchdog timer ?

==Timings==

This isn't verified.

Charles mvstech.txt specifies this:

&lt;pre>
/RESET low          3 244 030 cycles
/RESET high         8 120 860 cycles
Total time         11 364 890 cycles
&lt;/pre>

[[MAME]]'s source says that a 0.128762s long loop '''sometimes''' resets the system.

The counter is clocked by the {{Sig|CHBL|BNKB}} signal.

*3244030 cycles corresponds to 8 [[Framerate|frames]].
*8120860 cycles corresponds to 20 frames (- 7 lines).
*128762µs is 3090288 cycles, which corresponds to about 7.6 frames.

A looping watchdog reset gives a steady 3.7Hz {{Sig|RESET|RESET}} signal, matching the duration of 2 times 8 frames (135.17ms).

==As a security measure==

The watchdog is used as a form of protection on a number of games, previously this was implemented as a specific hack which locked a single address of [[Battery-backed RAM|SRAM]]. If the game doesn't find valid data in the backup ram it will initialize it, then sit in a loop. The watchdog should then reset the system. If the watchdog fails to reset the system the code will continue and set a value in backup ram to indiate that the protection check has failed.

[[Category:Code]]
[[Category:Base system]]

#REDIRECT [[World Heroes]]

#REDIRECT [[World Heroes 2]]

#REDIRECT [[World Heroes 2 Jet]]

#REDIRECT [[World Heroes Perfect]]

{{GameInfo|right
|en_title=Windjammers 
|jp_title=Flying Power Disc
|jp_title2=フライングパワーディスク
|developer=Data East Corporation
|ngh_id=065
|megcount=74
|tcrf=https://tcrf.net/Windjammers
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=wjammers
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROG42G-1
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=wjammers
|aes_date=08/04/94
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=20/01/95
}}

[[Category:Games]]

#REDIRECT [[Windjammers]]

{{GameInfo|right
|en_title=World Heroes
|jp_title=World Heroes
|jp_title2=ワールドヒーローズ
|developer=Alpha Denshi Co.
|ngh_id=053
|megcount=82
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=wh1
|mvs_date=1992
|mvs_pchip=
|mvs_pboard=PROG16
|mvs_cboard=CHA42G-1
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=wh1h
|aes_date=11/09/92
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=17/03/95
}}

[[Category:Games]]

{{GameInfo|right
|en_title=World Heroes 2
|jp_title=World Heroes 2
|jp_title2=ワールドヒーローズ 2
|developer=ADK
|ngh_id=057
|megcount=146
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=wh2
|mvs_date=1993
|mvs_pchip=
|mvs_pboard=PROG_4096_B
|mvs_cboard=CHA_42G_3
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=wh2
|aes_date=04/06/93
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=14/04/95
}}

[[File:wh2earth.gif|frame|All frames]]

World Heroes 2 is one of the only games (with [[Fatal Fury 2]]) that applies exactly the method described in one of [[SNK Patents|SNK's patents]] for animating a rotating sphere or cylinder.

It is used for the short earth animation just before the title screen: a flat texture of the earth's surface is mapped in several horizontal sprite blocks which are positioned and scaled to approximately fit in a circle shape. Each sprite's horizontal shrinking is then adjusted and tiles are remapped when they "go out of the right edge". The resulting different scrolling speeds and tile sizes create the sphere illusion.

Another static sprite block is layed on top as a stencil to mask out the corners of the sprite strips.

&lt;center>
&lt;gallery widths="320" heights="224">
File:wh2earth.png|15 horizontal sprite blocks of 16 sprites each. The vertical shrinking coefficients are fixed.
File:wh2mask.png|Mask layer, the outside of the circle is black, the center is transparent.
&lt;/gallery>
&lt;/center>

[[Category:Games]]

{{GameInfo|right
|en_title=World Heroes 2 Jet
|jp_title=World Heroes 2 Jet
|jp_title2=ワールドヒーローズ 2 JET
|developer=ADK / SNK
|ngh_id=064
|megcount=178
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=wh2j
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=wh2j
|aes_date=10/06/94
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=11/11/94
}}

&lt;center>
&lt;gallery widths="320" heights="224">
File:wh2jBuild.png|World Heroes 2 Jet build dates.

&lt;/gallery>
&lt;/center>


[[Category:Games]]

{{GameInfo|right
|en_title=World Heroes Perfect
|jp_title=World Heroes Perfect
|jp_title2=ワールドヒーローズパーフェクト
|developer=ADK / SNK
|ngh_id=090
|megcount=226
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=whp
|mvs_date=1995
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
|aes_release=y
|aes_release_jp=y
|aes_release_en=y
|aes_romset=whp
|aes_date=30/06/95
|cd_release=y
|cd_release_jp=y
|cd_release_en=y
|cd_date=21/07/95
}}

[[Category:Games]]

{{ChipInfo
|picture=Cd2_ym2610.jpg
|pkg=SDIP64
|manu=yamaha
|date=1990 ?
|gates=
|used_on=All systems
}}

The YM2610 is a sound synthesis and playback chip made by Yamaha, found in all versions of the NeoGeo hardware.
It was later merged with other chips in {{Chipname|NEO-YSA}} and {{Chipname|NEO-YSA2}}, which are used on some versions of the NeoGeo CD, the [[CDZ]], the {{PCB|MV1C}} and on [[ROM-Only boards]].

The YM2610 requires a {{Chipname|YM3016}} external DAC (Digital to Analog Converter) chip for the [[FM]] and [[ADPCM]] sounds. The only direct analog output is for the [[SSG]] mono sounds. Both analog signals are then mixed together before amplification.

The original YM2610 chip gets quite warm during normal operation.

=Parts=
Sound comes from 3 different generators, each having their own channels:

* [[SSG]] (Software Sound Generator): 3 channels
* [[FM]] (Frequency Modulation): 4 channels
* [[ADPCM]] (Sample playback): 7 channels

Providing 14 channels in total.

=Programming=

See [[Z80/YM2610 interface]] and [[YM2610 registers]].

=Pinout=

[[File:Ym2610_pinout.png|right|640px]]

* {{Sig|SDD|SDD*}}: {{Chipname|Z80}} data bus
* {{Sig|RAD|RAD*}}: ADPCM-A multiplexed address/data
* {{Sig|RMPX|RMPX}}: ADPCM-A address/data select
* {{Sig|ROE|ROE}}: APDCM-A data output enable
* {{Sig|RA|RA*}}: ADPCM-A address
* {{Sig|ANA|ANA}}: SSG analog output
* {{Sig|SH1|SH1}}: {{Chipname|YM3016}} latch 1
* {{Sig|SH2|SH2}}: YM3016 latch 2
* {{Sig|OP0|OP0}}: YM3016 serial data
* {{Sig|PA|PA*}}: ADPCM-B address
* {{Sig|POE|POE}}: ADPCM-B data output enable
* {{Sig|PMPX|PMPX}}: ADPCM-B address/data select
* {{Sig|PAD|PAD*}}: ADPCM-B multiplexed address/data
* {{Sig|IRQ|IRQ}}: Interrupt request output
* {{Sig|CS|CS}}: Chip select
* {{Sig|WR|WR}}: Write
* {{Sig|RD|RD}}: Read
* {{Sig|SDA|A*}}: Z80 address bus
* {{Sig|PHI M|PHI M}}: [[Clock]] input
* {{Sig|PHI S|PHI S}}: YM3016 clock output

&lt;br clear="right"/>

=Multiplexed ADPCM bus=

Access to the [[V ROM]]s are made via partly multiplexed buses. See [[YM2610 bus timing]] for more details about the access sequences.

The {{Sig|SDRMPX|SDRMPX}} and {{Sig|SDPMPX|SDPMPX}} signals are used to control latches or the {{Chipname|PCM}} chip in [[cartridges]] to demultiplex address and data. When {{Sig|SDROE|SDROE}} or {{Sig|SDPOE|SDPOE}} goes low, SDRAD* and SDPAD* are tristated so that the V ROMs can output data.

* SDRA* for ADPCM-A

{|class="wikitable"
!rowspan="2"|SDRMPX edge
!colspan="8"|SDRAD*
!colspan="6"|SDRA*
|-
!0
!1
!2
!3
!4
!5
!6
!7
!8
!9
!20
!21
!22
!23
|-
|Low to high
|0
|1
|2
|3
|4
|5
|6
|7
|8
|9
|?
|?
|?
|?
|-
|High to low
|10
|11
|12
|13
|14
|15
|16
|17
|18
|19
|20
|21
|22
|23
|}

* SDPA* for ADPCM-B

{|class="wikitable"
!rowspan="2"|SDPMPX edge
!colspan="8"|SDPAD*
!colspan="6"|SDPA*
|-
!0
!1
!2
!3
!4
!5
!6
!7
!8
!9
!10
!11
|-
|Low to high
|0
|1
|2
|3
|4
|5
|6
|7
|8
|9
|10
|11
|-
|High to low
|12
|13
|14
|15
|16
|17
|18
|19
|20
|21
|22
|23
|}

24 address bits allow for 16MiB max V ROMs (without bankswitching).

=Trivia=

* A lot of games have several recordings of the same instrument playing different notes, rather than having only one sample and change the ADPCM-B playback frequency to vary its pitch. (Trumpet in [[Viewpoint]], electric guitar in [[Super Sidekicks]]). Why ?
* Nazca's [[sound driver]]s are able to use the SSG channels for music playback. (Maybe all can ?)

=Datasheet=

Japanese datasheet: [[http://www.ajworld.net/neogeodev/ym2610am_en.html ajworld.net]]

Incomplete/translated datasheet: [[http://furrtek.free.fr/noclass/neogeo/YM2610.pdf YM2610.pdf]]

[[Category:Chips]]
[[Category:Audio system]]

ASM defines for the [[YM2610 registers]] by [[User:Smkdan|Smkdan]].

&lt;syntaxhighlight>
;AY38910 (SSG)
AY_FINEA	EQU 0
AY_COARSEA	EQU 1
AY_FINEB	EQU 2
AY_COARSEB	EQU 3
AY_FINEC	EQU 4
AY_CAORSEC	EQU 5
AY_NOISE	EQU 6
AY_MIXER	EQU 7
AY_VOLA		EQU 8
AY_VOLB		EQU 9
AY_VOLC		EQU 10
AY_ENVFINE	EQU 11
AY_ENVCOARSE	EQU 12
AY_ENVSHAPE	EQU 13

;ADPCM-A
PA_CTRL		EQU $00
PA_MVOL		EQU $01
PA_CVOL		EQU $08
PA_STARTL	EQU $10
PA_STARTH	EQU $18
PA_ENDL		EQU $20
PA_ENDH		EQU $28

;ADPCM-B
PB_CTRL		EQU $10
PB_LRSEL	EQU $11
PB_STARTL	EQU $12
PB_STARTH	EQU $13
PB_ENDL		EQU $14
PB_ENDH		EQU $15
PB_FREQL	EQU $19
PB_FREQH	EQU $1A
PB_VOL		EQU $1B
PB_FLAG		EQU $1C

;FM
FM_LFO		EQU $22
FM_TIMERMODE	EQU $27
FM_KON		EQU $28
FM_DETMUL	EQU $30
FM_TL		EQU $40
FM_KSAR		EQU $50
FM_AMDR		EQU $60
FM_SR		EQU $70
FM_SLRR		EQU $80
FM_SSG		EQU $90
FM_FNUM		EQU $A0
FM_FBALG	EQU $B0
FM_LRLFO	EQU $B4
&lt;/syntaxhighlight>

[[Category:Code]]

==ADPCM-A bus==
[[File:Adpcm-a_timing.png]]

Access to the [[ADPCM]]-A [[V ROM|ROMs]] for each channel is done sequentialy (in the channels order ?). A ~667kHz clock is derived from the {{Chipname|YM2610}}'s 8MHz [[clock]] by dividing it by 12.

* Period 0: The address LSBs are set
* Period 1: SDRMPX goes high
* Period 2: The address MSBs are set
* Period 3: SDRMPX goes low
* Period 4: SDROE goes low, RAD0~7 becomes hi-z
* Period 5: ROM outputs data (when is it latched ?)

Each period is 1.5us, a complete read cycle is 6 * 1.5 = 9us.

==ADPCM-B bus==
[[File:Adpcm-b_timing.png]]

The access to the ADPCM-B ROMs is done synchronously with a 4MHz clock, derived from the 8MHz clock.

* Period 0: The address LSBs are set
* Period 1: SDPMPX goes high
* Period 2: The address MSBs are set
* Period 3: SDPMPX goes low
* Period 4: SDPOE goes low, PAD0~7 becomes hi-z
* Period 5: ROM outputs data (when is it latched ?)

Each period is 250ns, each complete read cycle is 6 * 250 = 1.5us. Reads can happen every 2 ADPCM-A read at most (gives a 55.5kHz samplerate).

==Cycle relation==

{{Sig|SDROE|SDROE}} and {{Sig|SDPOE|SDPOE}} go low at the same time.

[[Category:Audio system]]

Pages detailing the different YM2610 parts:

* [[SSG]]
* [[FM]]
* [[ADPCM]]
* [[YM2610 timers]]

=Reading=

The only writable registers that can be read back are the SSG ones.
To read register X, write X to Z80 port 4, then read Z80 port 5 (needs clarification).

{| class="regdef"
|'''Z80 port'''
|'''Data'''
|Notes
|-
|$04
|{{8BitRegister|Busy|1|-|5|Timer B flag|1|Timer A flag|1}}
|When a timer expires and IRQ is enabled for that timer, the respective flag is set.
|-
|$05
|{{8BitRegister|SSG register data|8}}
|Attempting to read non-SSG registers will return 0.
|-
|$06
|{{8BitRegister|ADPCM-B end|1|-|1|CH6 end|1|CH5 end|1|CH4 end|1|CH3 end|1|CH2 end|1|CH1 end|1}}
|When a channel has reached the end address and stops, the respective bit is set (unless masked). See [[ADPCM#Status_register|Status register]] for more details.
|-
|$07
|Not implemented
|Always returns $00
|-
|}

=Map=

This is a quick reference table to help visualize the whole chip mapping, check the individual sections below for more complete information.

CHx stands for channel x, OPx for operator x.

Color codes:
{| class="regdef"
|-
  | colspan="3" style="background: #ffe699;" | 
  | [[SSG]]
|-
  | colspan="3" style="background: lightskyblue;" | 
  | [[FM]]
|-
  | colspan="3" style="background: #cc99ff;" | 
  | [[YM2610_timers|TIMERS]]
|-
  | width="20" style="background: #e2efda;" | 
  | width="20" style="background: #c6e0b4;" | 
  | width="20" style="background: #a9d08e;" | 
  | [[ADPCM]]
|-
  | colspan="3" style="background: silver;" | 
  | Unused/Test
|}


{| class="regdef"
|-
  | width="50" | 
  | align="center" colspan="2" | '''Port 0 (Z80 writes to port 4/5)'''
  | align="center" colspan="2" | '''Port 1 (Z80 writes to port 6/7)'''
|-
  | 0x00
  | width="80" rowspan="2" style="background: #ffe699;" | CHA
  | width="480" align="center" style="background: #ffe699;" | {{8BitRegister|Fine tune|8}}
  | align="center" colspan="2" style="background: #c6e0b4;" | {{8BitRegister|Dump|1|-|1|CH6 ON|1|CH5 ON|1|CH4 ON|1|CH3 ON|1|CH2 ON |1|CH1 ON|1}}
|-
  | 0x01
  | align="center" style="background: #ffe699;" | {{8BitRegister|-|4|Coarse tune|4}}
  | align="center" colspan="2" style="background: #c6e0b4;" | {{8BitRegister|-|2|Master volume|6}}
|-
  | 0x02
  | rowspan="2" style="background: #ffe699;" | CHB
  | align="center" style="background: #ffe699;" | {{8BitRegister|Fine tune|8}}
  | align="center" colspan="2" style="background: silver;" | {{8BitRegister|?|8}}
|-
  | 0x03
  | align="center" style="background: #ffe699;" | {{8BitRegister|-|4|Coarse tune|4}}
  | colspan="2" style="background: silver;" | 
|-
  | 0x04
  | rowspan="2" style="background: #ffe699;" | CHC
  | align="center" style="background: #ffe699;" | {{8BitRegister|Fine tune|8}}
  | colspan="2" style="background: silver;" | 
|-
  | 0x05
  | align="center" style="background: #ffe699;" | {{8BitRegister|-|4|Coarse tune|4}}
  | colspan="2" style="background: silver;" | 
|-
  | 0x06
  | style="background: #ffe699;" | Noise
  | align="center" style="background: #ffe699;" | {{8BitRegister|-|3|Noise tune|5}}
  | colspan="2" style="background: silver;" | 
|-
  | 0x07
  | align="center" colspan="2" style="background: #ffe699;" | {{8BitRegister|-|2|/EN noise C|1|/EN noise B|1|/EN noise A|1|/EN tone C|1|/EN tone B|1|/EN tone A|1}}
  | colspan="2" style="background: silver;" | 
|-
  | 0x08
  | style="background: #ffe699;" | CHA
  | align="center" style="background: #ffe699;" | {{8BitRegister|-|3|Mode|1|Volume|4}}
  | width="480" align="center" style="background: #c6e0b4;" rowspan="6" | {{8BitRegister|L|1|R|1|-|1|Channel volume|5}}
  | width="80" style="background: #c6e0b4;" align="right" | CH1
|-
  | 0x09
  | style="background: #ffe699;" | CHB
  | align="center" style="background: #ffe699;" | {{8BitRegister|-|3|Mode|1|Volume|4}}
  | style="background: #c6e0b4;" align="right" | CH2
|-
  | 0x0a
  | style="background: #ffe699;" | CHC
  | align="center" style="background: #ffe699;" | {{8BitRegister|-|3|Mode|1|Volume|4}}
  | style="background: #c6e0b4;" align="right" | CH3
|-
  | 0x0b
  | align="center" colspan="2" style="background: #ffe699;" | {{8BitRegister|Volume envelope period fine tune|8}}
  | style="background: #c6e0b4;" align="right" | CH4
|-
  | 0x0c
  | align="center" colspan="2" style="background: #ffe699;" | {{8BitRegister|Volume envelope period coarse tune|8}}
  | style="background: #c6e0b4;" align="right" | CH5
|-
  | 0x0d
  | align="center" colspan="2" style="background: #ffe699;" | {{8BitRegister|-|4|Volume envelope shape|4}}
  | style="background: #c6e0b4;" align="right" | CH6
|-
  | 0x0e
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x0f
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x10
  | align="center" colspan="2" style="background: #e2efda;" | {{8BitRegister|Start|1|-|2|Repeat|1|-|3|Reset|1|}}
  | align="center" style="background: #c6e0b4;" rowspan="6" | {{8BitRegister|Sample's start address/256 LSB|8}}
  | style="background: #c6e0b4;" align="right" | CH1
|-
  | 0x11
  | align="center" colspan="2" style="background: #e2efda;" | {{8BitRegister|L|1|R|1|-|6|}}
  | style="background: #c6e0b4;" align="right" | CH2
|-
  | 0x12
  | align="center" colspan="2" style="background: #e2efda;" | {{8BitRegister|Sample's start address/256 LSB|8}}
  | style="background: #c6e0b4;" align="right" | CH3
|-
  | 0x13
  | align="center" colspan="2" style="background: #e2efda;" | {{8BitRegister|Sample's start address/256 MSB|8}}
  | style="background: #c6e0b4;" align="right" | CH4
|-
  | 0x14
  | align="center" colspan="2" style="background: #e2efda;" | {{8BitRegister|Sample's stop address/256 LSB|8}}
  | style="background: #c6e0b4;" align="right" | CH5
|-
  | 0x15
  | align="center" colspan="2" style="background: #e2efda;" | {{8BitRegister|Sample's stop address/256 MSB|8}}
  | style="background: #c6e0b4;" align="right" | CH6
|-
  | 0x16
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x17
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x18
  | colspan="2" style="background: silver;" | 
  | align="center" style="background: #c6e0b4;" rowspan="6" | {{8BitRegister|Sample's start address/256 MSB|8}}
  | style="background: #c6e0b4;" align="right" | CH1
|-
  | 0x19
  | align="center" colspan="2" style="background: #e2efda;" | {{8BitRegister|Delta-N (L)|8}}
  | style="background: #c6e0b4;" align="right" | CH2
|-
  | 0x1a
  | align="center" colspan="2" style="background: #e2efda;" | {{8BitRegister|Delta-N (H)|8}}
  | style="background: #c6e0b4;" align="right" | CH3
|-
  | 0x1b
  | align="center" colspan="2" style="background: #e2efda;" | {{8BitRegister|ADPCM-B channel volume|8}}
  | style="background: #c6e0b4;" align="right" | CH4
|-
  | 0x1c
  | align="center" colspan="2" style="background: #a9d08e;" | {{8BitRegister|B|1|-|1|A6|1|A5|1|A4|1|A3|1|A2|1|A1|1|}}
  | style="background: #c6e0b4;" align="right" | CH5
|-
  | 0x1d
  | colspan="2" style="background: silver;" | 
  | style="background: #c6e0b4;" align="right" | CH6
|-
  | 0x1e
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x1f
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x20
  | colspan="2" style="background: silver;" | 
  | align="center" style="background: #c6e0b4;" rowspan="6" | {{8BitRegister|Sample's stop address/256 LSB|8}}
  | style="background: #c6e0b4;" align="right" | CH1
|-
  | 0x21
  | align="center" colspan="2" style="background: silver;" | {{8BitRegister|?|8}}
  | style="background: #c6e0b4;" align="right" | CH2
|-
  | 0x22
  | align="center" colspan="2" style="background: lightskyblue;" | {{8BitRegister|-|4|On|1|Control|3}}
  | style="background: #c6e0b4;" align="right" | CH3
|-
  | 0x23
  | colspan="2" style="background: silver;" | 
  | style="background: #c6e0b4;" align="right" | CH4
|-
  | 0x24
  | align="center" colspan="2" style="background: #cc99ff;" | {{8BitRegister|TA counter load bits MSBs|8}}
  | style="background: #c6e0b4;" align="right" | CH5
|-
  | 0x25
  | align="center" colspan="2" style="background: #cc99ff;" | {{8BitRegister|-|6|TA counter load bits LSBs|2}}
  | style="background: #c6e0b4;" align="right" | CH6
|-
  | 0x26
  | align="center" colspan="2" style="background: #cc99ff;" | {{8BitRegister|TB counter load|8}}
  | colspan="2" style="background: silver;" | 
|-
  | 0x27
  | align="center" colspan="2" style="background: #cc99ff;" | {{8BitRegister|CSM mode|1|2CH mode|1|Flag reset TB|1|Flag reset TA|1|Enable TB IRQ|1|Enable TA IRQ|1|Load TB|1|Load TA|1}}
  | colspan="2" style="background: silver;" | 
|-
  | 0x28
  | align="center" colspan="2" style="background: lightskyblue;" | {{8BitRegister|Slot|4|-|1|Channel|3|}}
  | align="center" style="background: #c6e0b4;" rowspan="6" | {{8BitRegister|Sample's stop address/256 MSB|8}}
  | style="background: #c6e0b4;" align="right" | CH1
|-
  | 0x29
  | colspan="2" style="background: silver;" | 
  | style="background: #c6e0b4;" align="right" | CH2
|-
  | 0x2a
  | colspan="2" style="background: silver;" | 
  | style="background: #c6e0b4;" align="right" | CH3
|-
  | 0x2b
  | colspan="2" style="background: silver;" | 
  | style="background: #c6e0b4;" align="right" | CH4
|-
  | 0x2c
  | colspan="2" style="background: silver;" | 
  | style="background: #c6e0b4;" align="right" | CH5
|-
  | 0x2d
  | colspan="2" style="background: silver;" | 
  | style="background: #c6e0b4;" align="right" | CH6
|-
  | 0x2e
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x2f
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x30
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x31
  | style="background: lightskyblue;" | CH1/OP1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="14" | {{8BitRegister|-|1|DT|3|MUL|4}}
  | style="background: lightskyblue;" align="right" | CH3/OP1
|-
  | 0x32
  | style="background: lightskyblue;" | CH2/OP1
  | style="background: lightskyblue;" align="right" | CH4/OP1
|-
  | 0x33
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x34
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x35
  | style="background: lightskyblue;" | CH1/OP3
  | style="background: lightskyblue;" align="right" | CH3/OP3
|-
  | 0x36
  | style="background: lightskyblue;" | CH2/OP3
  | style="background: lightskyblue;" align="right" | CH4/OP3
|-
  | 0x37
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x38
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x39
  | style="background: lightskyblue;" | CH1/OP2
  | style="background: lightskyblue;" align="right" | CH3/OP2
|-
  | 0x3a
  | style="background: lightskyblue;" | CH2/OP2
  | style="background: lightskyblue;" align="right" | CH4/OP2
|-
  | 0x3b
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x3c
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x3d
  | style="background: lightskyblue;" | CH1/OP4
  | style="background: lightskyblue;" align="right" | CH3/OP4
|-
  | 0x3e
  | style="background: lightskyblue;" | CH2/OP4
  | style="background: lightskyblue;" align="right" | CH4/OP4
|-
  | 0x3f
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x40
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x41
  | style="background: lightskyblue;" | CH1/OP1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="14" | {{8BitRegister|-|1|Total Level|7|}}
  | style="background: lightskyblue;" align="right" | CH3/OP1
|-
  | 0x42
  | style="background: lightskyblue;" | CH2/OP1
  | style="background: lightskyblue;" align="right" | CH4/OP1
|-
  | 0x43
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x44
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x45
  | style="background: lightskyblue;" | CH1/OP3
  | style="background: lightskyblue;" align="right" | CH3/OP3
|-
  | 0x46
  | style="background: lightskyblue;" | CH2/OP3
  | style="background: lightskyblue;" align="right" | CH4/OP3
|-
  | 0x47
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x48
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x49
  | style="background: lightskyblue;" | CH1/OP2
  | style="background: lightskyblue;" align="right" | CH3/OP2
|-
  | 0x4a
  | style="background: lightskyblue;" | CH2/OP2
  | style="background: lightskyblue;" align="right" | CH4/OP2
|-
  | 0x4b
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x4c
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x4d
  | style="background: lightskyblue;" | CH1/OP4
  | style="background: lightskyblue;" align="right" | CH3/OP4
|-
  | 0x4e
  | style="background: lightskyblue;" | CH2/OP4
  | style="background: lightskyblue;" align="right" | CH4/OP4
|-
  | 0x4f
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x50
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x51
  | style="background: lightskyblue;" | CH1/OP1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="14" | {{8BitRegister|KS|2|-|1|AR|5}}
  | style="background: lightskyblue;" align="right" | CH3/OP1
|-
  | 0x52
  | style="background: lightskyblue;" | CH2/OP1
  | style="background: lightskyblue;" align="right" | CH4/OP1
|-
  | 0x53
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x54
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x55
  | style="background: lightskyblue;" | CH1/OP3
  | style="background: lightskyblue;" align="right" | CH3/OP3
|-
  | 0x56
  | style="background: lightskyblue;" | CH2/OP3
  | style="background: lightskyblue;" align="right" | CH4/OP3
|-
  | 0x57
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x58
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x59
  | style="background: lightskyblue;" | CH1/OP2
  | style="background: lightskyblue;" align="right" | CH3/OP2
|-
  | 0x5a
  | style="background: lightskyblue;" | CH2/OP2
  | style="background: lightskyblue;" align="right" | CH4/OP2
|-
  | 0x5b
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x5c
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x5d
  | style="background: lightskyblue;" | CH1/OP4
  | style="background: lightskyblue;" align="right" | CH3/OP4
|-
  | 0x5e
  | style="background: lightskyblue;" | CH2/OP4
  | style="background: lightskyblue;" align="right" | CH4/OP4
|-
  | 0x5f
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x60
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x61
  | style="background: lightskyblue;" | CH1/OP1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="14" | {{8BitRegister|AM|1|-|2|DR|5}}
  | style="background: lightskyblue;" align="right" | CH3/OP1
|-
  | 0x62
  | style="background: lightskyblue;" | CH2/OP1
  | style="background: lightskyblue;" align="right" | CH4/OP1
|-
  | 0x63
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x64
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x65
  | style="background: lightskyblue;" | CH1/OP3
  | style="background: lightskyblue;" align="right" | CH3/OP3
|-
  | 0x66
  | style="background: lightskyblue;" | CH2/OP3
  | style="background: lightskyblue;" align="right" | CH4/OP3
|-
  | 0x67
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x68
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x69
  | style="background: lightskyblue;" | CH1/OP2
  | style="background: lightskyblue;" align="right" | CH3/OP2
|-
  | 0x6a
  | style="background: lightskyblue;" | CH2/OP2
  | style="background: lightskyblue;" align="right" | CH4/OP2
|-
  | 0x6b
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x6c
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x6d
  | style="background: lightskyblue;" | CH1/OP4
  | style="background: lightskyblue;" align="right" | CH3/OP4
|-
  | 0x6e
  | style="background: lightskyblue;" | CH2/OP4
  | style="background: lightskyblue;" align="right" | CH4/OP4
|-
  | 0x6f
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x70
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x71
  | style="background: lightskyblue;" | CH1/OP1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="14" | {{8BitRegister|-|3|SR|5}}
  | style="background: lightskyblue;" align="right" | CH3/OP1
|-
  | 0x72
  | style="background: lightskyblue;" | CH2/OP1
  | style="background: lightskyblue;" align="right" | CH4/OP1
|-
  | 0x73
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x74
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x75
  | style="background: lightskyblue;" | CH1/OP3
  | style="background: lightskyblue;" align="right" | CH3/OP3
|-
  | 0x76
  | style="background: lightskyblue;" | CH2/OP3
  | style="background: lightskyblue;" align="right" | CH4/OP3
|-
  | 0x77
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x78
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x79
  | style="background: lightskyblue;" | CH1/OP2
  | style="background: lightskyblue;" align="right" | CH3/OP2
|-
  | 0x7a
  | style="background: lightskyblue;" | CH2/OP2
  | style="background: lightskyblue;" align="right" | CH4/OP2
|-
  | 0x7b
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x7c
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x7d
  | style="background: lightskyblue;" | CH1/OP4
  | style="background: lightskyblue;" align="right" | CH3/OP4
|-
  | 0x7e
  | style="background: lightskyblue;" | CH2/OP4
  | style="background: lightskyblue;" align="right" | CH4/OP4
|-
  | 0x7f
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x80
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x81
  | style="background: lightskyblue;" | CH1/OP1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="14" | {{8BitRegister|SL|4|RR|4}}
  | style="background: lightskyblue;" align="right" | CH3/OP1
|-
  | 0x82
  | style="background: lightskyblue;" | CH2/OP1
  | style="background: lightskyblue;" align="right" | CH4/OP1
|-
  | 0x83
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x84
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x85
  | style="background: lightskyblue;" | CH1/OP3
  | style="background: lightskyblue;" align="right" | CH3/OP3
|-
  | 0x86
  | style="background: lightskyblue;" | CH2/OP3
  | style="background: lightskyblue;" align="right" | CH4/OP3
|-
  | 0x87
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x88
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x89
  | style="background: lightskyblue;" | CH1/OP2
  | style="background: lightskyblue;" align="right" | CH3/OP2
|-
  | 0x8a
  | style="background: lightskyblue;" | CH2/OP2
  | style="background: lightskyblue;" align="right" | CH4/OP2
|-
  | 0x8b
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x8c
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x8d
  | style="background: lightskyblue;" | CH1/OP4
  | style="background: lightskyblue;" align="right" | CH3/OP4
|-
  | 0x8e
  | style="background: lightskyblue;" | CH2/OP4
  | style="background: lightskyblue;" align="right" | CH4/OP4
|-
  | 0x8f
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x90
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0x91
  | style="background: lightskyblue;" | CH1/OP1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="14" | {{8BitRegister|-|4|SSG-EG|4}}
  | style="background: lightskyblue;" align="right" | CH3/OP1
|-
  | 0x92
  | style="background: lightskyblue;" | CH2/OP1
  | style="background: lightskyblue;" align="right" | CH4/OP1
|-
  | 0x93
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x94
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x95
  | style="background: lightskyblue;" | CH1/OP3
  | style="background: lightskyblue;" align="right" | CH3/OP3
|-
  | 0x96
  | style="background: lightskyblue;" | CH2/OP3
  | style="background: lightskyblue;" align="right" | CH4/OP3
|-
  | 0x97
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x98
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x99
  | style="background: lightskyblue;" | CH1/OP2
  | style="background: lightskyblue;" align="right" | CH3/OP2
|-
  | 0x9a
  | style="background: lightskyblue;" | CH2/OP2
  | style="background: lightskyblue;" align="right" | CH4/OP2
|-
  | 0x9b
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x9c
  | style="background: silver;" | 
  | style="background: silver;" | 
|-
  | 0x9d
  | style="background: lightskyblue;" | CH1/OP4
  | style="background: lightskyblue;" align="right" | CH3/OP4
|-
  | 0x9e
  | style="background: lightskyblue;" | CH2/OP4
  | style="background: lightskyblue;" align="right" | CH4/OP4
|-
  | 0x9f
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xa0
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xa1
  | style="background: lightskyblue;" | CH1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="2" | {{8BitRegister|F-Num 1|8}}
  | style="background: lightskyblue;" align="right" | CH3
|-
  | 0xa2
  | style="background: lightskyblue;" | CH2 /OP4
  | style="background: lightskyblue;" align="right" | CH4
|-
  | 0xa3
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xa4
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xa5
  | style="background: lightskyblue;" | CH1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="2" | {{8BitRegister|-|2|Block|3|F-Num 2|3}}
  | style="background: lightskyblue;" align="right" | CH3
|-
  | 0xa6
  | style="background: lightskyblue;" | CH2 / OP4
  | style="background: lightskyblue;" align="right" | CH4
|-
  | 0xa7
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xa8
  | style="background: lightskyblue;" | OP3
  | align="center" style="background: lightskyblue;" rowspan="3" | {{8BitRegister|2CH * F-Num 1|8}}
  | colspan="2" style="background: silver;" | 
|-
  | 0xa9
  | style="background: lightskyblue;" | OP1
  | colspan="2" style="background: silver;" | 
|-
  | 0xaa
  | style="background: lightskyblue;" | OP2
  | colspan="2" style="background: silver;" | 
|-
  | 0xab
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xac
  | style="background: lightskyblue;" | OP3
  | align="center" style="background: lightskyblue;" rowspan="3" | {{8BitRegister|-|2|2CH * Block|3|2CH * F-Num 2|3}}
  | colspan="2" style="background: silver;" | 
|-
  | 0xad
  | style="background: lightskyblue;" | OP1
  | colspan="2" style="background: silver;" | 
|-
  | 0xae
  | style="background: lightskyblue;" | OP2
  | colspan="2" style="background: silver;" | 
|-
  | 0xaf
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xb0
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xb1
  | style="background: lightskyblue;" | CH1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="2" | {{8BitRegister|-|2|FB|3|ALGO|3}}
  | style="background: lightskyblue;" align="right" | CH3
|-
  | 0xb2
  | style="background: lightskyblue;" | CH2
  | style="background: lightskyblue;" align="right" | CH4
|-
  | 0xb3
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xb4
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xb5
  | style="background: lightskyblue;" | CH1
  | align="center" style="background: lightskyblue;" colspan="2" rowspan="2" | {{8BitRegister|L|1|R|1|AMS|2|-|1|PMS|3}}
  | style="background: lightskyblue;" align="right" | CH3
|-
  | 0xb6
  | style="background: lightskyblue;" | CH2
  | style="background: lightskyblue;" align="right" | CH4
|-
  | 0xb7
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xb8
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xb9
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | '''...'''
  | colspan="4" align="center" style="background: silver;" | '''...'''
|-
  | 0xfd
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xfe
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|-
  | 0xff
  | colspan="2" style="background: silver;" | 
  | colspan="2" style="background: silver;" | 
|}

[[Category:Code]]
[[Category:Audio system]]

The {{Chipname|YM2610}} provides 2 timers called A and B, used to time music playback by triggering [[Z80 interrupts]].

The timer A is 10 bits wide, the timer B is only 8 bits wide.

=Ranges=

* Timer A interval: 72*(1024-value)/4M : 18µs to 18432µs (55.56kHz to 54.25Hz)
* Timer B interval: 1152*(256-value)/4M : 288µs to 73.728ms (3.47kHz to 13.56Hz)
* Smaller value = longer interval !

=Registers=

{| class="regdef"
|'''Address (Z80 port 4)'''
|'''Data (Z80 port 5)'''
|-
|$24
|{{8BitRegister|TA counter load bits MSBs|8}}
|-
|$25
|{{8BitRegister|-|6|TA counter load bits LSBs|2}}
|-
|$26
|{{8BitRegister|TB counter load|8}}
|-
|$27
|{{8BitRegister|CSM mode|1|2CH mode|1|Flag reset TB|1|Flag reset TA|1|Enable TB IRQ|1|Enable TA IRQ|1|Load TB|1|Load TA|1}}
|}

=Operation=

The timers are decremented at regular intervals until they reach 0, at which point an interrupt will be generated (if enabled). The timer which caused the interrupt can be known by reading [[YM2610 registers|port $04]].

When a timer expires, it is automatically reloaded. If interrupts are enabled, care must be taken to clear the appropriate flag(s) so that they can be triggered again.

The actual counters aren't accessible, only their load value can be written.

* Writing 0 to the load bits in register $27 will reset the timer counters to zero.
* Writing 1 to the load bits will copy the respective timer load value to the timer counter. This only works when the counter is at zero.

* Flag reset refers to the same flags that are read from port $04
* 2CH mode allows each of FM channel 2 operators to run at their own frequency.
* CSM mode is for automatic key-on for operators of the second FM channel when timer A expires ?

[[Category:Audio system]]
[[Category:Code]]

[[File:aes_ym3016.jpg|thumb|300px|right|YM3016 found in a AES system.]]

The YM3016 is a floating point, 16bit stereo Digital-to-Analog Converter (DAC) made to work with the {{Chipname|YM2610}}.

Both chips were made separately to avoid parasitic noise.

Datasheets: [[File:YM3016.pdf]] / [[File:YM3016_jp.pdf]]


=Format=

See US [[SNK Patents|patent]] #5021785 https://www.google.com/patents/US5021785

=Pinout=

[[File:Ym3016.png]]

[[File:Ym3016.odg]] Todo: TOBUF is an output.

* SD: Serial Data input from YM2610
* CLK: Serial clock input from YM2610
* FORM: Format selected (binary or 2's complement), always tied to VCC in NeoGeo systems
* SMP1 &amp; SMP2: Alternating clocks for the L/R sample-and-hold circuits, comes from the YM2610
* ICL: ? Always tied to VCC
* CH1 &amp; CH2: Left and right audio outputs
* COM: Common input for both sample-and-hold circuits (L/R demux)
* TOBUF: Output to analog buffer for COM
* RB: Bias voltage output ?

[[Category:Chips]]
[[Category:Audio system]]

__NOTOC__
[[File:yychr.png|400px|thumb|right|Original C++ version of YY-CHR.]]
[[YY-CHR]] is a tile editor which can handle NeoGeo [[sprites|sprite]] and [[fix layer|fix]] tiles with the help of converters like [[NGGTool]]. Two versions of the program exist, the original in C++, and a new version (YY-CHR.NET) using the .NET framework.

==Features==
* 128*128 editing canvas
* Paste from bitmap
* Flip/rotate/shift in 5 different tile sizes
* Color replace
* Zone cut/copy/paste

==Versions==
Both versions are similar, though the .NET version supports a few more formats out of the box.

===YY-CHR (C++)===
The original version of the program runs better in WINE and has a selection tool not found in the .NET version.

===YY-CHR.NET===
The .NET version of the program runs better in Windows 7 compared to the C++ version. A third-party plugin named "NeoFixFormat" ([[File:NeoFixFormat_1.0.zip]]) is available for opening fix tiles without requiring conversion.

==Links==
* [https://w.atwiki.jp/yychr/ YY-CHR @wiki] (Japanese)
* [https://web.archive.org/web/20190329130039/http://www.geocities.jp/yy_6502/ old website] (Japanese, archived)

[[Category:Tools]]
[[Category:Graphics Tools]]

Inventor working for SNK Corp. [[https://en.wikipedia.org/wiki/SNK # SNK Corp.]]
Link to Google patent [[https://patents.google.com/?inventor=Yoshihiko+Hasegawa&amp;assignee=SNK]]

[[Category:People]]

The {{Chipname|Z80}} can access the {{Chipname|YM2610}} through two pair of [[Z80 port map|ports]]. They're usually called Address A, Data A, and Address B, Data B. They're respectively Z80 ports 4, 5, 6 and 7.

* Pair A (Z80 ports 4 and 5) concerns the [[SSG]], [[ADPCM codecs|ADPCM]]-B, and [[FM audio|FM]] channels 1 and 2.
* Pair B (Z80 ports 6 and 7) concerns the ADPCM-A, and FM channels 3 and 4.

See [[YM2610 registers]] for a complete definition of the registers.

The Z80's {{Sig|SDA0|SDA0}} and SDA1 lines are directly connected to the YM2610's A0 and A1 inputs. {{Chipname|NEO-D0}} uses SDA2 to decode the access to the YM2610.

=Timing requirements=

The YM2610 needs a delay between writes, or else they will be skipped. Some [[homebrew software]] produce sound in [[emulators]] but not on the real hardware because of this.

From Japanese datasheet:

* Address write: 17 cycles (8MHz: 2.125us)
* Data write: 83 cycles (8MHz: 10.375us)

Many original [[sound driver]]s use small routines with fixed delays to write to the YM2610:

&lt;pre>
; DE -> YM2610 pair A
; This also works with pair B (ports 6 &amp; 7)
di
ld     a,d
out    ($04),a
; At least 21 T-states here ! (6 NOPs, 5.25us)
ld     a,e
out    ($05),a
; At least 73 T-states here ! (19 NOPs, 18.25us)
ei   
&lt;/pre>

Polling the YM2610's busy flag is also a solution.

[[Category:Audio system]]
[[Category:Code]]

[[File:cd2_z80.jpg|right|thumb|Z80 in a surface mount package, as found on some MVS and CD boards.]]

The Z80 is a 8-bit little-endian CPU designed by Zilog.

It is used in NeoGeo systems as a sub-CPU to handle sound and music playback. It runs at [[clock|4MHz]] and only has access to the {{Chipname|YM2610}}, the {{Chipname|M1 ROM}} (or [[Z80 file]]s), and its [[Z80 RAM|own RAM]]. It communicates with the {{Chipname|68k}} CPU via a [[68k/Z80 communication|single-byte channel]].

Because it doesn't share a RAM area with the 68k CPU like on the Sega Genesis, it can't be used efficiently to offload game computation tasks from the main CPU.

Also see:
* [[Z80 port map]]
* [[Z80 bankswitching]]

[[File:aes_z80.jpg|right|thumb|Z80 in DIP package, as found on AES boards.]]

=Interrupts=

* IRQs (address $38) are triggered by the YM2610 timers, if enabled.
* An NMI (address $66) is triggered when the 68k sends a byte.

=Memory map=

[[File:Z80mmap.png|thumb|Visualization of the Z80's memory map (proportional areas).]]

==Cartridge systems==

{| class="regdef"
|'''Start'''
|'''End'''
|'''Size'''
|'''Description'''
|-
|$0000
|$7FFF
|32KiB
|Static main code bank (start of the [[M1 ROM]])
|-
|$8000
|$BFFF
|16KiB
|Switching window 3
|-
|$C000
|$DFFF
|8KiB
|Switching window 2
|-
|$E000
|$EFFF
|4KiB
|Switching window 1
|-
|$F000
|$F7FF
|2KiB
|Switching window 0
|-
|$F800
|$FFFF
|2KiB
|[[Z80 RAM|Work RAM]]
|}

Having a 16-bit address bus, the {{Chipname|Z80}} CPU allows access to 64KiB of memory at most. In NeoGeo [[cartridges]], the {{Chipname|NEO-ZMC}} or {{Chipname|NEO-ZMC2}} chips provide a way to access more memory for [[M1 ROM]]s up to 4MiB. Four different switchable zones ("windows") are available.

The bank that appear in these windows are configured by '''reading''' from 4 of the Z80's [[Z80 port map|ports]] (see page for explanation).

Bank offsets numbering depend on the window sizes:

* Window 0 counts in 2KiB increments
* Window 1 in 4KiB
* Window 2 in 8KiB
* Window 3 in 16KiB

On cartridge systems, all windows are initialized to 0 (verified on hardware). Many [[sound driver]]s start up by initializing the windows properly like indicated above.

For example, this code simply maps the Z80 $0000~$F7FF address range to M1 ROM $0000~$F7FF linearly, with no gaps.

&lt;pre>
ld    a,$1E
in    a,($08)    ; Set window 0 at $1E*$800 = $F000
ld    a,$0E
in    a,($09)    ; Set window 1 at $E*$1000 = $E000
ld    a,$06
in    a,($0A)    ; Set window 2 at $6*$2000 = $C000
ld    a,$02
in    a,($0B)    ; Set window 3 at $2*$4000 = $8000
&lt;/pre>

===Bank selection===

[[The King of Fighters '97]] does this:

&lt;pre>
; 32KiB bank number in A
rlca
rlca
ld    e,a
ld    d,$00      ; DE = A * 4 (table entry size)
ld    hl,$289C   ; Table address, see below
add   hl,de
ld    a,(hl)
in    a,($08)    ; Set zone 0
inc   hl
ld    a,(hl)
in    a,($09)    ; Set zone 1
inc   hl
ld    a,(hl)
in    a,($0A)    ; Set zone 2
inc   hl
ld    a,(hl)
in    a,($0B)    ; Set zone 3
&lt;/pre>

The table at $289C is used to set the 4 zones like an unique $7800-bytes long one in 32KiB increments, meaning that $800 bytes are wasted at the end of each range (mapped to [[Z80 RAM]]).

&lt;pre>
Data at $289C:

1E 0E 06 02  = F000,  E000,  C000,  8000   "Big bank 0": $8000~ $F7FF   ($F800~ $FFFF  is wasted)
2E 16 0A 04  = 17000, 16000, 14000, 10000  "Big bank 1": $10000~$177FF  ($177FF~$17FFF is wasted)
3E 1E 0E 06  = 1F000, 1E000, 1C000, 18000  "Big bank 2": $18000~$1F7FF  ($1F7FF~$1FFFF is wasted)
4E 26 12 08  = 27000, 26000, 24000, 20000  "Big bank 3": $20000~$277FF  ($277FF~$27FFF is wasted)
5E 2E 16 0A  = 2F000, 2E000, 2C000, 28000  "Big bank 4": $28000~$2F7FF  ($2F7FF~$2FFFF is wasted)
6E 36 1A 0C  = 37000, 36000, 34000, 30000  "Big bank 5": $30000~$377FF  ($377FF~$37FFF is wasted)
7E 3E 1E 0E  = 3F000, 3E000, 3C000, 38000  "Big bank 6": $38000~$3F7FF  ($3F7FF~$3FFFF is wasted)
&lt;/pre>

Note that the game has a 128KiB [[M1 ROM]], but the table is long enough to map up to 256KiB.

==CD systems==

CD systems only have 64KiB of RAM dedicated to the {{Chipname|Z80}}. There's no bankswitching.

It seems that {{Chipname|NEO-SUD}} allows loading [[Z80 file]]s accross the whole range, and locks $0000~$F7FF as read-only to simulate ROM during execution.

=Pinout=

[[File:Z80_pinout.png|640px]]

=Datasheet=

Z8400 datasheet: [[http://www.datasheetcatalog.org/datasheets/restul/285906_DS.pdf]]

[[Category:Chips]]
[[Category:Audio system]]
[[Category:Base system]]

[[File:error_z80.png|thumb|Simple as that.]]

=Causes=

The {{Chipname|68k}} didn't receive a reply to command $01 from the {{Chipname|Z80}} in time. The Z80 doesn't test the [[SM1]] ROM, its [[Z80 RAM|RAM]] nor the {{Chipname|YM2610}} but if any of those components are bad, they can prevent the Z80 from being able to reply which will then cause the error.

=Repair suggestions=

On [[MV1F]] boards, this error seems common due to trace cuts caused by a [[corrosion|leaking battery]]. A few [[trace patching|wires]] can solve the problem.

* Check Z80 +5V supply, reset and [[clock]] signals
* Check connectivity to Z80 work RAM
* Check connectivity to SM1 ROM or cartridge's M1 ROM
* Check {{Chipname|NEO-D0}} Z80 control lines
* Check Z80 data bus at {{Chipname|NEO-C1}}
* ...

Note: Replacement SMT Z80s can be found in some Ti calculators :)

=MV1B=

The {{PCB|MV1B}} board displays this error when no cart inserted because it has no SM1 ROM. '''This is normal'''.

[[Category:Audio system]]
[[Category:Repairs]]

The [[Z80]] CPU has 2KiB of [[RAM_chip|work Ram]], [[Z80 memory map|mapped]] from $F800 to $FFFF. Can't get any simpler !

Speed grade: 150ns. Absolute maximum: 500ns (two 4MHz periods).

[[Category:Audio system]]

Z80 files contains the Z80 code ([[sound driver]], equivalent to the [[M1 ROM]]s in [[:Category:cartridge systems|cartridge systems]].

Offset adresses used for loading Z80 files are divided by 2 (they're on a 8bit bus). 

* Maximum file size: 64KiB ?
* Type code: 3
* Loadable in: {{Chipname|Z80}} RAM
* Banks: 1

[[Category:CD systems]]

=IRQ=

{{Chipname|Z80}} IRQs can be generated by the {{Chipname|YM2610}}'s [[YM2610 timers|timers]], and are mostly used to time music playback.

The vector address is '''$0038'''.

They can be disabled in software (DI/EI) and must be acknowledged via the YM2610.

=NMI=

Non Maskable Interrupts are triggered when the {{Chipname|68k}} sends a [[68k/Z80 communication|sound command]].

The vector address is '''$0066'''.

They can be enabled or disabled through [[Z80 port map|ports $08 and $18]]. They are disabled after a [[reset]].

They are acknowledged by reading [[Z80 port map|port $00]].

[[Category:Audio system]]

Some infos from [[User:kyuusaku]]

The decode mask for '''reading''' ports is always $0C. The one for writes is indicated for each case.

{| class="regdef"
|'''Address'''
|'''Read'''
|'''Write'''
|'''[[Memory_mapped_registers#Address_decode_masks|Decode mask]]'''
|-
|$00
|
*Read sound code from {{Chipname|68k}}
*Acknowledge [[Z80 interrupts|NMI]]
|Clear sound code from 68k to $00
|rowspan="2"|$0C
|-
|$04-$07
|colspan="2"|[[YM2610]] I/O
|-
|$08
|Set [[Z80|window 0]] bank
|rowspan="4"|Enable NMIs
|rowspan="4"|$1C
|-
|$09
|Set window 1 bank
|-
|$0A
|Set window 2 bank
|-
|$0B
|Set window 3 bank
|-
|$0C
|See {{Sig|SDRD1|SDRD1}}
|[[68k/Z80_communication|Reply]] to 68k
|$0C
|-
|$18
|See address $08
|Disable NMIs
|$1C
|}

Note that the [[M1 ROM]] [[Z80|bankswitching]] is done by '''reading''' ports.

SNK used an obscure feature of the Z80: when accessing ports, the top address bus byte is set to register C.

The banks can be chosen by putting the bank number in C, and doing IN A,(port).
This is handled by {{Chipname|NEO-ZMC}} in cartridges.

Some [[sound driver]]s use port $C0 (and others ?) in their code. Since only SDA2 and SDA3 are used for port decoding, port $C0 maps to a mirror of port $00. It's believed to be a remnant of some development tool.

[[Category:Base system]]
[[Category:Audio system]]

[[File:Zbf.jpg|right|thumb|ZBF253D found in a MV4FS.]]
The ZBF253D is a ferrite bead filter used in some boards to prevent electromagnetic interference, attenuate high-frequency signals in  input/output ports and power supply lines.

It is most commonly found in the [[AES hardware|AES]], [[MVS hardware|MVS]] boards that have the [[Pinouts|DA-15]] connector and/or [[MVS_board_connectors_pinouts|control interface connectors]].

However there are cases like the [[MV1FZS|MV1FZS]] where it is used in the [[JAMMA_connector_pinout|player control jamma edge]], in the [[YM2610]] and [[NEO-D0]].

{{GameInfo|right
|en_title=Zed Blade 
|jp_title=Operation Ragnarok
|jp_title2=作戦名ラグナロク
|developer=NMK
|ngh_id=076
|megcount=110
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=zedblade
|mvs_date=1994
|mvs_pchip=
|mvs_pboard=PROGGSC
|mvs_cboard=CHA256
}}

[[Category:Games]]

#REDIRECT [[Zed Blade]]

{{GameInfo|right
|en_title=Zintrick
|jp_title=Oshidashi Zintrix
|jp_title2=
|developer=SNK / ADK
|editor=ADK
|ngh_id=211
|megcount=74
|cd_release=y
|cd_release_jp=y
|cd_date=27/09/96
}}

[[Category:Games]]

{{GameInfo|right
|en_title=Zupapa!
|jp_title=Zupapa!
|jp_title2=ズパパ!
|developer=Face
|ngh_id=070
|megcount=10
|mvs_release=yes
|mvs_release_en=y
|mvs_release_jp=y
|mvs_romset=zupapa
|mvs_date=2001
|mvs_pchip=
|mvs_pboard=PROGBK1
|mvs_cboard=CHAFIO
}}

[[Category:Games]]

#REDIRECT [[Zupapa!]]

